var Kp=Object.create;var cs=Object.defineProperty,Up=Object.defineProperties,_p=Object.getOwnPropertyDescriptor,Yp=Object.getOwnPropertyDescriptors,Zp=Object.getOwnPropertyNames,Xs=Object.getOwnPropertySymbols,Xp=Object.getPrototypeOf,si=Object.prototype.hasOwnProperty,Ya=Object.prototype.propertyIsEnumerable;var oi=(s,e,t)=>e in s?cs(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,S=(s,e)=>{for(var t in e||(e={}))si.call(e,t)&&oi(s,t,e[t]);if(Xs)for(var t of Xs(e))Ya.call(e,t)&&oi(s,t,e[t]);return s},x=(s,e)=>Up(s,Yp(e)),Za=s=>cs(s,"__esModule",{value:!0});var tt=(s,e)=>{var t={};for(var n in s)si.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&Xs)for(var n of Xs(s))e.indexOf(n)<0&&Ya.call(s,n)&&(t[n]=s[n]);return t};var Xa=(s,e)=>{for(var t in e)cs(s,t,{get:e[t],enumerable:!0})},Co=(s,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Zp(e))!si.call(s,o)&&(t||o!=="default")&&cs(s,o,{get:()=>e[o],enumerable:!(n=_p(e,o))||n.enumerable});return s},z=(s,e)=>Co(Za(cs(s!=null?Kp(Xp(s)):{},"default",!e&&s&&s.__esModule?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s),qp=(s=>(e,t)=>s&&s.get(e)||(t=Co(Za({}),e,1),s&&s.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var l=(s,e,t)=>(oi(s,typeof e!="symbol"?e+"":e,t),t);var ce=(s,e,t)=>new Promise((n,o)=>{var r=i=>{try{d(t.next(i))}catch(c){o(c)}},a=i=>{try{d(t.throw(i))}catch(c){o(c)}},d=i=>i.done?n(i.value):Promise.resolve(i.value).then(r,a);d((t=t.apply(s,e)).next())});var Vte={};Xa(Vte,{AlignStyle:()=>Ft,AlignType:()=>ps,Arrow:()=>qo,ColorStyle:()=>sr,DashStyle:()=>gn,Decoration:()=>ms,DistributeType:()=>hs,Draw:()=>Gr,Ellipse:()=>Vr,FlipType:()=>or,FontSize:()=>nl,FontStyle:()=>Eo,Group:()=>Mc,Image:()=>Ec,MoveType:()=>nr,Rectangle:()=>Fr,SessionType:()=>Ge,SizeStyle:()=>gs,Sticky:()=>Cs,StretchType:()=>us,TDAssetType:()=>rr,TDEventHandler:()=>tr,TDExportBackground:()=>Ro,TDExportType:()=>Bo,TDShapeType:()=>Ie,TDStatus:()=>Mt,TDUserStatus:()=>tl,TLDR:()=>v,Text:()=>Pc,Tldraw:()=>Lte,TldrawApp:()=>Ln,Triangle:()=>jr,Video:()=>Bc,getShapeUtil:()=>ca,shapeUtils:()=>En,useFileSystem:()=>el});var Owe=require("@fontsource/caveat-brush"),Fwe=require("@fontsource/crimson-pro"),jwe=require("@fontsource/recursive"),Vwe=require("@fontsource/source-code-pro"),Gwe=require("@fontsource/source-sans-pro"),Op=require("@tldraw/core"),fe=z(require("react")),Fp=require("react-error-boundary"),jp=require("react-intl");var Fe=z(require("@radix-ui/react-context-menu")),it=require("@radix-ui/react-icons"),C=z(require("react")),Ue=require("react-intl");var qs=require("@stitches/react"),{styled:E,createTheme:Jp}=(0,qs.createStitches)({themeMap:S({},qs.defaultThemeMap),theme:{colors:{bounds:"rgba(65, 132, 244, 1.000)",boundsBg:"rgba(65, 132, 244, 0.05)",hover:"#ececec",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#fefefe",panelContrast:"#ffffff",selected:"rgba(66, 133, 244, 1.000)",selectedContrast:"#fefefe",text:"#333333",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",warn:"rgba(255, 100, 100, 1)",canvas:"rgb(248, 249, 250)"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.14)",3:"0px 2px 3px rgba(0, 0, 0, 0.14)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.14)",8:"0px 12px 17px rgba(0, 0, 0, 0.14)",12:"0px 12px 17px rgba(0, 0, 0, 0.14)",24:"0px 24px 38px rgba(0, 0, 0, 0.14)",key:"1px 1px rgba(0,0,0,1)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -8px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -12px rgba(0, 0, 0, 0.12),
        0px 0px 2px 0px rgba(0, 0, 0, 0.08)`},space:{0:"2px",1:"3px",2:"4px",3:"8px",4:"12px",5:"16px",6:"32px",7:"48px"},fontSizes:{0:"10px",1:"12px",2:"13px",3:"16px",4:"18px"},fonts:{ui:'"Recursive", system-ui, sans-serif',body:'"Recursive", system-ui, sans-serif',mono:'"Recursive Mono", monospace'},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{0:"$1"},borderStyles:{},radii:{0:"2px",1:"4px",2:"8px",3:"12px",4:"16px"},zIndices:{},transitions:{}},media:{micro:"(max-width: 370px)",sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{zStrokeWidth:()=>s=>Array.isArray(s)?{strokeWidth:`calc(${s[0]}px / var(--camera-zoom))`}:{strokeWidth:`calc(${s}px / var(--camera-zoom))`}}}),ri=Jp({colors:{bounds:"rgba(38, 150, 255, 1.000)",boundsBg:"rgba(38, 150, 255, 0.05)",hover:"#444A50",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#363D44",panelContrast:"#49555f",selected:"rgba(38, 150, 255, 1.000)",selectedContrast:"#fefefe",text:"#f8f9fa",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",canvas:"#212529"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.24)",3:"0px 2px 3px rgba(0, 0, 0, 0.24)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.24)",8:"0px 12px 17px rgba(0, 0, 0, 0.24)",12:"0px 12px 17px rgba(0, 0, 0, 0.24)",24:"0px 24px 38px rgba(0, 0, 0, 0.24)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
      0px 0px 16px -8px rgba(0, 0, 0, 0.09), 
      0px 0px 16px -12px rgba(0, 0, 0, 0.2)`}});var Pe=E("hr",{height:0,paddingTop:1,width:"calc(100%+8px)",backgroundColor:"$hover",border:"none",margin:"$2 -4px"});var Ot=E("div",{position:"relative",overflow:"hidden",userSelect:"none",display:"flex",flexDirection:"column",zIndex:99997,minWidth:180,pointerEvents:"all",backgroundColor:"$panel",border:"1px solid $panelContrast",boxShadow:"$panel",padding:"$2 $2",borderRadius:"$3",font:"$ui",maxHeight:"100vh",overflowY:"auto",overflowX:"hidden","&::webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none",variants:{size:{small:{minWidth:72}},overflow:{true:{maxHeight:"60vh"}}}});var Ja=require("@radix-ui/react-dropdown-menu"),Js=require("@radix-ui/react-icons"),Jt=z(require("react"));var qa=require("@tldraw/core"),ii=z(require("react"));var Qp=()=>qa.Utils.isDarwin()?"\u2318":"Ctrl";function Do({variant:s,children:e}){return ii.createElement(eu,{variant:s},e.split("").map((t,n)=>ii.createElement("span",{key:n},t.replace("#",Qp()))))}var eu=E("kbd",{marginLeft:"$3",textShadow:"$2",textAlign:"center",fontSize:"$0",fontFamily:"$ui",color:"$text",background:"none",fontWeight:400,gap:"$1",display:"flex",alignItems:"center","& > span":{padding:"$0",borderRadius:"$0",display:"flex",alignItems:"center",justifyContent:"center"},variants:{variant:{tooltip:{"& > span":{color:"$tooltipContrast",background:"$overlayContrast",boxShadow:"$key",width:"20px",height:"20px"}},menu:{}}}});var ft=E("div",{height:"100%",borderRadius:"4px",marginRight:"1px",width:"fit-content",display:"grid",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",color:"currentColor","& svg":{height:16,width:16,strokeWidth:1},"& > *":{gridRow:1,gridColumn:1}});var nt={"@initial":"mobile","@micro":"micro","@sm":"small","@md":"medium","@lg":"large"};var Ve=Jt.forwardRef((p,u)=>{var m=p,{onClick:s,isActive:e=!1,isWarning:t=!1,hasIndicator:n=!1,hasArrow:o=!1,disabled:r=!1,variant:a,kbd:d,children:i}=m,c=tt(m,["onClick","isActive","isWarning","hasIndicator","hasArrow","disabled","variant","kbd","children"]);return Jt.createElement(tu,S({ref:u,bp:nt,isWarning:t,isActive:e,disabled:r,onClick:s,variant:a},c),Jt.createElement(Qa,null,i,d?Jt.createElement(Do,{variant:"menu"},d):void 0,n&&Jt.createElement(Ja.ItemIndicator,{dir:"ltr"},Jt.createElement(ft,null,Jt.createElement(Js.CheckIcon,null))),o&&Jt.createElement(ft,null,Jt.createElement(Js.ChevronRightIcon,null))))}),Qa=E("div",{height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",display:"flex",gap:"$1",flexDirection:"row",alignItems:"center",padding:"0 $3",justifyContent:"space-between",border:"1px solid transparent","& svg":{position:"relative",stroke:"$overlay",strokeWidth:1,zIndex:1},[`& > ${ft}`]:{paddingLeft:"$3"}}),tu=E("button",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",height:32,minHeight:32,outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",margin:0,padding:"0 0","&[data-disabled]":{opacity:.3},"&:disabled":{opacity:.3},[`&:focus:not(:disabled) ${Qa}`]:{backgroundColor:"$hover"},"& a":{textDecoration:"none",color:"$text"},variants:{bp:{mobile:{},small:{}},variant:{styleMenu:{margin:"$1 0 $1 0"},wide:{gridColumn:"1 / span 4"}},size:{icon:{padding:"4px ",width:"auto"}},isWarning:{true:{color:"$warn"}},isActive:{true:{backgroundColor:"$hover"},false:{}}}});var en=z(require("react"));var mn=z(require("@radix-ui/react-tooltip")),Hn=z(require("react"));function Ae({children:s,label:e,kbd:t,id:n,side:o="top"}){return Hn.createElement("span",{id:n},Hn.createElement(mn.Provider,null,Hn.createElement(mn.Root,null,Hn.createElement(mn.Trigger,{dir:"ltr",asChild:!0},Hn.createElement("span",null,s)),Hn.createElement(nu,{dir:"ltr",side:o,sideOffset:8},e,t?Hn.createElement(Do,{variant:"tooltip"},t):null,Hn.createElement(ou,null)))))}var nu=E(mn.Content,{borderRadius:3,padding:"$3 $3 $3 $3",fontSize:"$1",backgroundColor:"$tooltip",color:"$tooltipContrast",boxShadow:"$3",display:"flex",alignItems:"center",fontFamily:"$ui",userSelect:"none"}),ou=E(mn.Arrow,{fill:"$tooltip",margin:"0 8px"});var Po=z(require("react"));function el(){let s=Po.useCallback((r,a)=>ce(this,null,function*(){a(r.fileSystemHandle?"saveFirstTime":"saveAgain",()=>ce(this,null,function*(){try{yield r.saveProject(),r.newProject()}catch(d){}}),()=>ce(this,null,function*(){r.newProject()}),()=>ce(this,null,function*(){}))}),[]),e=Po.useCallback((r,a)=>ce(this,null,function*(){a(r.fileSystemHandle?"saveFirstTime":"saveAgain",()=>ce(this,null,function*(){try{yield r.saveProject(),yield r.openProject()}catch(d){}}),()=>ce(this,null,function*(){r.openProject()}),()=>ce(this,null,function*(){}))}),[]),t=Po.useCallback(r=>{r.saveProject()},[]),n=Po.useCallback(r=>{r.saveProjectAs()},[]),o=Po.useCallback(r=>ce(this,null,function*(){var a;(a=r.openAsset)==null||a.call(r)}),[]);return{onNewProject:s,onSaveProject:t,onSaveProjectAs:n,onOpenProject:e,onOpenMedia:o}}var Mo=z(require("react"));function Qs(){let s=ue(),{openDialog:e}=er(),t=Mo.useCallback(d=>ce(this,null,function*(){var i,c;d&&s.callbacks.onOpenProject&&d.preventDefault(),(c=(i=s.callbacks).onNewProject)==null||c.call(i,s,e)}),[s,e]),n=Mo.useCallback(d=>{var i,c;d&&s.callbacks.onOpenProject&&d.preventDefault(),(c=(i=s.callbacks).onSaveProject)==null||c.call(i,s)},[s]),o=Mo.useCallback(d=>{var i,c;d&&s.callbacks.onOpenProject&&d.preventDefault(),(c=(i=s.callbacks).onSaveProjectAs)==null||c.call(i,s)},[s]),r=Mo.useCallback(d=>ce(this,null,function*(){var i,c;d&&s.callbacks.onOpenProject&&d.preventDefault(),(c=(i=s.callbacks).onOpenProject)==null||c.call(i,s,e)}),[s,e]),a=Mo.useCallback(d=>ce(this,null,function*(){var i,c;d&&s.callbacks.onOpenMedia&&d.preventDefault(),(c=(i=s.callbacks).onOpenMedia)==null||c.call(i,s)}),[s]);return{onNewProject:t,onSaveProject:n,onSaveProjectAs:o,onOpenProject:r,onOpenMedia:a}}var ir=z(require("react")),he=require("react-hotkeys-hook");var tr=class{constructor(){l(this,"onPinchStart");l(this,"onPinchEnd");l(this,"onPinch");l(this,"onKeyDown");l(this,"onKeyUp");l(this,"onPointerMove");l(this,"onPointerUp");l(this,"onPan");l(this,"onZoom");l(this,"onPointerDown");l(this,"onPointCanvas");l(this,"onDoubleClickCanvas");l(this,"onRightPointCanvas");l(this,"onDragCanvas");l(this,"onReleaseCanvas");l(this,"onPointShape");l(this,"onDoubleClickShape");l(this,"onRightPointShape");l(this,"onDragShape");l(this,"onHoverShape");l(this,"onUnhoverShape");l(this,"onReleaseShape");l(this,"onPointBounds");l(this,"onDoubleClickBounds");l(this,"onRightPointBounds");l(this,"onDragBounds");l(this,"onHoverBounds");l(this,"onUnhoverBounds");l(this,"onReleaseBounds");l(this,"onPointBoundsHandle");l(this,"onDoubleClickBoundsHandle");l(this,"onRightPointBoundsHandle");l(this,"onDragBoundsHandle");l(this,"onHoverBoundsHandle");l(this,"onUnhoverBoundsHandle");l(this,"onReleaseBoundsHandle");l(this,"onPointHandle");l(this,"onDoubleClickHandle");l(this,"onRightPointHandle");l(this,"onDragHandle");l(this,"onHoverHandle");l(this,"onUnhoverHandle");l(this,"onReleaseHandle");l(this,"onShapeBlur");l(this,"onShapeClone")}},tl=(o=>(o.Idle="idle",o.Connecting="connecting",o.Connected="connected",o.Disconnected="disconnected",o))(tl||{}),Ge=(p=>(p.Transform="transform",p.Translate="translate",p.TransformSingle="transformSingle",p.Brush="brush",p.Arrow="arrow",p.Draw="draw",p.Erase="erase",p.Rotate="rotate",p.Handle="handle",p.Grid="grid",p.Edit="edit",p))(Ge||{}),Mt=(h=>(h.Idle="idle",h.PointingHandle="pointingHandle",h.PointingBounds="pointingBounds",h.PointingBoundsHandle="pointingBoundsHandle",h.TranslatingLabel="translatingLabel",h.TranslatingHandle="translatingHandle",h.Translating="translating",h.Transforming="transforming",h.Rotating="rotating",h.Pinching="pinching",h.Brushing="brushing",h.Creating="creating",h.EditingText="editing-text",h))(Mt||{}),nr=(o=>(o.Backward="backward",o.Forward="forward",o.ToFront="toFront",o.ToBack="toBack",o))(nr||{}),ps=(a=>(a.Top="top",a.CenterVertical="centerVertical",a.Bottom="bottom",a.Left="left",a.CenterHorizontal="centerHorizontal",a.Right="right",a))(ps||{}),us=(t=>(t.Horizontal="horizontal",t.Vertical="vertical",t))(us||{}),hs=(t=>(t.Horizontal="horizontal",t.Vertical="vertical",t))(hs||{}),or=(t=>(t.Horizontal="horizontal",t.Vertical="vertical",t))(or||{}),Ie=(p=>(p.Sticky="sticky",p.Ellipse="ellipse",p.Rectangle="rectangle",p.Triangle="triangle",p.Draw="draw",p.Arrow="arrow",p.Line="line",p.Text="text",p.Group="group",p.Image="image",p.Video="video",p))(Ie||{}),ms=(e=>(e.Arrow="arrow",e))(ms||{}),sr=(m=>(m.White="white",m.LightGray="lightGray",m.Gray="gray",m.Black="black",m.Green="green",m.Cyan="cyan",m.Blue="blue",m.Indigo="indigo",m.Violet="violet",m.Red="red",m.Orange="orange",m.Yellow="yellow",m))(sr||{}),gs=(n=>(n.Small="small",n.Medium="medium",n.Large="large",n))(gs||{}),gn=(o=>(o.Draw="draw",o.Solid="solid",o.Dashed="dashed",o.Dotted="dotted",o))(gn||{}),nl=(o=>(o.Small="small",o.Medium="medium",o.Large="large",o.ExtraLarge="extraLarge",o))(nl||{}),Ft=(o=>(o.Start="start",o.Middle="middle",o.End="end",o.Justify="justify",o))(Ft||{}),Eo=(o=>(o.Script="script",o.Sans="sans",o.Serif="serif",o.Mono="mono",o))(Eo||{}),rr=(t=>(t.Image="image",t.Video="video",t))(rr||{}),Bo=(r=>(r.PNG="png",r.JPG="jpeg",r.WEBP="webp",r.SVG="svg",r.JSON="json",r))(Bo||{}),Ro=(o=>(o.Transparent="transparent",o.Auto="auto",o.Light="light",o.Dark="dark",o))(Ro||{});function ol(s){let e=ue(),t=ir.useCallback((i=!1)=>{let c=s.current;return i&&(e.isMenuOpen||e.settings.keepStyleMenuOpen)?!0:(c==null||c.focus(),c&&(document.activeElement===c||c.contains(document.activeElement)))},[s]);ir.useEffect(()=>{if(!e)return;let i=p=>{if(!!t(!0)){if(e.readOnly){e.copy(void 0,p);return}e.cut(void 0,p)}},c=p=>{!t(!0)||e.copy(void 0,p)},u=p=>{!t(!0)||e.readOnly||e.paste(void 0,p)};return document.addEventListener("cut",i),document.addEventListener("copy",c),document.addEventListener("paste",u),()=>{document.removeEventListener("cut",i),document.removeEventListener("copy",c),document.removeEventListener("paste",u)}},[e]),(0,he.useHotkeys)("v,1",()=>{!t(!0)||e.selectTool("select")},[e,s.current]),(0,he.useHotkeys)("d,p,2",()=>{!t(!0)||e.selectTool("draw")},void 0,[e]),(0,he.useHotkeys)("e,3",()=>{!t(!0)||e.selectTool("erase")},void 0,[e]),(0,he.useHotkeys)("r,4",()=>{!t(!0)||e.selectTool("rectangle")},void 0,[e]),(0,he.useHotkeys)("o,5",()=>{!t(!0)||e.selectTool("ellipse")},void 0,[e]),(0,he.useHotkeys)("g,6",()=>{!t()||e.selectTool("triangle")},void 0,[e]),(0,he.useHotkeys)("l,7",()=>{!t(!0)||e.selectTool("line")},void 0,[e]),(0,he.useHotkeys)("a,8",()=>{!t(!0)||e.selectTool("arrow")},void 0,[e]),(0,he.useHotkeys)("t,9",()=>{!t(!0)||e.selectTool("text")},void 0,[e]),(0,he.useHotkeys)("s,0",()=>{!t(!0)||e.selectTool("sticky")},void 0,[e]),(0,he.useHotkeys)("ctrl+shift+d,\u2318+shift+d",i=>{!t(!0)||(e.toggleDarkMode(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("ctrl+.,\u2318+.",()=>{!t(!0)||e.toggleFocusMode()},void 0,[e]),(0,he.useHotkeys)("ctrl+shift+g,\u2318+shift+g",()=>{!t(!0)||e.toggleGrid()},void 0,[e]);let{onNewProject:n,onOpenProject:o,onSaveProject:r,onSaveProjectAs:a,onOpenMedia:d}=Qs();(0,he.useHotkeys)("ctrl+n,\u2318+n",i=>{i.preventDefault(),!!t()&&n(i)},void 0,[e]),(0,he.useHotkeys)("ctrl+s,\u2318+s",i=>{!t()||r(i)},void 0,[e]),(0,he.useHotkeys)("ctrl+shift+s,\u2318+shift+s",i=>{!t()||a(i)},void 0,[e]),(0,he.useHotkeys)("ctrl+o,\u2318+o",i=>{!t()||o(i)},void 0,[e]),(0,he.useHotkeys)("ctrl+u,\u2318+u",i=>{!t()||d(i)},void 0,[e]),(0,he.useHotkeys)("\u2318+z,ctrl+z",i=>{i.preventDefault(),!!t(!0)&&(e.session?e.cancelSession():e.undo())},void 0,[e]),(0,he.useHotkeys)("ctrl+shift+z,\u2318+shift+z",()=>{!t(!0)||(e.session?e.cancelSession():e.redo())},void 0,[e]),(0,he.useHotkeys)("\u2318+u,ctrl+u",()=>{!t()||e.undoSelect()},void 0,[e]),(0,he.useHotkeys)("ctrl+shift-u,\u2318+shift+u",()=>{!t()||e.redoSelect()},void 0,[e]),(0,he.useHotkeys)("ctrl+=,\u2318+=,ctrl+num_add,\u2318+num_add",i=>{!t(!0)||(e.zoomIn(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("ctrl+-,\u2318+-,ctrl+num_subtract,\u2318+num_subtract",i=>{!t(!0)||(e.zoomOut(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("shift+0,ctrl+numpad_0,\u2318+numpad_0",()=>{!t(!0)||e.resetZoom()},void 0,[e]),(0,he.useHotkeys)("shift+1",()=>{!t(!0)||e.zoomToFit()},void 0,[e]),(0,he.useHotkeys)("shift+2",()=>{!t(!0)||e.zoomToSelection()},void 0,[e]),(0,he.useHotkeys)("ctrl+d,\u2318+d",i=>{!t()||(e.duplicate(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("shift+h",()=>{!t(!0)||e.flipHorizontal()},void 0,[e]),(0,he.useHotkeys)("shift+v",()=>{!t(!0)||e.flipVertical()},void 0,[e]),(0,he.useHotkeys)("escape",()=>{!t(!0)||e.cancel()},void 0,[e]),(0,he.useHotkeys)("backspace,del",()=>{!t()||e.delete()},void 0,[e]),(0,he.useHotkeys)("\u2318+a,ctrl+a",()=>{!t(!0)||e.selectAll()},void 0,[e]),(0,he.useHotkeys)("up",()=>{!t()||e.nudge([0,-1],!1)},void 0,[e]),(0,he.useHotkeys)("right",()=>{!t()||e.nudge([1,0],!1)},void 0,[e]),(0,he.useHotkeys)("down",()=>{!t()||e.nudge([0,1],!1)},void 0,[e]),(0,he.useHotkeys)("left",()=>{!t()||e.nudge([-1,0],!1)},void 0,[e]),(0,he.useHotkeys)("shift+up",()=>{!t()||e.nudge([0,-1],!0)},void 0,[e]),(0,he.useHotkeys)("shift+right",()=>{!t()||e.nudge([1,0],!0)},void 0,[e]),(0,he.useHotkeys)("shift+down",()=>{!t()||e.nudge([0,1],!0)},void 0,[e]),(0,he.useHotkeys)("shift+left",()=>{!t()||e.nudge([-1,0],!0)},void 0,[e]),(0,he.useHotkeys)("\u2318+shift+l,ctrl+shift+l",()=>{!t()||e.toggleLocked()},void 0,[e]),(0,he.useHotkeys)("\u2318+shift+c,ctrl+shift+c",i=>{!t()||(e.copySvg(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("\u2318+g,ctrl+g",i=>{!t()||(e.group(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("\u2318+shift+g,ctrl+shift+g",i=>{!t()||(e.ungroup(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("[",()=>{!t(!0)||e.moveBackward()},void 0,[e]),(0,he.useHotkeys)("]",()=>{!t(!0)||e.moveForward()},void 0,[e]),(0,he.useHotkeys)("shift+[",()=>{!t(!0)||e.moveToBack()},void 0,[e]),(0,he.useHotkeys)("shift+]",()=>{!t(!0)||e.moveToFront()},void 0,[e]),(0,he.useHotkeys)("ctrl+shift+backspace,\u2318+shift+backspace",i=>{!t()||(e.settings.isDebugMode&&e.resetDocument(),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("alt+command+l,alt+ctrl+l",i=>{!t(!0)||(e.style({textAlign:"start"}),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("alt+command+t,alt+ctrl+t",i=>{!t(!0)||(e.style({textAlign:"middle"}),i.preventDefault())},void 0,[e]),(0,he.useHotkeys)("alt+command+r,alt+ctrl+r",i=>{!t(!0)||(e.style({textAlign:"end"}),i.preventDefault())},void 0,[e])}var fn=z(require("react")),ai=fn.createContext({}),su=()=>{let[s,e]=fn.useState(0);fn.useEffect(()=>e(1))};function ue(){return fn.useContext(ai)}var li=fn.createContext({});function jt(){let s=fn.useContext(li);return su(),s}var Rl=z(require("react"));var ru="\u0627\u0644\u0644\u0648\u0646",iu="\u064A\u0645\u0644\u0623",au="\u0645\u062A\u0642\u0637\u0639",lu="\u062D\u062C\u0645",du="\u062A\u0628\u0642\u0649 \u0645\u0641\u062A\u0648\u062D\u0629",cu="\u0627\u0644\u062E\u0637",pu="\u0645\u062D\u0627\u0630\u0627\u0629",uu="\u0627\u0644\u0623\u0646\u0645\u0627\u0637",hu="\u062A\u0643\u0628\u064A\u0631",mu="\u062A\u0635\u063A\u064A\u0631",gu="\u0625\u0644\u0649",fu="\u0623\u062F\u0648\u0627\u062A",Su="\u0627\u0644\u062A\u062D\u0648\u064A\u0644\u0627\u062A",bu="\u0645\u0644\u0641",Tu="\u062A\u062D\u0631\u064A\u0631",yu="\u0645\u0639\u0627\u064A\u0646\u0629",wu="\u0627\u0644\u062A\u0641\u0636\u064A\u0644\u0627\u062A",xu="\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",vu="\u062E\u0631\u0648\u062C",ku="\u0643\u0646 \u0631\u0627\u0639\u064A\u0627\u064B",Iu="\u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u0627\u0644\u0645\u062D\u062A\u0648\u0649",Cu="\u062A\u0643\u0628\u064A\u0631 \u0644\u0644\u062A\u062D\u062F\u064A\u062F",Du="\u062A\u0643\u0628\u064A\u0631 \u0644\u062A\u0646\u0627\u0633\u0628",Pu="\u062A\u0643\u0628\u064A\u0631 \u0625\u0644\u0649",Mu="\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u062F\u0627\u0643\u0646",Eu="\u0648\u0636\u0639 \u0627\u0644\u062A\u0631\u0643\u064A\u0632",Bu="\u0648\u0636\u0639 \u0627\u0644\u062A\u0635\u062D\u064A\u062D",Ru="\u0627\u0638\u0647\u0631 \u0627\u0644\u0634\u0628\u0643\u0629",Au="\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062F CAD",Lu="\u0627\u0644\u0627\u062D\u062A\u0641\u0627\u0638 \u0628\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0646\u0645\u0637 \u0645\u0641\u062A\u0648\u062D\u0629",Hu="\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0644\u0642\u0637\u0627\u062A \u062F\u0627\u0626\u0645\u064B\u0627",zu="\u062A\u062F\u0648\u064A\u0631 \u0627\u0644\u0645\u0642\u0627\u0628\u0636",Ou="\u0645\u0642\u0627\u0628\u0636 \u0645\u0644\u0632\u0645\u0629",Fu="\u0645\u0642\u0627\u0628\u0636 \u0627\u0633\u062A\u0646\u0633\u0627\u062E",ju="\u0627\u0644\u063A\u0627\u0621",Vu="\u0625\u0639\u0627\u062F\u0629",Gu="\u0642\u0637\u0639",$u="\u0646\u0633\u062D",Nu="\u0644\u0635\u0642",Wu="\u0646\u0633\u062E \u0627\u0644\u0649",Ku="\u0635\u062F\u0631 \u0627\u0644\u0649",Uu="\u0627\u062E\u062A\u0631 \u0627\u0644\u0643\u0644",_u="\u0644\u0627 \u062A\u062E\u062A\u0631 \u0634\u064A\u0621",Yu="\u062D\u0630\u0641",Zu="\u0645\u0634\u0631\u0648\u0639 \u062C\u062F\u064A\u062F",Xu="\u0641\u062A\u062D",qu="\u062D\u0641\u0638",Ju="\u062D\u0641\u0638 \u0628\u0627\u0633\u0645",Qu="\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0648\u0633\u0627\u0626\u0637",eh="\u0625\u0646\u0634\u0627\u0621 \u0635\u0641\u062D\u0629",th="\u0635\u0641\u062D\u0629 \u062C\u062F\u064A\u062F\u0629",nh="\u0627\u0633\u0645 \u0627\u0644\u0635\u0641\u062D\u0629",oh="\u0646\u0633\u062E",sh="\u0627\u0644\u063A\u0627\u0621",rh="\u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u0627\u0644\u062F\u0639\u0648\u0629",ih="\u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u062F\u0639\u0648\u0629 \u0627\u0644\u0642\u0631\u0627\u0621\u0629 \u0641\u0642\u0637",ah="\u0642\u0645 \u0628\u0625\u0646\u0634\u0627\u0621 \u0645\u0634\u0631\u0648\u0639 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u0627\u0639\u0628\u064A\u0646",lh="\u0646\u0633\u062E \u0625\u0644\u0649 \u0645\u0634\u0631\u0648\u0639 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u0627\u0639\u0628\u064A\u0646",dh="\u0627\u062E\u062A\u0631",ch="\u0645\u0645\u062D\u0627\u0629",ph="\u0631\u0633\u0645",uh="\u0633\u0647\u0645",hh="\u0646\u0635",mh="\u0644\u0627\u0635\u0642",gh="\u0645\u0631\u0628\u0639",fh="\u0628\u064A\u0636\u0627\u0648\u064A",Sh="\u0645\u062B\u0644\u062B",bh="\u062E\u0637",Th="\u062F\u0648\u0651\u0631",yh="\u0642\u0641\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0628\u0639\u0627\u062F",wh="\u0641\u062A\u062D \u0642\u0641\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0628\u0639\u0627\u062F",xh="\u062C\u0645\u0651\u0639",vh="\u0641\u0643 \u0627\u0644\u062A\u062C\u0645\u0639",kh="\u0627\u0646\u062A\u0642\u0644 \u0625\u0644\u0649 \u0627\u0644\u062E\u0644\u0641",Ih="\u062A\u062D\u0631\u064A\u0643 \u0644\u0644\u062E\u0644\u0641",Ch="\u062A\u062D\u0631\u064A\u0643 \u0644\u0644\u0623\u0645\u0627\u0645",Dh="\u062A\u062D\u0631\u0643 \u0644\u0644\u0623\u0645\u0627\u0645",Ph="\u0625\u0639\u0627\u062F\u0629 \u0636\u0628\u0637 \u0627\u0644\u0632\u0627\u0648\u064A\u0629",Mh="\u0642\u0641\u0644",Eh="\u0627\u0644\u063A\u0627\u0621 \u0627\u0644\u0642\u0641\u0644",Bh="\u0627\u0646\u0642\u0644 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062D\u0629",Rh="\u0627\u0646\u0639\u0643\u0627\u0633 \u0623\u0641\u0642\u064A",Ah="\u0627\u0646\u0639\u0643\u0627\u0633 \u0639\u0645\u0648\u062F\u064A",Lh="\u062D\u0631\u0651\u0643",Hh="\u0644\u0644\u0627\u0645\u0627\u0645",zh="\u0644\u0644\u062E\u0644\u0641",Oh="\u0644\u0644\u0648\u0631\u0627\u0621",Fh="\u062E\u0644\u0641",jh="\u0644\u063A\u0629",Vh="\u0644\u0644\u0645\u0632\u064A\u062F",Gh="\u0645\u0648\u0642\u0639 \u0627\u0644\u0627\u062F\u0648\u0627\u062A",$h="\u0627\u0633\u0641\u0644",Nh="\u064A\u0633\u0627\u0631",Wh="\u064A\u0645\u064A\u0646",Kh="\u0623\u0639\u0644\u0649",Uh="\u0635\u0641\u062D\u0629",_h="\u0627\u062E\u062A\u0635\u0627\u0631\u0627\u062A \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0641\u0627\u062A\u064A\u062D",Yh="\u0628\u062D\u062B",Zh="{dots}\u062A\u062D\u0645\u064A\u0644 ",Xh="\u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u062E\u0644\u0641\u064A\u0629",qh="\u0634\u0640\u0641\u0627\u0641",Jh="\u0630\u0627\u062A\u064A",Qh="\u062E\u0641\u064A\u0641",em="\u063A\u0627\u0645\u0642",tm="\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0645\u0634\u0631\u0648\u0639\u061F",nm="\u0647\u0644 \u062A\u0631\u064A\u062F \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0645\u0634\u0631\u0648\u0639\u061F",om="\u0625\u0644\u063A\u0627\u0621",sm="\u0644\u0627",rm="\u0646\u0639\u0645",im="\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0644\u0641",am="\u0635\u0648\u0631\u0629",lm="\u0635\u0641\u0651 \u0644\u0644\u064A\u0633\u0627\u0631",dm="\u0635\u0641\u0651 \u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0623\u0641\u0642\u064A \u0644\u0644\u0648\u0633\u0637",cm="\u0635\u0641\u0651 \u0644\u0644\u064A\u0645\u064A\u0646",pm="\u0635\u0641\u0651 \u0644\u0644\u0623\u0639\u0644\u0649",um="\u0635\u0641\u0651 \u0627\u0644\u0645\u062D\u0648\u0631 \u0627\u0644\u0639\u0645\u0648\u062F\u064A \u0644\u0644\u0648\u0633\u0637",hm="\u0635\u0641\u0651 \u0644\u0644\u0623\u0633\u0641\u0644",mm="\u062A\u0648\u0632\u064A\u0639 \u0623\u0641\u0642\u064A",gm="\u062A\u0648\u0632\u064A\u0639 \u0639\u0645\u0648\u062F\u064A",fm="\u062A\u0645\u062F\u064A\u062F \u0623\u0641\u0642\u064A",Sm="\u062A\u0645\u062F\u064A\u062F \u0639\u0645\u0648\u062F\u064A",sl={"style.menu.color":ru,"style.menu.fill":iu,"style.menu.dash":au,"style.menu.size":lu,"style.menu.keep.open":du,"style.menu.font":cu,"style.menu.align":pu,styles:uu,"zoom.in":hu,"zoom.out":mu,to:gu,"menu.tools":fu,"menu.transform":Su,"menu.file":bu,"menu.edit":Tu,"menu.view":yu,"menu.preferences":wu,"menu.sign.in":xu,"menu.sign.out":vu,"become.a.sponsor":ku,"zoom.to.content":Iu,"zoom.to.selection":Cu,"zoom.to.fit":Du,"zoom.to":Pu,"preferences.dark.mode":Mu,"preferences.focus.mode":Eu,"preferences.debug.mode":Bu,"preferences.show.grid":Ru,"preferences.use.cad.selection":Au,"preferences.keep.stylemenu.open":Lu,"preferences.always.show.snaps":Hu,"preferences.rotate.handles":zu,"preferences.binding.handles":Ou,"preferences.clone.handles":Fu,undo:ju,redo:Vu,cut:Gu,copy:$u,paste:Nu,"copy.as":Wu,"export.as":Ku,"select.all":Uu,"select.none":_u,delete:Yu,"new.project":Zu,open:Xu,save:qu,"save.as":Ju,"upload.media":Qu,"create.page":eh,"new.page":th,"page.name":nh,duplicate:oh,cancel:sh,"copy.invite.link":rh,"copy.readonly.link":ih,"create.multiplayer.project":ah,"copy.multiplayer.project":lh,select:dh,eraser:ch,draw:ph,arrow:uh,text:hh,sticky:mh,rectangle:gh,ellipse:fh,triangle:Sh,line:bh,rotate:Th,"lock.aspect.ratio":yh,"unlock.aspect.ratio":wh,group:xh,ungroup:vh,"move.to.back":kh,"move.backward":Ih,"move.forward":Ch,"move.to.front":Dh,"reset.angle":Ph,lock:Mh,unlock:Eh,"move.to.page":Bh,"flip.horizontal":Rh,"flip.vertical":Ah,move:Lh,"to.front":Hh,forward:zh,backward:Oh,back:Fh,language:jh,"translation.link":Vh,"dock.position":Gh,bottom:$h,left:Nh,right:Wh,top:Kh,page:Uh,"keyboard.shortcuts":_h,search:Yh,loading:Zh,"export.background":Xh,transparent:qh,auto:Jh,light:Qh,dark:em,"dialog.save.firsttime":tm,"dialog.save.again":nm,"dialog.cancel":om,"dialog.no":sm,"dialog.yes":rm,"enter.file.name":im,image:am,"align.left":lm,"align.center.x":dm,"align.right":cm,"align.top":pm,"align.center.y":um,"align.bottom":hm,"distribute.x":mm,"distribute.y":gm,"stretch.x":fm,"stretch.y":Sm};var bm="Farve",Tm="Fyld",ym="Streg",wm="St\xF8rrelse",xm="Hold \xE5ben",vm="Skrifttype",km="Juster",Im="Format",Cm="Zoom ind",Dm="Zoom ud",Pm="til",Mm="V\xE6rkt\xF8jer",Em="Transformer",Bm="Fil",Rm="Rediger",Am="Vis",Lm="Indstillinger",Hm="Log ind",zm="Log ud",Om="Bliv sponsor",Fm="Zoom til valgte",jm="Zoom til l\xE6rred",Vm="Zoom til",Gm="Zoom til indhold",$m="M\xF8rkt udseende",Nm="Fokus tilstand",Wm="Debug tilstand",Km="Vis net",Um="Brug CAD udv\xE6lgelse",_m="Hold formatmenuen \xE5ben",Ym="Vis altid snaps",Zm="Roteringsh\xE5ndtag",Xm="Bindingsh\xE5ndtag",qm="Kloningsh\xE5ndtag",Jm="Fortryd",Qm="Gentag",eg="Klip",tg="Kopier",ng="Inds\xE6t",og="Kopier som",sg="Eksporter som",rg="V\xE6lg alt",ig="Frav\xE6lg alt",ag="Slet",lg="Nyt projekt",dg="\xC5ben",cg="Gem",pg="Gem som",ug="Upload medie",hg="Opret side",mg="Ny side",gg="Sidenavn",fg="Dupliker",Sg="Fortryd",bg="Kopier invitationslink",Tg="Opret multiplayer projekt",yg="Kopier til multiplayer projekt",wg="V\xE6lg",xg="Viskel\xE6der",vg="Tegn",kg="Pil",Ig="Tekst",Cg="Note",Dg="Rektangel",Pg="Ellipse",Mg="Trekant",Eg="Linje",Bg="Roter",Rg="L\xE5s billedformat",Ag="Frig\xF8r billedformat",Lg="Grupper",Hg="Opdel gruppe",zg="Placer bagerst",Og="Flyt tilbage",Fg="Flyt frem",jg="L\xE6g forrest",Vg="Nulstil vinkel",Gg="L\xE5s",$g="L\xE5s op",Ng="Flyt til side",Wg="Vend vandret",Kg="Vend lodret",Ug="Flyt",_g="Forrest",Yg="Frem",Zg="Tilbage",Xg="Bagerst",qg="Sprog",Jg="Justering nederst",Qg="Vandret justering centreret",ef="Lodret justering centreret",tf="Juster / distribuer",nf="Justering til venstre",of="Justering til h\xF8jre",sf="Justering \xF8verst",rf="Kopier skrivebeskyttet link",af="Vil du gemme \xE6ndringerne til dit projekt?",lf="Vil du gemme dit projekt?",df="Ja",cf="Nej",pf="Fortryd",uf="Skriv filnavn",hf="Vandret distribuering",mf="Lodret distribuering",gf="Placering af v\xE6rkt\xF8jslinje",ff="Nederst",Sf="Venstre",bf="H\xF8jre",Tf="\xD8verst",yf="Baggrund ved eksport",wf="Automatisk",xf="Lys",vf="M\xF8rk",kf="Billede",If="Tastaturgenveje",Cf="Indl\xE6ser",Df="Side",Pf="S\xF8g",Mf="Str\xE6k vandret",Ef="Str\xE6k lodret",Bf="L\xE6r mere",Rf="Gennemsigtig",rl={"style.menu.color":bm,"style.menu.fill":Tm,"style.menu.dash":ym,"style.menu.size":wm,"style.menu.keep.open":xm,"style.menu.font":vm,"style.menu.align":km,styles:Im,"zoom.in":Cm,"zoom.out":Dm,to:Pm,"menu.tools":Mm,"menu.transform":Em,"menu.file":Bm,"menu.edit":Rm,"menu.view":Am,"menu.preferences":Lm,"menu.sign.in":Hm,"menu.sign.out":zm,"become.a.sponsor":Om,"zoom.to.selection":Fm,"zoom.to.fit":jm,"zoom.to":Vm,"zoom.to.content":Gm,"preferences.dark.mode":$m,"preferences.focus.mode":Nm,"preferences.debug.mode":Wm,"preferences.show.grid":Km,"preferences.use.cad.selection":Um,"preferences.keep.stylemenu.open":_m,"preferences.always.show.snaps":Ym,"preferences.rotate.handles":Zm,"preferences.binding.handles":Xm,"preferences.clone.handles":qm,undo:Jm,redo:Qm,cut:eg,copy:tg,paste:ng,"copy.as":og,"export.as":sg,"select.all":rg,"select.none":ig,delete:ag,"new.project":lg,open:dg,save:cg,"save.as":pg,"upload.media":ug,"create.page":hg,"new.page":mg,"page.name":gg,duplicate:fg,cancel:Sg,"copy.invite.link":bg,"create.multiplayer.project":Tg,"copy.multiplayer.project":yg,select:wg,eraser:xg,draw:vg,arrow:kg,text:Ig,sticky:Cg,rectangle:Dg,ellipse:Pg,triangle:Mg,line:Eg,rotate:Bg,"lock.aspect.ratio":Rg,"unlock.aspect.ratio":Ag,group:Lg,ungroup:Hg,"move.to.back":zg,"move.backward":Og,"move.forward":Fg,"move.to.front":jg,"reset.angle":Vg,lock:Gg,unlock:$g,"move.to.page":Ng,"flip.horizontal":Wg,"flip.vertical":Kg,move:Ug,"to.front":_g,forward:Yg,backward:Zg,back:Xg,language:qg,"align.bottom":Jg,"align.center.x":Qg,"align.center.y":ef,"align.distribute":tf,"align.left":nf,"align.right":of,"align.top":sf,"copy.readonly.link":rf,"dialog.save.again":af,"dialog.save.firsttime":lf,"dialog.yes":df,"dialog.no":cf,"dialog.cancel":pf,"enter.file.name":uf,"distribute.x":hf,"distribute.y":mf,"dock.position":gf,bottom:ff,left:Sf,right:bf,top:Tf,"export.background":yf,auto:wf,light:xf,dark:vf,image:kf,"keyboard.shortcuts":If,loading:Cf,page:Df,search:Pf,"stretch.x":Mf,"stretch.y":Ef,"translation.link":Bf,transparent:Rf};var Af="Farbe",Lf="F\xFCllen",Hf="Strich",zf="Gr\xF6\xDFe",Of="Offen halten",Ff="Schriftart",jf="Ausrichten",Vf="Stile",Gf="Heranzoomen",$f="Herauszoomen",Nf="zu",Wf="Datei",Kf="Bearbeiten",Uf="Ansicht",_f="Pr\xE4ferenzen",Yf="Einloggen",Zf="Ausloggen",Xf="Sponsor werden",qf="Zur Auswahl zoomen",Jf="Zoom anpassen",Qf="Zoomen nach",eS="Dunkler Modus",tS="Fokus Modus",nS="Debug Modus",oS="Gitter anzeigen",sS="CAD Auswahl verwenden",rS="Stilmen\xFC offen halten",iS="Hilfslinien immer anzeigen",aS="Rotiergriffe",lS="Bindegriffe",dS="Klongriffe",cS="R\xFCckg\xE4ngig machen",pS="Wiederherstellen",uS="Ausschneiden",hS="Kopieren",mS="Einf\xFCgen",gS="Kopieren als",fS="Exportieren als",SS="Alles ausw\xE4hlen",bS="Nichts ausw\xE4hlen",TS="L\xF6schen",yS="Neues Projekt",wS="\xD6ffnen",xS="Speichern",vS="Speichern als",kS="Medien hochladen",IS="Seite erstellen",CS="Neue Seite",DS="Seitenname",PS="Duplizieren",MS="Abbrechen",ES="Einladungslink kopieren",BS="Mehrspielerprojekt kreieren",RS="In Mehrspielerprojekt kopieren",AS="Ausw\xE4hlen",LS="Radierer",HS="Malen",zS="Pfeil",OS="Text",FS="Notiz",jS="Rechteck",VS="Ellipse",GS="Dreieck",$S="Linie",NS="Drehen",WS="Seitenverh\xE4ltnis sperren",KS="Seitenverh\xE4ltnis entsperren",US="Gruppieren",_S="Gruppierung aufheben",YS="Nach Hinten verschieben",ZS="R\xFCckw\xE4rts schieben",XS="Vorw\xE4rts schieben",qS="Nach Vorne verschieben",JS="Winkel zur\xFCcksetzen",QS="Sperren",eb="Entsperren",tb="Zu Seite verschieben",nb="Horizontal spiegeln",ob="Vertikal spiegeln",sb="Verschieben",rb="Nach Vorne",ib="Vorw\xE4rts",ab="R\xFCckw\xE4rts",lb="Hinten",db="Sprache",il={"style.menu.color":Af,"style.menu.fill":Lf,"style.menu.dash":Hf,"style.menu.size":zf,"style.menu.keep.open":Of,"style.menu.font":Ff,"style.menu.align":jf,styles:Vf,"zoom.in":Gf,"zoom.out":$f,to:Nf,"menu.file":Wf,"menu.edit":Kf,"menu.view":Uf,"menu.preferences":_f,"menu.sign.in":Yf,"menu.sign.out":Zf,"become.a.sponsor":Xf,"zoom.to.selection":qf,"zoom.to.fit":Jf,"zoom.to":Qf,"preferences.dark.mode":eS,"preferences.focus.mode":tS,"preferences.debug.mode":nS,"preferences.show.grid":oS,"preferences.use.cad.selection":sS,"preferences.keep.stylemenu.open":rS,"preferences.always.show.snaps":iS,"preferences.rotate.handles":aS,"preferences.binding.handles":lS,"preferences.clone.handles":dS,undo:cS,redo:pS,cut:uS,copy:hS,paste:mS,"copy.as":gS,"export.as":fS,"select.all":SS,"select.none":bS,delete:TS,"new.project":yS,open:wS,save:xS,"save.as":vS,"upload.media":kS,"create.page":IS,"new.page":CS,"page.name":DS,duplicate:PS,cancel:MS,"copy.invite.link":ES,"create.multiplayer.project":BS,"copy.multiplayer.project":RS,select:AS,eraser:LS,draw:HS,arrow:zS,text:OS,sticky:FS,rectangle:jS,ellipse:VS,triangle:GS,line:$S,rotate:NS,"lock.aspect.ratio":WS,"unlock.aspect.ratio":KS,group:US,ungroup:_S,"move.to.back":YS,"move.backward":ZS,"move.forward":XS,"move.to.front":qS,"reset.angle":JS,lock:QS,unlock:eb,"move.to.page":tb,"flip.horizontal":nb,"flip.vertical":ob,move:sb,"to.front":rb,forward:ib,backward:ab,back:lb,language:db};var al={};var pb="Color",ub="Relleno",hb="L\xEDnea",mb="Tama\xF1o",gb="Mantener abierto",fb="Fuente",Sb="Alineaci\xF3n",bb="Estilos",Tb="Acercar",yb="Alejar",wb="A",xb="Archivo",vb="Editar",kb="Ver",Ib="Preferencias",Cb="Iniciar sesi\xF3n",Db="Cerrar sesi\xF3n",Pb="Convi\xE9rtete en patrocinador",Mb="Acercar al contenido",Eb="Acercar a la selecci\xF3n",Bb="Ajustar a la ventana",Rb="Acercar a",Ab="Modo oscuro",Lb="Modo concentraci\xF3n",Hb="Modo depuraci\xF3n",zb="Mostrar cuadr\xEDcula",Ob="Usar selecci\xF3n CAD",Fb="Mantener men\xFA de estilos abierto",jb="Mostrar puntos de ajuste",Vb="Control de rotaci\xF3n",Gb="Control de vinculaci\xF3n",$b="Control de clonaci\xF3n",Nb="Deshacer",Wb="Rehacer",Kb="Cortar",Ub="Copiar",_b="Pegar",Yb="Copiar como",Zb="Exportar como",Xb="Selecionar todo",qb="Selecionar nada",Jb="Borrar",Qb="Nuevo Proyecto",eT="Abrir",tT="Guardar",nT="Guardar como",oT="Subir medios",sT="Crear p\xE1gina",rT="Nueva p\xE1gina",iT="Nombre de p\xE1gina",aT="Duplicar",lT="Cancelar",dT="Copiar invitaci\xF3n",cT="Copiar invitaci\xF3n (solo lectura)",pT="Crear proyecto multijugador",uT="Copiar proyecto multijugador",hT="Seleccionar",mT="Borrador",gT="Dibujar",fT="Flecha",ST="Texto",bT="Pegatina",TT="Rect\xE1ngulo",yT="Elipse",wT="Tri\xE1ngulo",xT="L\xEDnea",vT="Rotar",kT="Bloquear relaci\xF3n de aspecto",IT="Desbloquear relaci\xF3n de aspecto",CT="Agrupar",DT="Desagrupar",PT="Mover al fondo",MT="Mover atr\xE1s",ET="Mover adelante",BT="Mover al frente",RT="Restablecer \xE1ngulo",AT="Bloquear",LT="Desbloquear",HT="Mover a p\xE1gina",zT="Voltear horizontalmente",OT="Voltear verticalmente",FT="Mover",jT="Al frente",VT="Adelante",GT="Atr\xE1s",$T="Fondo",NT="Idioma",WT="Saber m\xE1s",KT="Posici\xF3n del dock",UT="Abajo",_T="Atajos de teclado",YT="Cargando{dots}",ZT="Izquierda",XT="Derecha",qT="Arriba",JT="Buscar",QT="P\xE1gina",ey="Imagen",ll={"style.menu.color":pb,"style.menu.fill":ub,"style.menu.dash":hb,"style.menu.size":mb,"style.menu.keep.open":gb,"style.menu.font":fb,"style.menu.align":Sb,styles:bb,"zoom.in":Tb,"zoom.out":yb,to:wb,"menu.file":xb,"menu.edit":vb,"menu.view":kb,"menu.preferences":Ib,"menu.sign.in":Cb,"menu.sign.out":Db,"become.a.sponsor":Pb,"zoom.to.content":Mb,"zoom.to.selection":Eb,"zoom.to.fit":Bb,"zoom.to":Rb,"preferences.dark.mode":Ab,"preferences.focus.mode":Lb,"preferences.debug.mode":Hb,"preferences.show.grid":zb,"preferences.use.cad.selection":Ob,"preferences.keep.stylemenu.open":Fb,"preferences.always.show.snaps":jb,"preferences.rotate.handles":Vb,"preferences.binding.handles":Gb,"preferences.clone.handles":$b,undo:Nb,redo:Wb,cut:Kb,copy:Ub,paste:_b,"copy.as":Yb,"export.as":Zb,"select.all":Xb,"select.none":qb,delete:Jb,"new.project":Qb,open:eT,save:tT,"save.as":nT,"upload.media":oT,"create.page":sT,"new.page":rT,"page.name":iT,duplicate:aT,cancel:lT,"copy.invite.link":dT,"copy.readonly.link":cT,"create.multiplayer.project":pT,"copy.multiplayer.project":uT,select:hT,eraser:mT,draw:gT,arrow:fT,text:ST,sticky:bT,rectangle:TT,ellipse:yT,triangle:wT,line:xT,rotate:vT,"lock.aspect.ratio":kT,"unlock.aspect.ratio":IT,group:CT,ungroup:DT,"move.to.back":PT,"move.backward":MT,"move.forward":ET,"move.to.front":BT,"reset.angle":RT,lock:AT,unlock:LT,"move.to.page":HT,"flip.horizontal":zT,"flip.vertical":OT,move:FT,"to.front":jT,forward:VT,backward:GT,back:$T,language:NT,"translation.link":WT,"dock.position":KT,bottom:UT,"keyboard.shortcuts":_T,loading:YT,left:ZT,right:XT,top:qT,search:JT,page:QT,image:ey};var ty="\u0631\u0646\u06AF",ny="\u062A\u0648\u067E\u064F\u0631",oy="\u062E\u0637\u200C \u0686\u06CC\u0646",sy="\u0627\u0646\u062F\u0627\u0632\u0647",ry="\u0628\u0627\u0632 \u0628\u0627\u0634",iy="\u0641\u0648\u0646\u062A",ay="\u062A\u0631\u0627\u0632",ly="\u0627\u0633\u062A\u0627\u06CC\u0644\u200C\u0647\u0627",dy="\u0632\u0648\u0645 \u062C\u0644\u0648",cy="\u0632\u0648\u0645 \u0639\u0642\u0628",py="\u0628\u0647",uy="\u0641\u0627\u06CC\u0644",hy="\u0648\u06CC\u0631\u0627\u06CC\u0634",my="\u0646\u0645\u0627\u06CC\u0634",gy="\u062A\u0646\u0638\u06CC\u0645\u200C\u0647\u0627",fy="\u0648\u0631\u0648\u062F",Sy="\u062E\u0631\u0648\u062C",by=" \u062D\u0627\u0645\u06CC \u0634\u0648",Ty="\u0646\u0645\u0627\u06CC\u0634 \u0627\u0646\u062A\u062E\u0627\u0628\u200C\u0634\u062F\u0647\u200C\u0647\u0627",yy="\u0646\u0645\u0627\u06CC\u0634 \u06A9\u0644 \u0635\u0641\u062D\u0647",wy="\u0632\u0648\u0645 \u0628\u0647 ",xy="\u062D\u0627\u0644\u062A \u0634\u0628",vy="\u062D\u0627\u0644\u062A \u062A\u0645\u0631\u06A9\u0632",ky="\u062D\u0627\u0644\u062A \u0639\u06CC\u0628\u200C\u06CC\u0627\u06CC\u06CC",Iy="\u0646\u0645\u0627\u06CC\u0634 \u062E\u0637\u0648\u0637 \u0631\u0627\u0647\u0646\u0645\u0627",Cy="\u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 \u062D\u0627\u0644\u062A \u0627\u0646\u062A\u062E\u0627\u0628\u06CC CAD",Dy="\u0645\u0646\u0648\u06CC \u0627\u0633\u062A\u0627\u06CC\u0644 \u0628\u0627\u0632 \u0628\u0627\u0634\u0647",Py="\u0631\u0627\u0647\u0646\u0645\u0627\u06CC \u0644\u0628\u0647\u200C\u0647\u0627 \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",My="\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u0686\u0631\u062E\u0634 \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",Ey="\u062F\u0633\u062A\u0647\u0654 \u0644\u0628\u0647\u200C\u0647\u0627 \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",By="\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u06A9\u067E\u06CC \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",Ry="\u06CC\u0647 \u0642\u062F\u0645 \u0639\u0642\u0628",Ay="\u06CC\u0647 \u0642\u062F\u0645 \u062C\u0644\u0648",Ly="\u0628\u0631\u06CC\u062F\u0646",Hy="\u06A9\u067E\u06CC",zy="\u062C\u0627\u06CC\u200C\u06AF\u0630\u0627\u0631\u06CC",Oy="\u06A9\u067E\u06CC \u0628\u0647\u200C\u200C\u0639\u0646\u0648\u0627\u0646",Fy="\u062E\u0631\u0648\u062C\u06CC \u0628\u0627 \u0641\u0631\u0645\u062A",jy="\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u0645\u0647",Vy="\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u06CC\u0686",Gy=" \u067E\u0627\u06A9\u200C\u06A9\u0631\u062F\u0646",$y="\u067E\u0631\u0648\u0698\u0647\u0654 \u062A\u0627\u0632\u0647",Ny="\u0628\u0627\u0632 \u06A9\u0646",Wy="\u0630\u062E\u06CC\u0631\u0647",Ky="\u0630\u062E\u06CC\u0631\u0647 \u0628\u0627 \u0627\u0633\u0645",Uy="\u0622\u067E\u0644\u0648\u062F \u0639\u06A9\u0633",_y="\u0633\u0627\u062E\u062A \u0635\u0641\u062D\u0647",Yy="\u0635\u0641\u062D\u0647\u0654 \u062A\u0627\u0632\u0647",Zy="\u0627\u0633\u0645 \u0635\u0641\u062D\u0647",Xy="\u06A9\u067E\u06CC \u062F\u0631\u062C\u0627",qy="\u0628\u06CC\u200C\u062E\u06CC\u0627\u0644",Jy="\u06A9\u067E\u06CC \u0644\u06CC\u0646\u06A9 \u062F\u0639\u0648\u062A",Qy="\u0633\u0627\u062E\u062A \u067E\u0631\u0648\u0698\u0647\u0654 \u0686\u0646\u062F\u0646\u0641\u0631\u0647",e0="\u06A9\u067E\u06CC \u062F\u0631 \u067E\u0631\u0648\u0698\u0647\u0654 \u0686\u0646\u062F\u0646\u0641\u0631\u0647",t0="\u0627\u0646\u062A\u062E\u0627\u0628",n0="\u067E\u0627\u06A9\u200C\u06A9\u0646",o0="\u0631\u0633\u0645",s0="\u0641\u0644\u0650\u0634",r0="\u0645\u062A\u0646",i0="\u06CC\u0627\u062F\u062F\u0627\u0634\u062A",a0="\u0686\u0627\u0631\u06AF\u0648\u0634",l0="\u06AF\u0631\u062F\u06CC",d0="\u0633\u0647\u200C\u06AF\u0648\u0634",c0="\u062E\u0637",p0="\u0686\u0631\u062E\u0634",u0="\u062A\u062B\u0628\u06CC\u062A \u0646\u0633\u0628\u062A \u0627\u0628\u0639\u0627\u062F",h0="\u0646\u0633\u0628\u062A \u0627\u0628\u0639\u0627\u062F \u0645\u062A\u063A\u06CC\u0631",m0="\u062C\u0645\u0639 \u06A9\u0646",g0="\u062C\u062F\u0627 \u06A9\u0646",f0="\u0628\u0628\u0631 \u0622\u062E\u0631",S0="\u0628\u0628\u0631 \u0639\u0642\u0628",b0="\u0628\u0628\u0631 \u0627\u0648\u0644",T0="\u0628\u0628\u0631 \u062C\u0644\u0648",y0="\u062D\u0630\u0641 \u0686\u0631\u062E\u0634",w0="\u0642\u0641\u0644\u200C \u06A9\u0646",x0="\u0628\u0627\u0632 \u06A9\u0646",v0="\u0628\u0628\u0631 \u0628\u0647 \u0635\u0641\u062D\u0647",k0="\u0628\u0631\u06AF\u0631\u062F\u0648\u0646 \u0627\u0641\u0642\u06CC",I0="\u0628\u0631\u06AF\u0631\u062F\u0648\u0646 \u0639\u0645\u0648\u062F\u06CC",C0="\u062C\u0627\u0628\u0647\u200C\u062C\u0627\u0634 \u06A9\u0646",D0="\u0628\u0647 \u0627\u0648\u0644",P0="\u0628\u0647 \u062C\u0644\u0648",M0="\u0628\u0647 \u0639\u0642\u0628",E0="\u0628\u0647 \u0622\u062E\u0631",B0="\u0632\u0628\u0627\u0646",dl={"style.menu.color":ty,"style.menu.fill":ny,"style.menu.dash":oy,"style.menu.size":sy,"style.menu.keep.open":ry,"style.menu.font":iy,"style.menu.align":ay,styles:ly,"zoom.in":dy,"zoom.out":cy,to:py,"menu.file":uy,"menu.edit":hy,"menu.view":my,"menu.preferences":gy,"menu.sign.in":fy,"menu.sign.out":Sy,"become.a.sponsor":by,"zoom.to.selection":Ty,"zoom.to.fit":yy,"zoom.to":wy,"preferences.dark.mode":xy,"preferences.focus.mode":vy,"preferences.debug.mode":ky,"preferences.show.grid":Iy,"preferences.use.cad.selection":Cy,"preferences.keep.stylemenu.open":Dy,"preferences.always.show.snaps":Py,"preferences.rotate.handles":My,"preferences.binding.handles":Ey,"preferences.clone.handles":By,undo:Ry,redo:Ay,cut:Ly,copy:Hy,paste:zy,"copy.as":Oy,"export.as":Fy,"select.all":jy,"select.none":Vy,delete:Gy,"new.project":$y,open:Ny,save:Wy,"save.as":Ky,"upload.media":Uy,"create.page":_y,"new.page":Yy,"page.name":Zy,duplicate:Xy,cancel:qy,"copy.invite.link":Jy,"create.multiplayer.project":Qy,"copy.multiplayer.project":e0,select:t0,eraser:n0,draw:o0,arrow:s0,text:r0,sticky:i0,rectangle:a0,ellipse:l0,triangle:d0,line:c0,rotate:p0,"lock.aspect.ratio":u0,"unlock.aspect.ratio":h0,group:m0,ungroup:g0,"move.to.back":f0,"move.backward":S0,"move.forward":b0,"move.to.front":T0,"reset.angle":y0,lock:w0,unlock:x0,"move.to.page":v0,"flip.horizontal":k0,"flip.vertical":I0,move:C0,"to.front":D0,forward:P0,backward:M0,back:E0,language:B0};var R0="Couleur",A0="Remplir",L0="Bordure",H0="Taille",z0="Toujours afficher le menu",O0="Police",F0="Alignement",j0="Styles",V0="Zoom avant",G0="Zoom arri\xE8re",$0="\xC0",N0="Outils",W0="Transformation",K0="Fichier",U0="\xC9dition",_0="Afficher",Y0="Pr\xE9f\xE9rences",Z0="S'authentifier",X0="Se d\xE9connecter",q0="Devenir un sponsor",J0="Retour au contenu",Q0="Ajuster le zoom \xE0 la s\xE9lection",ew="Adapter le zoom au contenu",tw="R\xE9tablir le zoom \xE0",nw="Mode sombre",ow="Mode focus",sw="Afficher la barre d\xE9veloppeur",rw="Afficher la grille",iw="Utiliser la s\xE9lection CAD",aw="Toujours afficher le menu styles",lw="Afficher les rep\xE8res dynamiques",dw="Manier la rotation",cw="Manier les liaisons",pw="Manier le clonage",uw="Annuler",hw="R\xE9tablir",mw="Couper",gw="Copier",fw="Coller",Sw="Copier au format",bw="Exporter au format",Tw="Tout s\xE9lectionner",yw="Tout d\xE9s\xE9lectionner",ww="Supprimer",xw="Nouveau project",vw="Ouvrir",kw="Enregistrer",Iw="Enregistrer sous",Cw="Importer un m\xE9dia",Dw="Cr\xE9er une page",Pw="Nouvelle Page",Mw="Nom de la page",Ew="Dupliquer",Bw="Annuler",Rw="Copier le lien d'invitation",Aw="Copier le lien en lecture seule d'invitation",Lw="Cr\xE9er un project multi-joueurs",Hw="Copier dans un projet multi-joueurs",zw="S\xE9lection",Ow="Gomme",Fw="Crayon",jw="Fl\xE8che",Vw="Texte",Gw="Note",$w="Rectangle",Nw="Cercle",Ww="Triangle",Kw="Ligne",Uw="Rotation",_w="Verrouiller les proportions",Yw="D\xE9verrouiller les proportions",Zw="Grouper",Xw="D\xE9grouper",qw="D\xE9placer \xE0 l'arri\xE8re-plan",Jw="Reculer d'un plan",Qw="Avancer d'un plan",ex="Placer au premier plan",tx="R\xE9initialiser la rotation",nx="Verrouiller",ox="D\xE9verrouiller",sx="Alignement / R\xE9partion",rx="D\xE9placer vers la page",ix="Retourner horizontalement",ax="Retourner verticalement",lx="Disposition",dx="Placer au premier plan",cx="Avancer d'un plan",px="Reculer d'un plan",ux="D\xE9placer \xE0 l'arri\xE8re-plan",hx="Langage",mx="En savoir plus",gx="Position du dock",fx="En bas",Sx="\xC0 gauche",bx="\xC0 droite",Tx="En haut",yx="Page",wx="Raccourcis clavier",xx="Rechercher",vx="Chargement{dots}",kx="Couleur d'arri\xE8re-plan de l'export",Ix="Transparent",Cx="Automatique",Dx="Clair",Px="Sombre",cl={"style.menu.color":R0,"style.menu.fill":A0,"style.menu.dash":L0,"style.menu.size":H0,"style.menu.keep.open":z0,"style.menu.font":O0,"style.menu.align":F0,styles:j0,"zoom.in":V0,"zoom.out":G0,to:$0,"menu.tools":N0,"menu.transform":W0,"menu.file":K0,"menu.edit":U0,"menu.view":_0,"menu.preferences":Y0,"menu.sign.in":Z0,"menu.sign.out":X0,"become.a.sponsor":q0,"zoom.to.content":J0,"zoom.to.selection":Q0,"zoom.to.fit":ew,"zoom.to":tw,"preferences.dark.mode":nw,"preferences.focus.mode":ow,"preferences.debug.mode":sw,"preferences.show.grid":rw,"preferences.use.cad.selection":iw,"preferences.keep.stylemenu.open":aw,"preferences.always.show.snaps":lw,"preferences.rotate.handles":dw,"preferences.binding.handles":cw,"preferences.clone.handles":pw,undo:uw,redo:hw,cut:mw,copy:gw,paste:fw,"copy.as":Sw,"export.as":bw,"select.all":Tw,"select.none":yw,delete:ww,"new.project":xw,open:vw,save:kw,"save.as":Iw,"upload.media":Cw,"create.page":Dw,"new.page":Pw,"page.name":Mw,duplicate:Ew,cancel:Bw,"copy.invite.link":Rw,"copy.readonly.link":Aw,"create.multiplayer.project":Lw,"copy.multiplayer.project":Hw,select:zw,eraser:Ow,draw:Fw,arrow:jw,text:Vw,sticky:Gw,rectangle:$w,ellipse:Nw,triangle:Ww,line:Kw,rotate:Uw,"lock.aspect.ratio":_w,"unlock.aspect.ratio":Yw,group:Zw,ungroup:Xw,"move.to.back":qw,"move.backward":Jw,"move.forward":Qw,"move.to.front":ex,"reset.angle":tx,lock:nx,unlock:ox,"align.distribute":sx,"move.to.page":rx,"flip.horizontal":ix,"flip.vertical":ax,move:lx,"to.front":dx,forward:cx,backward:px,back:ux,language:hx,"translation.link":mx,"dock.position":gx,bottom:fx,left:Sx,right:bx,top:Tx,page:yx,"keyboard.shortcuts":wx,search:xx,loading:vx,"export.background":kx,transparent:Ix,auto:Cx,light:Dx,dark:Px};var Mx="\u05E6\u05D1\u05E2",Ex="\u05DE\u05DC\u05D0",Bx="\u05D2\u05D1\u05D5\u05DC",Rx="\u05D2\u05D5\u05D3\u05DC",Ax="\u05D4\u05E9\u05D0\u05E8 \u05E4\u05EA\u05D5\u05D7",Lx="\u05D2\u05D5\u05E4\u05DF",Hx="\u05D9\u05D9\u05E9\u05D5\u05E8",zx="\u05E2\u05D9\u05E6\u05D5\u05D1",Ox="\u05D4\u05D2\u05D3\u05DC \u05EA\u05E6\u05D5\u05D2\u05D4",Fx="\u05D4\u05E7\u05D8\u05DF \u05EA\u05E6\u05D5\u05D2\u05D4",jx="\u05DC",Vx="\u05E7\u05D5\u05D1\u05E5",Gx="\u05E2\u05E8\u05D9\u05DB\u05D4",$x="\u05EA\u05E6\u05D5\u05D2\u05D4",Nx="\u05DE\u05D0\u05E4\u05D9\u05D9\u05E0\u05D9\u05DD",Wx="\u05D4\u05D9\u05E8\u05E9\u05DD",Kx="\u05D4\u05EA\u05E0\u05EA\u05E7",Ux="\u05DE\u05EA\u05DF \u05D7\u05E1\u05D5\u05EA",_x="\u05D6\u05D5\u05DD \u05DC\u05D1\u05D7\u05D9\u05E8\u05D4",Yx="\u05D6\u05D5\u05DD \u05DC\u05D4\u05EA\u05D0\u05DE\u05D4",Zx="\u05D6\u05D5\u05DD \u05DC",Xx="\u05DE\u05E6\u05D1 \u05D7\u05E9\u05D5\u05DA",qx="\u05DE\u05E6\u05D1 \u05E4\u05D5\u05E7\u05D5\u05E1",Jx="\u05DE\u05E6\u05D1 \u05D3\u05D9\u05D1\u05D0\u05D2",Qx="(\u05D2\u05E8\u05D9\u05D3)\u05D4\u05E8\u05D0\u05D4 \u05E8\u05E9\u05EA \u05E2\u05D9\u05DE\u05D5\u05D3",e1="\u05E1\u05D9\u05DE\u05D5\u05DF CAD",t1="\u05D4\u05E9\u05D0\u05E8 \u05EA\u05E4\u05E8\u05D9\u05D8 \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E4\u05EA\u05D5\u05D7",n1="\u05D4\u05E8\u05D0\u05D4 \u05E7\u05D5\u05D5\u05D9 \u05DE\u05EA\u05D0\u05E8",o1="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E1\u05D9\u05D1\u05D5\u05D1",s1="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E7\u05E9\u05D9\u05E8\u05D4",r1="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E9\u05D9\u05DB\u05E4\u05D5\u05DC",i1="\u05D1\u05D8\u05DC",a1="\u05E2\u05E9\u05D4 \u05DE\u05D7\u05D3\u05E9",l1="\u05D2\u05D6\u05D5\u05E8",d1="\u05D4\u05E2\u05EA\u05E7",c1="\u05D4\u05D3\u05D1\u05E7",p1="\u05D4\u05E2\u05EA\u05E7 \u05DB",u1="\u05D9\u05D9\u05E6\u05D0 \u05DB",h1="\u05D1\u05D7\u05E8 \u05D4\u05DB\u05DC",m1="\u05D1\u05D8\u05DC \u05D1\u05D7\u05D9\u05E8\u05D4",g1="\u05DE\u05D7\u05E7",f1="\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05D7\u05D3\u05E9",S1="\u05E4\u05EA\u05D7",b1="\u05E9\u05DE\u05D5\u05E8",T1="\u05E9\u05DE\u05D5\u05E8 \u05DB",y1="\u05D4\u05E2\u05DC\u05D0\u05EA \u05DE\u05D3\u05D9\u05D4",w1="\u05E6\u05D5\u05E8 \u05D3\u05E3",x1="\u05D3\u05E3 \u05D7\u05D3\u05E9",v1="\u05E9\u05DD \u05D4\u05D3\u05E3",k1="\u05E9\u05DB\u05E4\u05DC",I1="\u05D1\u05D8\u05DC",C1="\u05D4\u05E2\u05EA\u05E7 \u05E7\u05D9\u05E9\u05D5\u05E8 \u05D4\u05D6\u05DE\u05E0\u05D4",D1="\u05E6\u05D5\u05E8 \u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E8\u05D1 \u05DE\u05E9\u05EA\u05EA\u05E4\u05D9\u05DD",P1="\u05D4\u05E2\u05EA\u05E7 \u05DC\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E8\u05D1 \u05DE\u05E9\u05EA\u05EA\u05E4\u05D9\u05DD",M1="\u05E1\u05DE\u05DF",E1="\u05DE\u05D7\u05E7",B1="\u05E6\u05D9\u05D9\u05E8",R1="\u05D7\u05E5",A1="\u05D8\u05E7\u05E1\u05D8",L1="\u05D3\u05D1\u05D9\u05E7\u05D9",H1="\u05DE\u05E8\u05D5\u05D1\u05E2",z1="\u05D0\u05DC\u05D9\u05E4\u05E1\u05D4",O1="\u05DE\u05E9\u05D5\u05DC\u05E9",F1="\u05E7\u05D5",j1="\u05E1\u05D5\u05D1\u05D1",V1="\u05E0\u05E2\u05DC \u05D9\u05D7\u05E1 \u05E8\u05D5\u05D7\u05D1-\u05D2\u05D5\u05D1\u05D4",G1="\u05E9\u05D7\u05E8\u05E8 \u05E0\u05E2\u05D9\u05DC\u05EA \u05D9\u05D7\u05E1 \u05E8\u05D5\u05D7\u05D1-\u05D2\u05D5\u05D1\u05D4",$1="\u05E7\u05D1\u05E5",N1="\u05D1\u05D8\u05DC \u05E7\u05D9\u05D1\u05D5\u05E5",W1="\u05D4\u05D1\u05D0 \u05DC\u05EA\u05D7\u05EA\u05D9\u05EA",K1="\u05D4\u05D6\u05D6 \u05D0\u05D7\u05D5\u05E8\u05D4",U1="\u05D4\u05D6\u05D6 \u05E7\u05D3\u05D9\u05DE\u05D4",_1="\u05D4\u05D1\u05D0 \u05DC\u05D7\u05D6\u05D9\u05EA",Y1="\u05D0\u05E4\u05E1 \u05D6\u05D5\u05D5\u05D9\u05EA",Z1="\u05E0\u05E2\u05DC",X1="\u05E9\u05D7\u05E8\u05E8 \u05E0\u05E2\u05D9\u05DC\u05D4",q1="\u05D4\u05D6\u05D6 \u05DC\u05D3\u05E3",J1="\u05D4\u05E4\u05D5\u05DA \u05D0\u05D5\u05E4\u05E7\u05D9\u05EA",Q1="\u05D4\u05E4\u05D5\u05DA \u05D0\u05E0\u05DB\u05D9\u05EA",ev="\u05D4\u05D6\u05D6",tv="\u05D4\u05D1\u05D0 \u05DC\u05E7\u05D3\u05D9\u05DE\u05D4",nv="\u05E7\u05D3\u05D9\u05DE\u05D4",ov="\u05D0\u05D7\u05D5\u05E8\u05D4",sv="\u05D1\u05D7\u05D6\u05E8\u05D4",rv="\u05E9\u05E4\u05D4",pl={"style.menu.color":Mx,"style.menu.fill":Ex,"style.menu.dash":Bx,"style.menu.size":Rx,"style.menu.keep.open":Ax,"style.menu.font":Lx,"style.menu.align":Hx,styles:zx,"zoom.in":Ox,"zoom.out":Fx,to:jx,"menu.file":Vx,"menu.edit":Gx,"menu.view":$x,"menu.preferences":Nx,"menu.sign.in":Wx,"menu.sign.out":Kx,"become.a.sponsor":Ux,"zoom.to.selection":_x,"zoom.to.fit":Yx,"zoom.to":Zx,"preferences.dark.mode":Xx,"preferences.focus.mode":qx,"preferences.debug.mode":Jx,"preferences.show.grid":Qx,"preferences.use.cad.selection":e1,"preferences.keep.stylemenu.open":t1,"preferences.always.show.snaps":n1,"preferences.rotate.handles":o1,"preferences.binding.handles":s1,"preferences.clone.handles":r1,undo:i1,redo:a1,cut:l1,copy:d1,paste:c1,"copy.as":p1,"export.as":u1,"select.all":h1,"select.none":m1,delete:g1,"new.project":f1,open:S1,save:b1,"save.as":T1,"upload.media":y1,"create.page":w1,"new.page":x1,"page.name":v1,duplicate:k1,cancel:I1,"copy.invite.link":C1,"create.multiplayer.project":D1,"copy.multiplayer.project":P1,select:M1,eraser:E1,draw:B1,arrow:R1,text:A1,sticky:L1,rectangle:H1,ellipse:z1,triangle:O1,line:F1,rotate:j1,"lock.aspect.ratio":V1,"unlock.aspect.ratio":G1,group:$1,ungroup:N1,"move.to.back":W1,"move.backward":K1,"move.forward":U1,"move.to.front":_1,"reset.angle":Y1,lock:Z1,unlock:X1,"move.to.page":q1,"flip.horizontal":J1,"flip.vertical":Q1,move:ev,"to.front":tv,forward:nv,backward:ov,back:sv,language:rv};var iv="Colore",av="Riempi",lv="Tratteggo",dv="Dimensione",cv="Mantieni aperto",pv="Font",uv="Allineamento",hv="Stile",mv="Ingrandisci",gv="Rimpicciolisci",fv="Imposta",Sv="File",bv="Modifica",Tv="Visualizzazione",yv="Preferenze",wv="Accedi",xv="Esci",vv="Sponsorizza",kv="Adatta alla selezione",Iv="Adatta",Cv="Ingrandisci",Dv="Modalit\xE0 scura",Pv="Modalit\xE0 zen",Mv="Modalit\xE0 sviluppatore",Ev="Mostra griglia",Bv="Selezione CAD",Rv="Mantieni menu stile aperto",Av="Mostra sempre le guide",Lv="Controlli d'inclinazione",Hv="Controlli d'associazione",zv="Controlli di clonazione",Ov="Annulla",Fv="Ripristina",jv="Taglia",Vv="Copia",Gv="Incolla",$v="Copia come",Nv="Esporta come",Wv="Seleziona tutto",Kv="Deseleziona tutto",Uv="Elimina",_v="Nuovo progetto",Yv="Apri",Zv="Salva",Xv="Salva come",qv="Carica contenuti multimediali",Jv="Crea nuova pagina",Qv="Nuova pagina",ek="Nome pagina",tk="Pagina",nk="Duplica",ok="Chiudi",sk="Copia link invito",rk="Crea progetto multiplayer",ik="Trasforma in progetto multiplayer",ak="Seleziona",lk="Gomma",dk="Matita",ck="Freccia",pk="Casella di testo",uk="Post-it",hk="Rettangolo",mk="Ellisse",gk="Triangolo",fk="Linea",Sk="Ruota",bk="Blocca rapporto lati",Tk="Sblocca rapporto lati",yk="Raggruppa",wk="Separa",xk="Muovi in fondo",vk="Sposta indietro",kk="Sposta avanti",Ik="Muovi in fronte",Ck="Reimposta angolo",Dk="Blocca",Pk="Sblocca",Mk="Trasferisci a pagina",Ek="Ribalta orizzontalmente",Bk="Ribalta verticalmente",Rk="Sposta",Ak="In primo piano",Lk="Sposta avanti",Hk="Sposta indietro",zk="In fondo",Ok="Lingua",Fk="Posizione dock",jk="In basso",Vk="Sinistra",Gk="Destra",$k="In Alto",ul={"style.menu.color":iv,"style.menu.fill":av,"style.menu.dash":lv,"style.menu.size":dv,"style.menu.keep.open":cv,"style.menu.font":pv,"style.menu.align":uv,styles:hv,"zoom.in":mv,"zoom.out":gv,to:fv,"menu.file":Sv,"menu.edit":bv,"menu.view":Tv,"menu.preferences":yv,"menu.sign.in":wv,"menu.sign.out":xv,"become.a.sponsor":vv,"zoom.to.selection":kv,"zoom.to.fit":Iv,"zoom.to":Cv,"preferences.dark.mode":Dv,"preferences.focus.mode":Pv,"preferences.debug.mode":Mv,"preferences.show.grid":Ev,"preferences.use.cad.selection":Bv,"preferences.keep.stylemenu.open":Rv,"preferences.always.show.snaps":Av,"preferences.rotate.handles":Lv,"preferences.binding.handles":Hv,"preferences.clone.handles":zv,undo:Ov,redo:Fv,cut:jv,copy:Vv,paste:Gv,"copy.as":$v,"export.as":Nv,"select.all":Wv,"select.none":Kv,delete:Uv,"new.project":_v,open:Yv,save:Zv,"save.as":Xv,"upload.media":qv,"create.page":Jv,"new.page":Qv,"page.name":ek,page:tk,duplicate:nk,cancel:ok,"copy.invite.link":sk,"create.multiplayer.project":rk,"copy.multiplayer.project":ik,select:ak,eraser:lk,draw:dk,arrow:ck,text:pk,sticky:uk,rectangle:hk,ellipse:mk,triangle:gk,line:fk,rotate:Sk,"lock.aspect.ratio":bk,"unlock.aspect.ratio":Tk,group:yk,ungroup:wk,"move.to.back":xk,"move.backward":vk,"move.forward":kk,"move.to.front":Ik,"reset.angle":Ck,lock:Dk,unlock:Pk,"move.to.page":Mk,"flip.horizontal":Ek,"flip.vertical":Bk,move:Rk,"to.front":Ak,forward:Lk,backward:Hk,back:zk,language:Ok,"dock.position":Fk,bottom:jk,left:Vk,right:Gk,top:$k};var Nk="\u8272",Wk="\u5857\u308A\u3064\u3076\u3057",Kk="\u7DDA",Uk="\u592A\u3055/\u30B5\u30A4\u30BA",_k="\u5E38\u306B\u8868\u793A",Yk="\u30D5\u30A9\u30F3\u30C8",Zk="\u914D\u7F6E",Xk="\u30B9\u30BF\u30A4\u30EB",qk="\u62E1\u5927",Jk="\u7E2E\u5C0F",Qk=" ",eI="\u30D5\u30A1\u30A4\u30EB",tI="\u7DE8\u96C6",nI="\u8868\u793A",oI="\u8A2D\u5B9A",sI="\u30B5\u30A4\u30F3\u30A4\u30F3",rI="\u30B5\u30A4\u30F3\u30A2\u30A6\u30C8",iI="\u652F\u63F4\u3059\u308B",aI="\u9078\u629E\u3057\u305F\u30A2\u30A4\u30C6\u30E0\u306B\u5408\u308F\u305B\u3066\u62E1\u5927",lI="\u62E1\u5927\u3057\u3066\u3059\u3079\u3066\u3092\u8868\u793A",dI="\u306B\u30BA\u30FC\u30E0",cI="\u30C0\u30FC\u30AF\u30E2\u30FC\u30C9",pI="\u30D5\u30A9\u30FC\u30AB\u30B9\u30E2\u30FC\u30C9",uI="\u30C7\u30D0\u30C3\u30B0\u30E2\u30FC\u30C9",hI="\u30B0\u30EA\u30C3\u30C9\u3092\u8868\u793A",mI="CAD\u306E\u9078\u629E\u6CD5\u3092\u4F7F\u7528",gI="\u30B9\u30BF\u30A4\u30EB\u30E1\u30CB\u30E5\u30FC\u3092\u5E38\u306B\u8868\u793A",fI="\u30B9\u30CA\u30C3\u30D7\u3092\u5E38\u306B\u8868\u793A",SI="\u56DE\u8EE2\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",bI="\u7D50\u5408\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",TI="\u30AF\u30ED\u30FC\u30F3\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",yI="\u5143\u306B\u623B\u3059",wI="\u3084\u308A\u76F4\u3057",xI="\u5207\u308A\u53D6\u308A",vI="\u30B3\u30D4\u30FC",kI="\u8CBC\u308A\u4ED8\u3051",II="\u5F62\u5F0F\u3092\u9078\u629E\u3057\u3066\u30B3\u30D4\u30FC",CI="\u5F62\u5F0F\u3092\u9078\u629E\u3057\u3066\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",DI="\u3059\u3079\u3066\u9078\u629E",PI="\u9078\u629E\u3092\u89E3\u9664",MI="\u524A\u9664",EI="\u65B0\u3057\u3044\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8",BI="\u958B\u304F",RI="\u4FDD\u5B58",AI="\u540D\u524D\u3092\u3064\u3051\u3066\u4FDD\u5B58",LI="\u30E1\u30C7\u30A3\u30A2\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",HI="\u30DA\u30FC\u30B8\u3092\u4F5C\u6210",zI="\u65B0\u898F\u30DA\u30FC\u30B8",OI="\u30DA\u30FC\u30B8\u540D",FI="\u8907\u88FD",jI="\u30AD\u30E3\u30F3\u30BB\u30EB",VI="\u5171\u6709\u30EA\u30F3\u30AF\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC",GI="\u30DE\u30EB\u30C1\u30D7\u30EC\u30A4\u30E4\u30FC\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210",$I="\u30DE\u30EB\u30C1\u30D7\u30EC\u30A4\u30E4\u30FC\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u30B3\u30D4\u30FC",NI="\u9078\u629E",WI="\u6D88\u3057\u30B4\u30E0",KI="\u63CF\u753B",UI="\u77E2\u5370",_I="\u30C6\u30AD\u30B9\u30C8",YI="\u3075\u305B\u3093",ZI="\u9577\u65B9\u5F62",XI="\u6955\u5186\u5F62",qI="\u4E09\u89D2\u5F62",JI="\u7DDA",QI="\u56DE\u8EE2",eC="\u7E26\u6A2A\u6BD4\u3092\u56FA\u5B9A",tC="\u7E26\u6A2A\u6BD4\u306E\u56FA\u5B9A\u3092\u89E3\u9664",nC="\u30B0\u30EB\u30FC\u30D4\u30F3\u30B0",oC="\u30B0\u30EB\u30FC\u30D7\u89E3\u9664",sC="\u6700\u80CC\u9762\u306B\u79FB\u52D5",rC="\u3072\u3068\u3064\u5F8C\u308D\u306B\u79FB\u52D5",iC="\u3072\u3068\u3064\u524D\u306B\u79FB\u52D5",aC="\u6700\u524D\u9762\u306B\u79FB\u52D5",lC="\u89D2\u5EA6\u3092\u521D\u671F\u5316",dC="\u30ED\u30C3\u30AF",cC="\u30A2\u30F3\u30ED\u30C3\u30AF",pC="\u30DA\u30FC\u30B8\u3078\u79FB\u52D5",uC="\u6C34\u5E73\u65B9\u5411\u306B\u53CD\u8EE2",hC="\u5782\u76F4\u65B9\u5411\u306B\u53CD\u8EE2",mC="\u79FB\u52D5",gC="\u6700\u524D\u9762\u3078",fC="\u3072\u3068\u3064\u524D\u3078",SC="\u3072\u3068\u3064\u5F8C\u308D\u3078",bC="\u6700\u80CC\u9762\u3078",TC="\u8A00\u8A9E",hl={"style.menu.color":Nk,"style.menu.fill":Wk,"style.menu.dash":Kk,"style.menu.size":Uk,"style.menu.keep.open":_k,"style.menu.font":Yk,"style.menu.align":Zk,styles:Xk,"zoom.in":qk,"zoom.out":Jk,to:Qk,"menu.file":eI,"menu.edit":tI,"menu.view":nI,"menu.preferences":oI,"menu.sign.in":sI,"menu.sign.out":rI,"become.a.sponsor":iI,"zoom.to.selection":aI,"zoom.to.fit":lI,"zoom.to":dI,"preferences.dark.mode":cI,"preferences.focus.mode":pI,"preferences.debug.mode":uI,"preferences.show.grid":hI,"preferences.use.cad.selection":mI,"preferences.keep.stylemenu.open":gI,"preferences.always.show.snaps":fI,"preferences.rotate.handles":SI,"preferences.binding.handles":bI,"preferences.clone.handles":TI,undo:yI,redo:wI,cut:xI,copy:vI,paste:kI,"copy.as":II,"export.as":CI,"select.all":DI,"select.none":PI,delete:MI,"new.project":EI,open:BI,save:RI,"save.as":AI,"upload.media":LI,"create.page":HI,"new.page":zI,"page.name":OI,duplicate:FI,cancel:jI,"copy.invite.link":VI,"create.multiplayer.project":GI,"copy.multiplayer.project":$I,select:NI,eraser:WI,draw:KI,arrow:UI,text:_I,sticky:YI,rectangle:ZI,ellipse:XI,triangle:qI,line:JI,rotate:QI,"lock.aspect.ratio":eC,"unlock.aspect.ratio":tC,group:nC,ungroup:oC,"move.to.back":sC,"move.backward":rC,"move.forward":iC,"move.to.front":aC,"reset.angle":lC,lock:dC,unlock:cC,"move.to.page":pC,"flip.horizontal":uC,"flip.vertical":hC,move:mC,"to.front":gC,forward:fC,backward:SC,back:bC,language:TC};var yC="\uC0C9\uAE54",wC="\uCC44\uC6B0\uAE30",xC="\uD14C\uB450\uB9AC",vC="\uD06C\uAE30",kC="\uD56D\uC0C1 \uC5F4\uAE30",IC="\uAE00\uAF34",CC="\uC815\uB82C",DC="\uC2A4\uD0C0\uC77C",PC="\uD655\uB300",MC="\uCD95\uC18C",EC="To",BC="\uB3C4\uAD6C",RC="\uBCC0\uD658",AC="\uD30C\uC77C",LC="\uD3B8\uC9D1",HC="\uBCF4\uAE30",zC="\uC124\uC815",OC="\uB85C\uADF8\uC778",FC="\uB85C\uADF8\uC544\uC6C3",jC="\uD6C4\uC6D0\uC790 \uB418\uAE30",VC="\uCEE8\uD150\uCE20\uB85C \uB3CC\uC544\uAC00\uAE30",GC="\uC120\uD0DD \uC694\uC18C\uC5D0 \uB9DE\uCD94\uAE30",$C="\uC804\uCCB4\uC5D0 \uB9DE\uCD94\uAE30",NC="\uB9DE\uCD94\uAE30",WC="\uB2E4\uD06C \uBAA8\uB4DC",KC="\uC9D1\uC911 \uBAA8\uB4DC",UC="\uB514\uBC84\uADF8 \uBAA8\uB4DC",_C="\uACA9\uC790 \uBCF4\uAE30",YC="CAD \uC120\uD0DD \uC0AC\uC6A9",ZC="\uC2A4\uD0C0\uC77C \uBA54\uB274 \uD56D\uC0C1 \uC5F4\uAE30",XC="Snap \uD56D\uC0C1 \uC5F4\uAE30",qC="\uD68C\uC804 \uBCF4\uC774\uAE30",JC="\uBC14\uC778\uB529 \uBCF4\uC774\uAE30",QC="\uBCF5\uC81C \uBCF4\uC774\uAE30",eD="\uC2E4\uD589\uCDE8\uC18C",tD="\uC7AC\uC2E4\uD589",nD="\uC790\uB974\uAE30",oD="\uBCF5\uC0AC",sD="\uBD99\uC5EC\uB123\uAE30",rD="\uC774\uBBF8\uC9C0\uB85C \uBCF5\uC0AC",iD="\uB0B4\uBCF4\uB0B4\uAE30",aD="\uC804\uCCB4 \uC120\uD0DD",lD="\uC120\uD0DD \uD574\uC81C",dD="\uC0AD\uC81C",cD="\uC0C8 \uD504\uB85C\uC81D\uD2B8",pD="\uC5F4\uAE30",uD="\uC800\uC7A5",hD="\uB2E4\uB978 \uC774\uB984\uC73C\uB85C \uC800\uC7A5",mD="\uBBF8\uB514\uC5B4 \uC5C5\uB85C\uB4DC",gD="\uC0C8 \uD398\uC774\uC9C0 \uC0DD\uC131",fD="\uC0C8 \uD398\uC774\uC9C0",SD="\uD398\uC774\uC9C0 \uC774\uB984",bD="\uBCF5\uC81C",TD="\uCDE8\uC18C",yD="\uCD08\uB300 \uB9C1\uD06C \uBCF5\uC0AC",wD="\uC77D\uAE30 \uC804\uC6A9 \uB9C1\uD06C \uBCF5\uC0AC",xD="\uC2E4\uC2DC\uAC04 \uD611\uC5C5 \uD504\uB85C\uC81D\uD2B8 \uC0DD\uC131",vD="\uC2E4\uC2DC\uAC04 \uD611\uC5C5 \uD504\uB85C\uC81D\uD2B8\uB85C \uBCF5\uC81C",kD="\uC120\uD0DD",ID="\uC9C0\uC6B0\uAC1C",CD="\uD39C",DD="\uD654\uC0B4\uD45C",PD="\uD14D\uC2A4\uD2B8",MD="\uC2A4\uD2F0\uD0A4\uB178\uD2B8",ED="\uC0AC\uAC01\uD615",BD="\uC6D0",RD="\uC0BC\uAC01\uD615",AD="\uC120",LD="\uD68C\uC804",HD="\uBE44\uC728 \uC7A0\uAE08",zD="\uBE44\uC728 \uC7A0\uAE08 \uD574\uC81C",OD="\uADF8\uB8F9\uD654",FD="\uADF8\uB8F9\uD654 \uD574\uC81C",jD="\uB9E8 \uB4A4\uB85C \uBCF4\uB0B4\uAE30",VD="\uB4A4\uB85C \uBCF4\uB0B4\uAE30",GD="\uC55E\uC73C\uB85C \uAC00\uC838\uC624\uAE30",$D="\uB9E8 \uC55E\uC73C\uB85C \uAC00\uC838\uC624\uAE30",ND="\uD68C\uC804 \uCD08\uAE30\uD654",WD="\uC7A0\uAE08",KD="\uC7A0\uAE08 \uD574\uC81C",UD="\uC815\uB82C / \uAC04\uACA9 \uB9DE\uCD94\uAE30",_D="\uD398\uC774\uC9C0\uB85C \uC774\uB3D9",YD="\uC88C\uC6B0 \uB300\uCE6D",ZD="\uC0C1\uD558 \uB300\uCE6D",XD="\uC21C\uC11C",qD="\uB9E8 \uC55E\uC73C\uB85C",JD="\uC55E\uC73C\uB85C",QD="\uB4A4\uB85C",eP="\uB9E8 \uB4A4\uB85C",tP="\uC5B8\uC5B4",nP="\uB354 \uC54C\uC544\uBCF4\uAE30",oP="\uB3C5 \uC704\uCE58",sP="\uD558\uB2E8",rP="\uC67C\uCABD",iP="\uC624\uB978\uCABD",aP="\uC0C1\uB2E8",lP="\uD398\uC774\uC9C0",dP="\uD0A4\uBCF4\uB4DC \uB2E8\uCD95\uD0A4",cP="\uAC80\uC0C9",pP="\uB85C\uB529{dots}",uP="\uBC30\uACBD \uB0B4\uBCF4\uB0B4\uAE30",hP="\uD22C\uBA85",mP="\uC790\uB3D9",gP="\uB77C\uC774\uD2B8",fP="\uB2E4\uD06C",SP="Github",bP="Twitter",TP="Discord",yP="\uC774\uBBF8\uC9C0",wP="\uC67C\uCABD \uC815\uB82C",xP="\uC218\uD3C9 \uC911\uC559 \uC815\uB82C",vP="\uC624\uB978\uCABD \uC815\uB82C",kP="\uC0C1\uB2E8 \uC815\uB82C",IP="\uC218\uC9C1 \uC911\uC559 \uC815\uB82C",CP="\uD558\uB2E8 \uC815\uB82C",DP="\uAC00\uB85C \uAC04\uACA9 \uB9DE\uCD94\uAE30",PP="\uC138\uB85C \uAC04\uACA9 \uB9DE\uCD94\uAE30",MP="\uC218\uD3C9\uC73C\uB85C \uB298\uB9AC\uAE30",EP="\uC218\uC9C1\uC73C\uB85C \uB298\uB9AC\uAE30",BP="\uD604\uC7AC \uD504\uB85C\uC81D\uD2B8\uB97C \uC800\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",RP="\uBCC0\uACBD\uC0AC\uD56D\uC744 \uD604\uC7AC \uD504\uB85C\uC81D\uD2B8\uC5D0 \uC800\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",AP="\uCDE8\uC18C",LP="\uC544\uB2C8\uC624",HP="\uB124",zP="\uD30C\uC77C \uC774\uB984\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694",OP="\uC0C8\uB85C\uC6B4 tldraw\uB97C \uC0AC\uC6A9\uD574\uBCF4\uC138\uC694",ml={"style.menu.color":yC,"style.menu.fill":wC,"style.menu.dash":xC,"style.menu.size":vC,"style.menu.keep.open":kC,"style.menu.font":IC,"style.menu.align":CC,styles:DC,"zoom.in":PC,"zoom.out":MC,to:EC,"menu.tools":BC,"menu.transform":RC,"menu.file":AC,"menu.edit":LC,"menu.view":HC,"menu.preferences":zC,"menu.sign.in":OC,"menu.sign.out":FC,"become.a.sponsor":jC,"zoom.to.content":VC,"zoom.to.selection":GC,"zoom.to.fit":$C,"zoom.to":NC,"preferences.dark.mode":WC,"preferences.focus.mode":KC,"preferences.debug.mode":UC,"preferences.show.grid":_C,"preferences.use.cad.selection":YC,"preferences.keep.stylemenu.open":ZC,"preferences.always.show.snaps":XC,"preferences.rotate.handles":qC,"preferences.binding.handles":JC,"preferences.clone.handles":QC,undo:eD,redo:tD,cut:nD,copy:oD,paste:sD,"copy.as":rD,"export.as":iD,"select.all":aD,"select.none":lD,delete:dD,"new.project":cD,open:pD,save:uD,"save.as":hD,"upload.media":mD,"create.page":gD,"new.page":fD,"page.name":SD,duplicate:bD,cancel:TD,"copy.invite.link":yD,"copy.readonly.link":wD,"create.multiplayer.project":xD,"copy.multiplayer.project":vD,select:kD,eraser:ID,draw:CD,arrow:DD,text:PD,sticky:MD,rectangle:ED,ellipse:BD,triangle:RD,line:AD,rotate:LD,"lock.aspect.ratio":HD,"unlock.aspect.ratio":zD,group:OD,ungroup:FD,"move.to.back":jD,"move.backward":VD,"move.forward":GD,"move.to.front":$D,"reset.angle":ND,lock:WD,unlock:KD,"align.distribute":UD,"move.to.page":_D,"flip.horizontal":YD,"flip.vertical":ZD,move:XD,"to.front":qD,forward:JD,backward:QD,back:eP,language:tP,"translation.link":nP,"dock.position":oP,bottom:sP,left:rP,right:iP,top:aP,page:lP,"keyboard.shortcuts":dP,search:cP,loading:pP,"export.background":uP,transparent:hP,auto:mP,light:gP,dark:fP,github:SP,twitter:bP,discord:TP,image:yP,"align.left":wP,"align.center.x":xP,"align.right":vP,"align.top":kP,"align.center.y":IP,"align.bottom":CP,"distribute.x":DP,"distribute.y":PP,"stretch.x":MP,"stretch.y":EP,"dialog.save.firsttime":BP,"dialog.save.again":RP,"dialog.cancel":AP,"dialog.no":LP,"dialog.yes":HP,"enter.file.name":zP,"tldraw-beta":OP};var FP="\u0631\u06D5\u0646\u06AF",jP="\u067E\u0695\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5",VP="\u0644\u06D5\u062A \u0644\u06D5\u062A",GP="\u0642\u06D5\u0628\u0627\u0631\u06D5",$P="\u0628\u06D5 \u06A9\u0631\u0627\u0648\u06D5\u06CC\u06CC \u0628\u0645\u06CE\u0646\u06D5\u0631\u06D5\u0648\u06D5",NP="\u0647\u06CE\u06B5",WP="\u0695\u06CE\u06A9\u062E\u0633\u062A\u0646",KP="\u0646\u06D5\u062E\u0634\u06D5\u06A9\u0627\u0646",UP="\u0647\u06CE\u0646\u0627\u0646\u06D5 \u067E\u06CE\u0634\u06D5\u0648\u06D5",_P="\u062F\u0648\u0648\u0631 \u062E\u0633\u062A\u0646\u06D5\u0648\u06D5",YP="\u0628\u06C6",ZP="\u0626\u0627\u0645\u0631\u0627\u0632\u06D5\u06A9\u0627\u0646",XP="\u06AF\u06C6\u0695\u06CC\u0646",qP="\u0641\u0627\u06CC\u0644\u06CE\u06A9",JP="\u062F\u06D5\u0633\u062A\u06A9\u0627\u0631\u06CC",QP="\u062F\u06CC\u0645\u06D5\u0646",eM="\u062E\u0648\u0627\u0633\u062A",tM="\u0686\u0648\u0648\u0646\u06D5 \u0698\u0648\u0648\u0631\u06D5\u0648\u06D5",nM="\u062F\u06D5\u0631\u0686\u0648\u0648\u0646",oM="\u0633\u067E\u06C6\u0646\u0633\u06D5\u0631 \u0628\u06D5",sM="\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6 \u0646\u0627\u0648\u06D5\u0695\u06C6\u06A9",rM="\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6 \u0647\u06D5\u06B5\u0628\u0698\u0627\u0631\u062F\u0646",iM="\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6 \u0626\u06D5\u0648\u06D5\u06CC \u0644\u06D5\u06AF\u06D5\u06B5\u06CC\u062F\u0627 \u0628\u06AF\u0648\u0646\u062C\u06CE\u062A",aM="\u0632\u0648\u0648\u0645 \u0628\u06A9\u06D5 \u0628\u06C6",lM="\u062F\u06C6\u062E\u06CC \u062A\u0627\u0631\u06CC\u06A9",dM="\u062F\u06C6\u062E\u06CC \u0641\u06C6\u06A9\u06D5\u0633",cM="\u0645\u06C6\u062F\u06CC \u0647\u06D5\u06B5\u06D5\u062F\u06C6\u0632\u06CC\u0646",pM="\u062A\u06C6\u0695\u06CC \u067E\u06CC\u0634\u0627\u0646 \u0628\u062F\u06D5",uM="\u0628\u06D5\u06A9\u0627\u0631\u0628\u0647\u06CE\u0646\u06D5 CAD \u0647\u06D5\u06B5\u0628\u0698\u0627\u0631\u062F\u0646\u06CC",hM="\u0645\u06CE\u0646\u06C6\u06CC \u0633\u062A\u0627\u06CC\u0644 \u0628\u06D5 \u06A9\u0631\u0627\u0648\u06D5\u06CC\u06CC \u0628\u0647\u06CE\u06B5\u06D5\u0631\u06D5\u0648\u06D5",mM="\u0647\u06D5\u0645\u06CC\u0634\u06D5 \u0648\u06CE\u0646\u06D5\u06CC \u062E\u06CE\u0631\u0627 \u067E\u06CC\u0634\u0627\u0646 \u0628\u062F\u06D5",gM="\u0633\u0648\u0631\u0627\u0646\u06D5\u0648\u06D5\u06CC \u062F\u06D5\u0633\u062A\u06D5\u06A9\u0627\u0646",fM="\u0628\u06D5\u0633\u062A\u0646\u06D5\u0648\u06D5\u06CC \u062F\u06D5\u0633\u062A\u06D5\u06A9\u0627\u0646",SM="\u06A9\u0644\u06C6\u0646 \u06A9\u0631\u062F\u0646\u06CC \u062F\u06D5\u0633\u062A\u06D5\u06A9\u0627\u0646",bM="\u067E\u0627\u0634\u06D5\u06A9\u0634\u06D5 \u0628\u06A9\u06D5",TM="\u062F\u0648\u0648\u0628\u0627\u0631\u06D5 \u0628\u06CC\u06A9\u06D5\u0631\u06D5\u0648\u06D5",yM="\u0628\u0695\u06CC\u0646",wM="\u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5",xM="\u067E\u06D5\u06CC\u0633\u062A \u0628\u06A9\u06D5",vM="\u06A9\u06C6\u067E\u06CC \u0648\u06D5\u06A9",kM="\u0647\u06D5\u0646\u0627\u0631\u062F\u06D5\u06A9\u0631\u062F\u0646 \u0648\u06D5\u06A9",IM="\u0647\u06D5\u0645\u0648\u0648\u06CC\u0627\u0646 \u0647\u06D5\u06B5\u0628\u0698\u06CE\u0631\u0647",CM="\u0647\u06CC\u0686 \u0647\u0647\u200C\u06B5\u0645\u0647\u200C\u0628\u0698\u06CE\u0631\u0647\u200C",DM="\u0633\u0695\u06CC\u0646\u06D5\u0648\u06D5",PM="\u067E\u0695\u06C6\u0698\u06D5\u06CC \u0646\u0648\u06CE",MM="\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5",EM="\u0647\u06D5\u06B5\u06AF\u0631\u062A\u0646",BM="\u0647\u06D5\u06B5\u06AF\u0631\u062A\u0646 \u0648\u06D5\u06A9",RM="\u062F\u0627\u06AF\u0631\u062A\u0646\u06CC \u0645\u06CC\u062F\u06CC\u0627",AM="\u062F\u0631\u0648\u0633\u062A\u06A9\u0631\u062F\u0646\u06CC \u0644\u0627\u067E\u06D5\u0695\u06D5",LM="\u0644\u0627\u067E\u06D5\u0695\u06D5\u06CC \u0646\u0648\u06CE",HM="\u0646\u0627\u0648\u06CC \u0644\u0627\u067E\u06D5\u0695\u06D5",zM="\u062F\u0648\u0648\u0628\u0627\u0631\u06D5\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5",OM="\u0695\u06D5\u062A\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5",FM="\u0644\u06CC\u0646\u06A9\u06CC \u0628\u0627\u0646\u06AF\u0647\u06CE\u0634\u062A\u06A9\u0631\u062F\u0646 \u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5",jM="\u0628\u06D5 \u0634\u06CE\u0648\u06D5\u06CC\u06D5\u06A9\u06CC \u0647\u06D5\u0695\u06D5\u0645\u06D5\u06A9\u06CC \u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5",VM="\u062F\u0631\u0648\u0633\u062A\u06A9\u0631\u062F\u0646\u06CC \u067E\u0631\u06C6\u0698\u06D5\u06CC \u0641\u0631\u06D5 \u0628\u06D5\u06A9\u0627\u0631\u0647\u06CE\u0646\u06D5\u0631",GM="\u06A9\u06C6\u067E\u06CC \u0628\u06A9\u06D5 \u0628\u06C6 \u067E\u0695\u06C6\u0698\u06D5\u06CC\u06D5\u06A9\u06CC \u0641\u0631\u06D5 \u0628\u06D5\u06A9\u0627\u0631\u0647\u06CE\u0646\u06D5\u0631",$M="\u062F\u06D5\u0633\u0646\u06CC\u0627\u0634\u0646\u06A9\u0631\u062F\u0646",NM="\u0633\u0695\u06D5\u0631\u06D5\u0648\u06D5",WM="\u0648\u06CE\u0646\u06D5\u06A9\u06CE\u0634\u0627\u0646",KM="\u062A\u06CC\u0631",UM="\u062F\u06D5\u0642",_M="\u0686\u06D5\u0633\u067E\u0627\u0648",YM="\u0644\u0627\u06A9\u06CE\u0634\u06D5",ZM="\u0628\u06CC\u0628\u0644\u06CC",XM="\u0633\u06CE\u06AF\u06C6\u0634\u06D5",qM="\u0647\u06CE\u06B5",JM="\u0633\u0648\u0695\u0627\u0646\u06D5\u0648\u06D5",QM="\u0642\u0641\u06B5\u06A9\u0631\u062F\u0646\u06CC \u0695\u06CE\u0698\u06D5\u06CC \u0695\u0648\u0648\u0628\u06D5\u0631\u06CC",e2="\u06A9\u0631\u062F\u0646\u06D5\u0648\u06D5\u06CC \u0695\u06CE\u0698\u06D5\u06CC \u0695\u0648\u0648\u0628\u06D5\u0631\u06CC",t2="\u06A9\u06C6\u0645\u06D5\u06B5\u06D5",n2="\u0644\u0627\u0628\u0631\u062F\u0646\u06CC \u06A9\u06C6\u0645\u06D5\u06B5\u06D5",o2="\u0628\u0686\u06C6 \u0628\u06C6 \u067E\u0634\u062A\u06D5\u0648\u06D5",s2="\u0628\u06D5\u0631\u06D5\u0648 \u062F\u0648\u0627\u0648\u06D5",r2="\u0628\u0695\u06C6 \u067E\u06CE\u0634\u06D5\u0648\u06D5",i2="\u0628\u06AF\u0648\u0627\u0632\u0631\u06CE\u062A\u06D5\u0648\u06D5 \u0628\u06C6 \u067E\u06CE\u0634\u06D5\u0648\u06D5",a2="\u06AF\u06C6\u0634\u06D5\u06CC \u067E\u0634\u0648\u0648\u062F\u0627\u0646",l2="\u0642\u0648\u0641\u06B5",d2="\u0644\u0627\u0628\u0631\u062F\u0646\u06CC \u0642\u0648\u0641\u06B5",c2="\u0628\u0686\u06C6 \u0628\u06C6 \u0644\u0627\u067E\u06D5\u0695\u06D5",p2="\u0626\u0627\u0633\u06C6\u06CC\u06CC \u0648\u06D5\u0631\u06AF\u06D5\u0695\u0627\u0646\u062F\u0646",u2="\u0633\u062A\u0648\u0646\u06CC \u0648\u06D5\u0631\u06AF\u06D5\u0695\u0627\u0646\u062F\u0646",h2="\u062C\u0648\u0648\u06B5\u06D5",m2="\u0628\u06C6 \u067E\u06CE\u0634\u06D5\u0648\u06D5",g2="\u0628\u06C6\u067E\u0634\u062A\u06D5\u0648\u06D5",f2="\u0628\u06C6\u062F\u0648\u0627\u0648\u06D5",S2="\u06AF\u06D5\u0695\u0627\u0646\u06D5\u0648\u06D5",b2="\u0632\u0645\u0627\u0646",T2="\u0628\u06D5\u0633\u062A\u06D5\u0631\u06CC \u0648\u06D5\u0631\u06AF\u06CE\u0695\u0627\u0646",y2="\u0634\u0648\u06CE\u0646\u06CC \u062F\u06C6\u06A9",w2="\u062E\u0648\u0627\u0631\u06D5\u0648\u06D5",x2="\u0686\u06D5\u067E",v2="\u0695\u0627\u0633\u062A",k2="\u0633\u06D5\u0631\u0648\u0648",I2="\u0644\u0627\u067E\u06D5\u0695\u06D5",C2="\u06A9\u0648\u0631\u062A\u06A9\u0631\u0627\u0648\u06D5\u06A9\u0627\u0646\u06CC \u062A\u06D5\u062E\u062A\u06D5\u06A9\u0644\u06CC\u0644",D2="\u06AF\u06D5\u0695\u0627\u0646",P2="\u0628\u0627\u0631\u06A9\u0631\u062F\u0646",M2="\u067E\u0627\u0634\u062E\u0627\u0646\u06CC \u0647\u06D5\u0646\u0627\u0631\u062F\u06D5\u06A9\u0631\u062F\u0646",E2="\u0695\u0648\u0648\u0646",B2="\u0626\u06C6\u062A\u06C6\u0645\u0627\u062A\u06CC\u06A9\u06CC",R2="\u0631\u0648\u0648\u0646\u0627\u06A9",A2="\u062A\u0627\u0631\u06CC\u06A9",gl={"style.menu.color":FP,"style.menu.fill":jP,"style.menu.dash":VP,"style.menu.size":GP,"style.menu.keep.open":$P,"style.menu.font":NP,"style.menu.align":WP,styles:KP,"zoom.in":UP,"zoom.out":_P,to:YP,"menu.tools":ZP,"menu.transform":XP,"menu.file":qP,"menu.edit":JP,"menu.view":QP,"menu.preferences":eM,"menu.sign.in":tM,"menu.sign.out":nM,"become.a.sponsor":oM,"zoom.to.content":sM,"zoom.to.selection":rM,"zoom.to.fit":iM,"zoom.to":aM,"preferences.dark.mode":lM,"preferences.focus.mode":dM,"preferences.debug.mode":cM,"preferences.show.grid":pM,"preferences.use.cad.selection":uM,"preferences.keep.stylemenu.open":hM,"preferences.always.show.snaps":mM,"preferences.rotate.handles":gM,"preferences.binding.handles":fM,"preferences.clone.handles":SM,undo:bM,redo:TM,cut:yM,copy:wM,paste:xM,"copy.as":vM,"export.as":kM,"select.all":IM,"select.none":CM,delete:DM,"new.project":PM,open:MM,save:EM,"save.as":BM,"upload.media":RM,"create.page":AM,"new.page":LM,"page.name":HM,duplicate:zM,cancel:OM,"copy.invite.link":FM,"copy.readonly.link":jM,"create.multiplayer.project":VM,"copy.multiplayer.project":GM,select:$M,eraser:NM,draw:WM,arrow:KM,text:UM,sticky:_M,rectangle:YM,ellipse:ZM,triangle:XM,line:qM,rotate:JM,"lock.aspect.ratio":QM,"unlock.aspect.ratio":e2,group:t2,ungroup:n2,"move.to.back":o2,"move.backward":s2,"move.forward":r2,"move.to.front":i2,"reset.angle":a2,lock:l2,unlock:d2,"move.to.page":c2,"flip.horizontal":p2,"flip.vertical":u2,move:h2,"to.front":m2,forward:g2,backward:f2,back:S2,language:b2,"translation.link":T2,"dock.position":y2,bottom:w2,left:x2,right:v2,top:k2,page:I2,"keyboard.shortcuts":C2,search:D2,loading:P2,"export.background":M2,transparent:E2,auto:B2,light:R2,dark:A2};var L2="Color",H2="Fill",z2="Dash",O2="Size",F2="Keep Open",j2="Font",V2="Align",G2="Styles",$2="Zoom In",N2="Zoom Out",W2="To",K2="Tools",U2="Transform",_2="File",Y2="Edit",Z2="View",X2="Preferences",q2="Sign In",J2="Sign Out",Q2="Become a Sponsor",eE="Back to content",tE="Zoom to Selection",nE="Zoom to Fit",oE="Zoom to",sE="Dark Mode",rE="Focus Mode",iE="Debug Mode",aE="Show Grid",lE="Use CAD Selection",dE="Keep Style Menu Open",cE="Always Show Snaps",pE="Rotate Handles",uE="Binding Handles",hE="Clone Handles",mE="Undo",gE="Redo",fE="Cut",SE="Copy",bE="Paste",TE="Copy As",yE="Export As",wE="Select All",xE="Select None",vE="Delete",kE="New Project",IE="Open",CE="Save",DE="Save As",PE="Upload Media",ME="Create Page",EE="New Page",BE="Page Name",RE="Duplicate",AE="Shape Options",LE="Shapes",HE="Cancel",zE="Copy Invite Link",OE="Copy ReadOnly Link",FE="Create a Multiplayer Project",jE="Copy to Multiplayer Project",VE="Select",GE="Eraser",$E="Draw",NE="Arrow",WE="Text",KE="Sticky",UE="Rectangle",_E="Ellipse",YE="Triangle",ZE="Line",XE="Rotate",qE="Lock Aspect Ratio",JE="Unlock Aspect Ratio",QE="Group",eB="Ungroup",tB="Move to Back",nB="Move Backward",oB="Move Forward",sB="Move to Front",rB="Reset Angle",iB="Lock",aB="Unlock",lB="Align / Distribute",dB="Move to Page",cB="Flip Horizontal",pB="Flip Vertical",uB="Move",hB="To Front",mB="Forward",gB="Backward",fB="To Back",SB="Language",bB="Learn More",TB="Dock Position",yB="Bottom",wB="Left",xB="Right",vB="Top",kB="Page",IB="Keyboard shortcuts",CB="Search",DB="Loading{dots}",PB="Export Background",MB="Transparent",EB="Auto",BB="Light",RB="Dark",AB="Github",LB="Twitter",HB="Discord",zB="Image",OB="Align Left",FB="Align Horizontal Center",jB="Align Right",VB="Align Top",GB="Align Vertical Center",$B="Align Bottom",NB="Distribute Horizontal",WB="Distribute Vertical",KB="Stretch Horizontal",UB="Stretch Vertical",_B="Do you want to save your current project?",YB="Do you want to save changes to your current project?",ZB="Cancel",XB="No",qB="Yes",JB="Enter file name",QB="Try the new tldraw",eR="White",tR="Light gray",nR="Gray",oR="Black",sR="Green",rR="Cyan",iR="Blue",aR="Indigo",lR="Violet",dR="Red",cR="Orange",pR="Yellow",uR="Solid",hR="Dashed",mR="Dotted",gR="Small",fR="Medium",SR="Large",fl={"style.menu.color":L2,"style.menu.fill":H2,"style.menu.dash":z2,"style.menu.size":O2,"style.menu.keep.open":F2,"style.menu.font":j2,"style.menu.align":V2,styles:G2,"zoom.in":$2,"zoom.out":N2,to:W2,"menu.tools":K2,"menu.transform":U2,"menu.file":_2,"menu.edit":Y2,"menu.view":Z2,"menu.preferences":X2,"menu.sign.in":q2,"menu.sign.out":J2,"become.a.sponsor":Q2,"zoom.to.content":eE,"zoom.to.selection":tE,"zoom.to.fit":nE,"zoom.to":oE,"preferences.dark.mode":sE,"preferences.focus.mode":rE,"preferences.debug.mode":iE,"preferences.show.grid":aE,"preferences.use.cad.selection":lE,"preferences.keep.stylemenu.open":dE,"preferences.always.show.snaps":cE,"preferences.rotate.handles":pE,"preferences.binding.handles":uE,"preferences.clone.handles":hE,undo:mE,redo:gE,cut:fE,copy:SE,paste:bE,"copy.as":TE,"export.as":yE,"select.all":wE,"select.none":xE,delete:vE,"new.project":kE,open:IE,save:CE,"save.as":DE,"upload.media":PE,"create.page":ME,"new.page":EE,"page.name":BE,duplicate:RE,"shape.options":AE,shapes:LE,cancel:HE,"copy.invite.link":zE,"copy.readonly.link":OE,"create.multiplayer.project":FE,"copy.multiplayer.project":jE,select:VE,eraser:GE,draw:$E,arrow:NE,text:WE,sticky:KE,rectangle:UE,ellipse:_E,triangle:YE,line:ZE,rotate:XE,"lock.aspect.ratio":qE,"unlock.aspect.ratio":JE,group:QE,ungroup:eB,"move.to.back":tB,"move.backward":nB,"move.forward":oB,"move.to.front":sB,"reset.angle":rB,lock:iB,unlock:aB,"align.distribute":lB,"move.to.page":dB,"flip.horizontal":cB,"flip.vertical":pB,move:uB,"to.front":hB,forward:mB,backward:gB,back:fB,language:SB,"translation.link":bB,"dock.position":TB,bottom:yB,left:wB,right:xB,top:vB,page:kB,"keyboard.shortcuts":IB,search:CB,loading:DB,"export.background":PB,transparent:MB,auto:EB,light:BB,dark:RB,github:AB,twitter:LB,discord:HB,image:zB,"align.left":OB,"align.center.x":FB,"align.right":jB,"align.top":VB,"align.center.y":GB,"align.bottom":$B,"distribute.x":NB,"distribute.y":WB,"stretch.x":KB,"stretch.y":UB,"dialog.save.firsttime":_B,"dialog.save.again":YB,"dialog.cancel":ZB,"dialog.no":XB,"dialog.yes":qB,"enter.file.name":JB,"tldraw-beta":QB,white:eR,lightGray:tR,gray:nR,black:oR,green:sR,cyan:rR,blue:iR,indigo:aR,violet:lR,red:dR,orange:cR,yellow:pR,solid:uR,dashed:hR,dotted:mR,small:gR,medium:fR,large:SR};var bR="\u1021\u101B\u1031\u102C\u1004\u103A",TR="\u1021\u101B\u1031\u102C\u1004\u103A \u1011\u100A\u103A\u1037\u1019\u100A\u103A",yR="\u1019\u103B\u1025\u103A\u1038\u1005\u1000\u103A",wR="\u1021\u101B\u103D\u101A\u103A\u1021\u1005\u102C\u1038",xR="\u1016\u103D\u1004\u103A\u1037\u1011\u102C\u1038\u1019\u100A\u103A",vR="\u1005\u102C\u101E\u102C\u1038\u1016\u1031\u102C\u1004\u103A\u1037",kR="\u1021\u1011\u102C\u1038\u1021\u101E\u102D\u102F",IR="\u1005\u1010\u102D\u102F\u1004\u103A",CR="\u1021\u1000\u103C\u102E\u1038\u1001\u103B\u1032\u1037\u1019\u100A\u103A",DR="\u1015\u103C\u1014\u103A\u1000\u103B\u1025\u103A\u1038\u1019\u100A\u103A",PR="\u101E\u102D\u102F\u1037",MR="\u1000\u102D\u101B\u102D\u101A\u102C\u1019\u103B\u102C\u1038",ER="\u1015\u103C\u1031\u102C\u1004\u103A\u1038\u101C\u100A\u103A\u101B\u1014\u103A",BR="\u1016\u102D\u102F\u1004\u103A",RR="\u1015\u103C\u102F\u1015\u103C\u1004\u103A",AR="\u1021\u1019\u103C\u1004\u103A",LR="\u1006\u1000\u103A\u1010\u1004\u103A",HR="\u101D\u1004\u103A\u1019\u100A\u103A",zR="\u1011\u103D\u1000\u103A\u1019\u100A\u103A",OR="\u1004\u103D\u1031\u1000\u103C\u1031\u1038\u1011\u1031\u102C\u1000\u103A\u1015\u1036\u1019\u100A\u103A",FR="\u1015\u1004\u103A\u1019\u1014\u1031\u101B\u102C\u101E\u102D\u102F\u1037 \u1015\u103C\u1014\u103A\u101E\u103D\u102C\u1038\u1019\u100A\u103A",jR="\u101B\u103D\u1031\u1038\u1011\u102C\u1038\u101E\u1031\u102C \u1014\u1031\u101B\u102C\u101E\u102D\u102F\u1037 \u1021\u102C\u101B\u102F\u1036\u1015\u103C\u102F\u1019\u100A\u103A",VR="\u1021\u1036\u1000\u102D\u102F\u1000\u103A\u1016\u103C\u1005\u103A\u1021\u1031\u102C\u1004\u103A \u1001\u103B\u1032\u1037\u1019\u100A\u103A",GR="\u1015\u102F\u1036\u1019\u103E\u1014\u103A\u1006\u102D\u102F\u1012\u103A\u101E\u102D\u102F\u1037 \u1001\u103B\u1032\u1037\u1019\u100A\u103A",$R="\u1021\u1019\u103E\u1031\u102C\u1004\u103A \u1019\u102F\u1012\u103A",NR="\u101B\u103E\u1004\u103A\u1038\u101B\u103E\u1004\u103A\u1038\u101C\u1004\u103A\u1038\u101C\u1004\u103A\u1038 \u1019\u102F\u1012\u103A",WR="\u1005\u1019\u103A\u1038\u101E\u1015\u103A \u1019\u102F\u1012\u103A",KR="\u1014\u1031\u102C\u1000\u103A\u1001\u1036 \u1007\u101A\u102C\u1038\u1000\u103D\u1000\u103A\u1015\u103C\u101B\u1014\u103A",UR="CAD \u1000\u1032\u1037\u101E\u102D\u102F\u1037 \u101B\u103D\u1031\u1038\u1001\u103B\u101A\u103A\u1019\u103E\u102F \u1015\u103C\u102F\u101C\u102F\u1015\u103A\u1019\u100A\u103A",_R="\u1005\u1010\u102D\u102F\u1004\u103A\u101C\u103A \u1019\u102E\u1014\u1030\u1038\u1000\u102D\u102F \u1021\u1019\u103C\u1032\u1016\u103D\u1004\u103A\u1037\u1011\u102C\u1038\u1019\u100A\u103A",YR="Always Show Snaps",ZR="Rotate Handles",XR="Binding Handles",qR="Clone Handles",JR="\u1014\u1002\u102D\u102F\u1019\u1030\u101C\u101E\u102D\u102F\u1037 \u1015\u103C\u1014\u103A\u101C\u102F\u1015\u103A\u101B\u1014\u103A",QR="\u1015\u103C\u1014\u103A\u101C\u102F\u1015\u103A\u101B\u1014\u103A",eA="\u1016\u103C\u1010\u103A\u101A\u1030",tA="\u1000\u1030\u1038\u101A\u1030",nA="\u1000\u1030\u1038\u101E\u103D\u1004\u103A\u1038",oA="\u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A\u1037 \u1015\u102F\u1036\u1005\u1036",sA="\u1011\u102F\u1010\u103A\u1001\u103B\u1004\u103A\u101E\u100A\u103A\u1037 \u1015\u102F\u1036\u1005\u1036",rA="\u1021\u102C\u1038\u101C\u102F\u1036\u1038\u1000\u102D\u102F \u101B\u103D\u1031\u1038\u1001\u103B\u101A\u103A\u101B\u1014\u103A",iA="\u1010\u1005\u103A\u1001\u102F\u1019\u103E \u1019\u101B\u103D\u1031\u1038\u1010\u1031\u102C\u1037\u1015\u102B",aA="\u1016\u103B\u1000\u103A\u1019\u100A\u103A",lA="\u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A \u1021\u101E\u1005\u103A",dA="\u1016\u103D\u1004\u103A\u1037\u1019\u100A\u103A",cA="\u101E\u102D\u1019\u103A\u1038\u1019\u100A\u103A",pA="\u1021\u1001\u103C\u102C\u1038\u101E\u1031\u102C \u1015\u102F\u1036\u1005\u1036\u1016\u103C\u1004\u103A\u1037 \u101E\u102D\u1019\u103A\u1038\u1019\u100A\u103A",uA="\u1019\u102E\u1012\u102E\u101A\u102C\u1016\u102D\u102F\u1004\u103A\u1019\u103B\u102C\u1038 \u1010\u1004\u103A\u1019\u100A\u103A",hA="\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C \u1021\u101E\u1005\u103A\u1016\u103D\u1004\u103A\u1037\u1019\u100A\u103A",mA="\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C \u1021\u101E\u1005\u103A",gA="\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C \u1021\u1019\u100A\u103A",fA="\u1015\u103D\u102C\u1038\u1019\u100A\u103A",SA="\u1019\u101C\u102F\u1015\u103A\u1010\u1031\u102C\u1037\u1015\u102B",bA="\u1016\u102D\u1010\u103A\u1000\u103C\u102C\u1038\u101B\u1014\u103A \u101C\u1004\u103A\u1037\u1001\u103A\u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A",TA="\u1000\u103C\u100A\u103A\u1037\u101B\u1030\u101B\u1014\u103A\u1021\u1010\u103D\u1000\u103A\u101E\u102C \u101C\u1004\u103A\u1037\u1001\u103A\u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A",yA="\u1021\u1019\u103B\u102C\u1038\u101E\u102F\u1036\u1038 \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1021\u1016\u103C\u1005\u103A \u1021\u101E\u1005\u103A\u1016\u1014\u103A\u1010\u102E\u1038\u1019\u100A\u103A",wA="\u1021\u1019\u103B\u102C\u1038\u101E\u102F\u1036\u1038 \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1021\u1016\u103C\u1005\u103A\u101E\u102D\u102F\u1037 \u1000\u1030\u1038\u101A\u1030\u1019\u100A\u103A",xA="\u101B\u103D\u1031\u1038\u1001\u103B\u101A\u103A\u1019\u103E\u102F",vA="\u1001\u1032\u1016\u103B\u1000\u103A",kA="\u1001\u1032\u1010\u1036",IA="\u1019\u103C\u103E\u102C\u1038",CA="\u1005\u102C\u101E\u102C\u1038",DA="\u1000\u1015\u103A\u1001\u103D\u102C\u1019\u103E\u1010\u103A\u1005\u102F",PA="\u101C\u1031\u1011\u1031\u102C\u1004\u103A\u1037",MA="\u1018\u1032\u1025",EA="\u1010\u103C\u102D\u1002\u1036",BA="\u1019\u103B\u1025\u103A\u1038",RA="\u101C\u103E\u100A\u103A\u1037\u1019\u100A\u103A",AA="\u1021\u1001\u103B\u102D\u102F\u1038\u1021\u1005\u102C\u1038 \u1011\u102D\u1014\u103A\u1038\u1011\u102C\u1038\u1019\u100A\u103A",LA="\u1021\u1001\u103B\u102D\u102F\u1038\u1021\u1005\u102C\u1038 \u1019\u1011\u102D\u1014\u103A\u1038\u1010\u1031\u102C\u1037\u1015\u102B",HA="\u1021\u102F\u1015\u103A\u1005\u102F\u1016\u103D\u1032\u1037",zA="\u1021\u102F\u1015\u103A\u1005\u102F\u1001\u103D\u1032",OA="\u1014\u1031\u102C\u1000\u103A\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037 \u1015\u102D\u102F\u1037\u1019\u100A\u103A",FA="\u1014\u1031\u102C\u1000\u103A\u101E\u102D\u102F\u1037 \u1010\u1005\u103A\u1006\u1004\u103A\u1037\u1015\u102D\u102F\u1037\u1019\u100A\u103A",jA="\u101B\u103E\u1031\u1037\u101E\u102D\u102F\u1037 \u1010\u1005\u103A\u1006\u1004\u103A\u1037\u1015\u102D\u102F\u1037\u1019\u100A\u103A",VA="\u101B\u103E\u1031\u1037\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037 \u1015\u102D\u102F\u1037\u1019\u100A\u103A",GA="\u1014\u1002\u102D\u102F\u1019\u1030\u101C \u1011\u1031\u102C\u1004\u103A\u1037\u1001\u103B\u102D\u102F\u1038\u1005\u102C\u1038\u101E\u102D\u102F\u1037\u1015\u103C\u1031\u102C\u1004\u103A\u1038\u1019\u100A\u103A",$A="\u1001\u1010\u103A\u1011\u102C\u1038\u1019\u100A\u103A",NA="\u1016\u103D\u1004\u103A\u1037\u1011\u102C\u1038\u1019\u100A\u103A",WA="\u1014\u1031\u101B\u102C \u1021\u1011\u102C\u1038\u1021\u101E\u102D\u102F/ \u1021\u1006\u1014\u103A\u1037\u1021\u1000\u103B\u102F\u1036\u1037",KA="\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C\u1010\u1005\u103A\u1001\u102F\u101E\u102D\u102F\u1037 \u101B\u103D\u1031\u1038\u1019\u100A\u103A",UA="\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u101C\u103E\u1014\u103A\u1019\u100A\u103A",_A="\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u101C\u103E\u1014\u103A\u1019\u100A\u103A",YA="\u101B\u103D\u1031\u1037\u1019\u100A\u103A",ZA="\u101B\u103E\u1031\u1037\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037",XA="\u101B\u103E\u1031\u1037\u1010\u1005\u103A\u1006\u1004\u103A\u1037",qA="\u1014\u1031\u102C\u1000\u103A\u1010\u1005\u103A\u1006\u1004\u103A\u1037",JA="\u1014\u1031\u102C\u1000\u103A\u1006\u102F\u1036\u1038\u101E\u102D\u102F\u1037",QA="\u1018\u102C\u101E\u102C\u1005\u1000\u102C\u1038",eL="\u1015\u102D\u102F\u1019\u102D\u102F\u104D \u101C\u1031\u1037\u101C\u102C\u101B\u1014\u103A",tL="\u1000\u102D\u101B\u102D\u101A\u102C \u1021\u1014\u1031\u1021\u1011\u102C\u1038",nL="\u1021\u1031\u102C\u1000\u103A",oL="\u1018\u101A\u103A",sL="\u100A\u102C",rL="\u1011\u102D\u1015\u103A",iL="\u1005\u102C\u1019\u103B\u1000\u103A\u1014\u103E\u102C",aL="Keyboard shortcuts",lL="\u101B\u103E\u102C\u1016\u103D\u1031\u101B\u1014\u103A",dL="\u1001\u100F\u1005\u1031\u102C\u1004\u103A\u1037\u1015\u1031\u1038\u101B\u1014\u103A{dots}",cL="\u1014\u1031\u102C\u1000\u103A\u1001\u1036 \u1011\u102F\u1010\u103A\u101A\u1030\u1019\u100A\u103A",pL="\u1014\u1031\u102C\u1000\u103A\u1001\u1036 \u1021\u1000\u103C\u100A\u103A",uL="Auto",hL="\u1021\u101C\u1004\u103A\u1038",mL="\u1021\u1019\u103E\u1031\u102C\u1004\u103A",gL="Github",fL="Twitter",SL="Discord",bL="\u1013\u102C\u1010\u103A\u1015\u102F\u1036",TL="\u1018\u101A\u103A\u1016\u1000\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",yL="\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u1017\u101F\u102D\u102F\u1006\u102E\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",wL="\u100A\u102C\u1016\u1000\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",xL="\u1021\u1015\u1031\u102B\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",vL="\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u1017\u101F\u102D\u102F\u1006\u102E\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",kL="\u1021\u1031\u102C\u1000\u103A\u101E\u102D\u102F\u1037 \u100A\u103E\u102D\u101B\u1014\u103A",IL="\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u1016\u103C\u1014\u103A\u1037\u101B\u1014\u103A",CL="\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u1016\u103C\u1014\u103A\u1037\u101B\u1014\u103A",DL="\u1021\u101C\u103B\u102C\u1038\u101C\u102D\u102F\u1000\u103A \u1006\u103D\u1032\u1006\u1014\u103A\u1037\u101B\u1014\u103A",PL="\u1012\u1031\u102B\u1004\u103A\u101C\u102D\u102F\u1000\u103A \u1006\u103D\u1032\u1006\u1014\u103A\u1037\u101B\u1014\u103A",ML="\u101A\u1001\u102F \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1000\u102D\u102F \u101E\u102D\u1019\u103A\u1038\u1006\u100A\u103A\u101C\u102D\u102F\u1015\u102B\u101E\u101C\u102C\u1038 ?",EL="\u101A\u1001\u102F \u1015\u101B\u1031\u102C\u1002\u103B\u1000\u103A\u1010\u103D\u1004\u103A \u1015\u103C\u1004\u103A\u1011\u102C\u1038\u101E\u1031\u102C \u1021\u1015\u103C\u1031\u102C\u1004\u103A\u1038\u1021\u101C\u100A\u103A\u1019\u103B\u102C\u1038\u1000\u102D\u102F \u1021\u1010\u100A\u103A\u1015\u103C\u102F \u101E\u102D\u1019\u103A\u1038\u1006\u100A\u103A\u101C\u102D\u102F\u1015\u102B\u101E\u101C\u102C\u1038?",BL="\u1018\u102C\u1019\u103E \u1019\u101C\u102F\u1015\u103A\u1010\u1031\u102C\u1037\u1015\u102B",RL="\u1019\u101C\u102D\u102F\u1010\u1031\u102C\u1037\u1015\u102B",AL="\u101C\u102D\u102F\u1015\u102B\u101E\u100A\u103A",LL="\u1016\u102D\u102F\u1004\u103A\u1014\u102C\u1019\u100A\u103A \u1011\u100A\u103A\u1037\u101E\u103D\u1004\u103A\u1038\u101B\u1014\u103A",HL="tldraw \u1021\u101E\u1005\u103A\u1005\u1019\u103A\u1038\u101E\u102F\u1036\u1038\u1000\u103C\u100A\u103A\u1037\u101B\u1014\u103A",Sl={"style.menu.color":bR,"style.menu.fill":TR,"style.menu.dash":yR,"style.menu.size":wR,"style.menu.keep.open":xR,"style.menu.font":vR,"style.menu.align":kR,styles:IR,"zoom.in":CR,"zoom.out":DR,to:PR,"menu.tools":MR,"menu.transform":ER,"menu.file":BR,"menu.edit":RR,"menu.view":AR,"menu.preferences":LR,"menu.sign.in":HR,"menu.sign.out":zR,"become.a.sponsor":OR,"zoom.to.content":FR,"zoom.to.selection":jR,"zoom.to.fit":VR,"zoom.to":GR,"preferences.dark.mode":$R,"preferences.focus.mode":NR,"preferences.debug.mode":WR,"preferences.show.grid":KR,"preferences.use.cad.selection":UR,"preferences.keep.stylemenu.open":_R,"preferences.always.show.snaps":YR,"preferences.rotate.handles":ZR,"preferences.binding.handles":XR,"preferences.clone.handles":qR,undo:JR,redo:QR,cut:eA,copy:tA,paste:nA,"copy.as":oA,"export.as":sA,"select.all":rA,"select.none":iA,delete:aA,"new.project":lA,open:dA,save:cA,"save.as":pA,"upload.media":uA,"create.page":hA,"new.page":mA,"page.name":gA,duplicate:fA,cancel:SA,"copy.invite.link":bA,"copy.readonly.link":TA,"create.multiplayer.project":yA,"copy.multiplayer.project":wA,select:xA,eraser:vA,draw:kA,arrow:IA,text:CA,sticky:DA,rectangle:PA,ellipse:MA,triangle:EA,line:BA,rotate:RA,"lock.aspect.ratio":AA,"unlock.aspect.ratio":LA,group:HA,ungroup:zA,"move.to.back":OA,"move.backward":FA,"move.forward":jA,"move.to.front":VA,"reset.angle":GA,lock:$A,unlock:NA,"align.distribute":WA,"move.to.page":KA,"flip.horizontal":UA,"flip.vertical":_A,move:YA,"to.front":ZA,forward:XA,backward:qA,back:JA,language:QA,"translation.link":eL,"dock.position":tL,bottom:nL,left:oL,right:sL,top:rL,page:iL,"keyboard.shortcuts":aL,search:lL,loading:dL,"export.background":cL,transparent:pL,auto:uL,light:hL,dark:mL,github:gL,twitter:fL,discord:SL,image:bL,"align.left":TL,"align.center.x":yL,"align.right":wL,"align.top":xL,"align.center.y":vL,"align.bottom":kL,"distribute.x":IL,"distribute.y":CL,"stretch.x":DL,"stretch.y":PL,"dialog.save.firsttime":ML,"dialog.save.again":EL,"dialog.cancel":BL,"dialog.no":RL,"dialog.yes":AL,"enter.file.name":LL,"tldraw-beta":HL};var zL="\u0930\u0902\u0917",OL="\u092D\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",FL="\u0927\u0930\u094D\u0915\u093E",jL="\u0906\u0915\u093E\u0930",VL="\u0916\u0941\u0932\u093E \u0930\u093E\u0916\u094D\u0928\u0941\u0939\u094B\u0938\u094D",GL="\u092B\u0928\u094D\u091F",$L="\u092A\u0919\u094D\u0915\u094D\u0924\u093F\u092C\u0926\u094D\u0927",NL="\u0936\u0948\u0932\u0940\u0939\u0930\u0942",WL="\u091C\u0941\u092E \u0907\u0928",KL="\u091C\u0941\u092E \u0906\u0909\u091F",UL="\u091F\u0941",_L="\u092B\u093E\u0907\u0932",YL="\u0938\u092E\u094D\u092A\u093E\u0926\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",ZL="\u092D\u094D\u092F\u0942",XL="\u092A\u094D\u0930\u093E\u0925\u092E\u093F\u0915\u0924\u093E\u0939\u0930\u0942",qL="\u0938\u093E\u0907\u0928 \u0907\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",JL="\u0938\u093E\u0907\u0928 \u0906\u0909\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",QL="\u092A\u094D\u0930\u093E\u092F\u094B\u091C\u0915 \u092C\u0928\u094D\u0928\u0941\u0939\u094B\u0938\u094D",e5="\u091C\u0941\u092E \u091F\u0941 \u0938\u0947\u0932\u0947\u0915\u094D\u0938\u0928",t5="\u091C\u0941\u092E \u091F\u0941 \u092B\u093F\u091F",n5="\u091C\u0941\u092E \u091F\u0941",o5="\u0905\u0901\u0927\u094D\u092F\u093E\u0930\u094B \u092E\u094B\u0921",s5="\u092B\u094B\u0915\u0938 \u092E\u094B\u0921",r5="\u0921\u093F\u092C\u0917 \u092E\u094B\u0921",i5="\u0917\u094D\u0930\u093F\u0921 \u0926\u0947\u0916\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",a5="CAD \u0938\u0947\u0932\u0947\u0915\u094D\u0938\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",l5="\u0938\u094D\u091F\u093E\u0907\u0932 \u092E\u0947\u0928\u0941 \u0916\u0941\u0932\u093E \u0930\u093E\u0916\u094D\u0928\u0941\u0939\u094B\u0938\u094D",d5="\u0938\u0927\u0948\u0901 \u0938\u094D\u0928\u094D\u092F\u093E\u092A\u0939\u0930\u0942 \u0926\u0947\u0916\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",c5="\u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942 \u0918\u0941\u092E\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",p5="\u092C\u093E\u0907\u0928\u094D\u0921\u093F\u0919 \u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942",u5="\u0915\u094D\u0932\u094B\u0928 \u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942",h5="\u092A\u0942\u0930\u094D\u0935\u0935\u0924 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",m5="\u092A\u0941\u0928\u0903 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",g5="\u0915\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",f5="\u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",S5="\u092A\u0947\u0938\u094D\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",b5="\u0915\u092A\u093F \u090F\u091C",T5="\u090F\u0915\u094D\u0938\u092A\u094B\u0930\u094D\u091F \u090F\u091C",y5="\u0938\u092C\u0948 \u091B\u093E\u0928\u094D\u0928\u0941\u0939\u094B\u0938\u094D",w5="\u0915\u0947\u0939\u093F \u092A\u0928\u093F \u0938\u0947\u0932\u0947\u0915\u094D\u091F \u0928\u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",x5="\u092E\u0947\u091F\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",v5="\u0928\u092F\u093E\u0901 \u092A\u0930\u093F\u092F\u094B\u091C\u0928\u093E",k5="\u0916\u094B\u0932\u094D\u0928\u0941\u0939\u094B\u0938\u094D",I5="\u0938\u0941\u0930\u0915\u094D\u0937\u093F\u0924 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",C5="\u0938\u0947\u092D \u090F\u091C",D5="\u092E\u093F\u0921\u093F\u092F\u093E \u0905\u092A\u0932\u094B\u0921 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",P5="\u092A\u0943\u0937\u094D\u0920 \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",M5="\u0928\u092F\u093E\u0901 \u092A\u0943\u0937\u094D\u0920 \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",E5="\u092A\u0943\u0937\u094D\u0920\u0915\u094B \u0928\u093E\u092E",B5="\u0905\u0928\u0941\u0932\u093F\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",R5="\u0930\u0926\u094D\u0926 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",A5="\u0928\u093F\u092E\u0928\u094D\u0924\u094D\u0930\u0923\u093E \u0932\u093F\u0919\u094D\u0915 \u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",L5="\u092E\u0932\u094D\u091F\u093F\u092A\u094D\u0932\u0947\u092F\u0930 \u092A\u0930\u093F\u092F\u094B\u091C\u0928\u093E \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",H5="\u092E\u0932\u094D\u091F\u093F\u092A\u094D\u0932\u0947\u092F\u0930 \u092A\u094D\u0930\u094B\u091C\u0947\u0915\u094D\u091F\u092E\u093E \u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",z5="\u0938\u0947\u0932\u0947\u0915\u094D\u091F",O5="\u0907\u0930\u0947\u091C\u0930",F5="\u091A\u093F\u0924\u094D\u0930 \u092C\u0928\u093E\u0909\u0928\u0941",j5="\u0924\u0940\u0930",V5="\u0936\u092C\u094D\u0926",G5="\u091F\u093E\u0901\u0938\u093F\u0928\u0947",$5="\u0906\u092F\u0924",N5="\u0926\u0940\u0930\u094D\u0918\u0935\u0943\u0924\u094D\u0924",W5="\u0924\u094D\u0930\u093F\u092D\u0941\u091C",K5="\u0930\u0947\u0916\u093E",U5="\u0918\u0941\u092E\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",_5="\u0906\u0915\u093E\u0930 \u0905\u0928\u0941\u092A\u093E\u0924 \u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Y5="\u0906\u0915\u093E\u0930 \u0905\u0928\u0941\u092A\u093E\u0924 \u0905\u0928\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Z5="\u0938\u092E\u0942\u0939",X5="\u0938\u092E\u0942\u0939 \u0930\u0926\u094D\u0926 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",q5="\u092A\u091B\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",J5="\u0925\u092A \u092A\u091B\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",Q5="\u0905\u0917\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",e3="\u0925\u092A \u0905\u0917\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",t3="\u0915\u094B\u0923 \u0930\u093F\u0938\u0947\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",n3="\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",o3="\u0905\u0928\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",s3="\u092A\u0943\u0937\u094D\u0920\u092E\u093E \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",r3="\u0924\u0947\u0930\u094D\u0938\u094B \u092B\u094D\u0932\u093F\u092A \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",i3="\u0920\u093E\u0921\u094B \u092B\u094D\u0932\u093F\u092A \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",a3="\u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",l3="\u0925\u092A \u0905\u0917\u093E\u0921\u093F",d3="\u0905\u0917\u093E\u0921\u093F",c3="\u092A\u091B\u093E\u0921\u093F",p3="\u0925\u092A \u092A\u091B\u093E\u0921\u093F",u3="\u092D\u093E\u0937\u093E",bl={"style.menu.color":zL,"style.menu.fill":OL,"style.menu.dash":FL,"style.menu.size":jL,"style.menu.keep.open":VL,"style.menu.font":GL,"style.menu.align":$L,styles:NL,"zoom.in":WL,"zoom.out":KL,to:UL,"menu.file":_L,"menu.edit":YL,"menu.view":ZL,"menu.preferences":XL,"menu.sign.in":qL,"menu.sign.out":JL,"become.a.sponsor":QL,"zoom.to.selection":e5,"zoom.to.fit":t5,"zoom.to":n5,"preferences.dark.mode":o5,"preferences.focus.mode":s5,"preferences.debug.mode":r5,"preferences.show.grid":i5,"preferences.use.cad.selection":a5,"preferences.keep.stylemenu.open":l5,"preferences.always.show.snaps":d5,"preferences.rotate.handles":c5,"preferences.binding.handles":p5,"preferences.clone.handles":u5,undo:h5,redo:m5,cut:g5,copy:f5,paste:S5,"copy.as":b5,"export.as":T5,"select.all":y5,"select.none":w5,delete:x5,"new.project":v5,open:k5,save:I5,"save.as":C5,"upload.media":D5,"create.page":P5,"new.page":M5,"page.name":E5,duplicate:B5,cancel:R5,"copy.invite.link":A5,"create.multiplayer.project":L5,"copy.multiplayer.project":H5,select:z5,eraser:O5,draw:F5,arrow:j5,text:V5,sticky:G5,rectangle:$5,ellipse:N5,triangle:W5,line:K5,rotate:U5,"lock.aspect.ratio":_5,"unlock.aspect.ratio":Y5,group:Z5,ungroup:X5,"move.to.back":q5,"move.backward":J5,"move.forward":Q5,"move.to.front":e3,"reset.angle":t3,lock:n3,unlock:o3,"move.to.page":s3,"flip.horizontal":r3,"flip.vertical":i3,move:a3,"to.front":l3,forward:d3,backward:c3,back:p3,language:u3};var h3="Farge",m3="Fyll",g3="Linje",f3="St\xF8rrelse",S3="Hold \xE5pen",b3="Teksttype",T3="Juster",y3="Stiler",w3="Zoom inn",x3="Zoom ut",v3="til",k3="Fil",I3="Rediger",C3="Vis",D3="Preferanser",P3="Logg inn",M3="Logg ut",E3="Bli en sponsor",B3="Zoom til valg",R3="Zoom for \xE5 passe",A3="Zoom til",L3="M\xF8rk modus",H3="Fokus modus",z3="Debug modus",O3="Vis rutenett",F3="Bruk CAD seleksjon",j3="Hold stilmeny \xE5pen",V3="Vis alltid snaps",G3="Vis roteringsh\xE5ndtak",$3="Vis bindingsh\xE5ndtak",N3="Vis kloningsh\xE5ndtak",W3="Angre",K3="Gj\xF8r om",U3="Klipp ut",_3="Kopier",Y3="Lim inn",Z3="Kopier som",X3="Eksporter som",q3="Velg alle",J3="Velg ingen",Q3="Slett",e8="Nytt prosjekt",t8="\xC5pne",n8="Lagre",o8="Lagre som",s8="Last opp media",r8="Opprett side",i8="Ny side",a8="Sidenavn",l8="Dupliser",d8="Avbryt",c8="Kopier invitasjonslink",p8="Opprett et flerspiller prosjekt",u8="Kopier til flerspiller prosjekt",h8="Velg",m8="Viskel\xE6r",g8="Tegn",f8="Pil",S8="Tekst",b8="Lapp",T8="Rektangel",y8="Ellipse",w8="Trekant",x8="Linje",v8="Roter",k8="L\xE5s st\xF8rrelsesforhold",I8="L\xE5s opp st\xF8rrelsesforhold",C8="Grupper",D8="Avgrupper",P8="Flytt bakerst",M8="Flytt bakover",E8="Flytt forover",B8="Flytt til front",R8="Tilbakestill vinkel",A8="L\xE5s",L8="L\xE5s opp",H8="Flytt til side",z8="Snu horisontalt",O8="Snu vertikalt",F8="Flytt",j8="Foran",V8="Framover",G8="Bakover",$8="Bakerst",N8="Spr\xE5k",Tl={"style.menu.color":h3,"style.menu.fill":m3,"style.menu.dash":g3,"style.menu.size":f3,"style.menu.keep.open":S3,"style.menu.font":b3,"style.menu.align":T3,styles:y3,"zoom.in":w3,"zoom.out":x3,to:v3,"menu.file":k3,"menu.edit":I3,"menu.view":C3,"menu.preferences":D3,"menu.sign.in":P3,"menu.sign.out":M3,"become.a.sponsor":E3,"zoom.to.selection":B3,"zoom.to.fit":R3,"zoom.to":A3,"preferences.dark.mode":L3,"preferences.focus.mode":H3,"preferences.debug.mode":z3,"preferences.show.grid":O3,"preferences.use.cad.selection":F3,"preferences.keep.stylemenu.open":j3,"preferences.always.show.snaps":V3,"preferences.rotate.handles":G3,"preferences.binding.handles":$3,"preferences.clone.handles":N3,undo:W3,redo:K3,cut:U3,copy:_3,paste:Y3,"copy.as":Z3,"export.as":X3,"select.all":q3,"select.none":J3,delete:Q3,"new.project":e8,open:t8,save:n8,"save.as":o8,"upload.media":s8,"create.page":r8,"new.page":i8,"page.name":a8,duplicate:l8,cancel:d8,"copy.invite.link":c8,"create.multiplayer.project":p8,"copy.multiplayer.project":u8,select:h8,eraser:m8,draw:g8,arrow:f8,text:S8,sticky:b8,rectangle:T8,ellipse:y8,triangle:w8,line:x8,rotate:v8,"lock.aspect.ratio":k8,"unlock.aspect.ratio":I8,group:C8,ungroup:D8,"move.to.back":P8,"move.backward":M8,"move.forward":E8,"move.to.front":B8,"reset.angle":R8,lock:A8,unlock:L8,"move.to.page":H8,"flip.horizontal":z8,"flip.vertical":O8,move:F8,"to.front":j8,forward:V8,backward:G8,back:$8,language:N8};var W8="Kolor",K8="Wype\u0142nienie",U8="Linia",_8="Rozmiar",Y8="Zachowaj otwarte",Z8="Czcionka",X8="Wyr\xF3wnanie",q8="Style",J8="Przybli\u017C",Q8="Oddal",e6="do",t6="Plik",n6="Edycja",o6="Widok",s6="Preferencje",r6="Zaloguj",i6="Wyloguj",a6="Zosta\u0144 sponsorem",l6="Przybli\u017C do zaznaczenia",d6="Wype\u0142nij ekran",c6="Przybli\u017C do",p6="Tryb ciemny",u6="Tryb skupienia",h6="Tryb debugowania",m6="Poka\u017C siatk\u0119",g6="U\u017Cyj zaznaczania CAD",f6="Zachowaj menu styli otwarte",S6="Przyci\u0105gaj obiekty",b6="Uchwyty obrotu",T6="Uchwyty powi\u0105zania",y6="Uchwyty klonuj\u0105ce",w6="Cofnij",x6="Powt\xF3rz",v6="Wytnij",k6="Kopiuj",I6="Wklej",C6="Kopiuj jako",D6="Eksportuj jako",P6="Zaznacz wszystko",M6="Odznacz wszystko",E6="Usu\u0144",B6="Nowy projekt",R6="Otw\xF3rz",A6="Zapisz",L6="Zapisz jako",H6="Za\u0142aduj multimedia",z6="Utw\xF3rz stron\u0119",O6="Nowa strona",F6="Nazwa strony",j6="Powiel",V6="Anuluj",G6="Kopiuj link zaproszenia",$6="Stw\xF3rz projekt wieloosobowy",N6="Kopiuj do projektu wieloosobowego",W6="Zaznacz",K6="Gumka",U6="Rysuj",_6="Strza\u0142ka",Y6="Tekst",Z6="Naklejka",X6="Prostok\u0105t",q6="Elipsa",J6="Tr\xF3jk\u0105t",Q6="Linia",eH="Obr\xF3\u0107",tH="Zablokuj proporcje",nH="Odblokuj proporcje",oH="Grupuj",sH="Rozgrupuj",rH="Przenie\u015B na ty\u0142",iH="Przesu\u0144 do ty\u0142u",aH="Przesu\u0144 do przodu",lH="Przenie\u015B na prz\xF3d",dH="Resetuj k\u0105t",cH="Zablokuj",pH="Odblokuj",uH="Przenie\u015B na stron\u0119",hH="Odwr\xF3\u0107 w poziomie",mH="Odwr\xF3\u0107 w pionie",gH="Przenie\u015B",fH="Na wierzch",SH="Do przodu",bH="Do ty\u0142u",TH="Na sp\xF3d",yH="J\u0119zyk",wH="Czytaj wi\u0119cej",xH="Pozycja przybornika",vH="D\xF3\u0142",kH="Lewa",IH="Prawa",CH="G\xF3ra",DH="Strona",PH="Skr\xF3ty klawiszowe",MH="Szukaj",EH="\u0141adowanie{dots}",BH="Eksportuj t\u0142o",RH="Przezroczyste",AH="Automatyczny",LH="Jasny",HH="Ciemny",zH="Github",OH="Twitter",FH="Discord",jH="Obraz",VH="Wyr\xF3wnaj do lewej",GH="Wycentruj poziomo",$H="Wyr\xF3wnaj do prawej",NH="Wyr\xF3wnaj do g\xF3ry",WH="Wycentruj pionowo",KH="Wyr\xF3wnaj do do\u0142u",UH="Roz\u0142\xF3\u017C poziomo",_H="Roz\u0142\xF3\u017C pionowo",YH="Rozci\u0105gnij poziomo",ZH="Rozci\u0105gnij pionowo",XH="Czy chcesz zapisa\u0107 bie\u017C\u0105cy projekt?",qH="Czy chcesz zapisa\u0107 zmiany w bie\u017C\u0105cym projekcie?",JH="Anuluj",QH="Nie",e4="Tak",t4="Podaj nazw\u0119 pliku",n4="Wypr\xF3buj nowy tldraw",yl={"style.menu.color":W8,"style.menu.fill":K8,"style.menu.dash":U8,"style.menu.size":_8,"style.menu.keep.open":Y8,"style.menu.font":Z8,"style.menu.align":X8,styles:q8,"zoom.in":J8,"zoom.out":Q8,to:e6,"menu.file":t6,"menu.edit":n6,"menu.view":o6,"menu.preferences":s6,"menu.sign.in":r6,"menu.sign.out":i6,"become.a.sponsor":a6,"zoom.to.selection":l6,"zoom.to.fit":d6,"zoom.to":c6,"preferences.dark.mode":p6,"preferences.focus.mode":u6,"preferences.debug.mode":h6,"preferences.show.grid":m6,"preferences.use.cad.selection":g6,"preferences.keep.stylemenu.open":f6,"preferences.always.show.snaps":S6,"preferences.rotate.handles":b6,"preferences.binding.handles":T6,"preferences.clone.handles":y6,undo:w6,redo:x6,cut:v6,copy:k6,paste:I6,"copy.as":C6,"export.as":D6,"select.all":P6,"select.none":M6,delete:E6,"new.project":B6,open:R6,save:A6,"save.as":L6,"upload.media":H6,"create.page":z6,"new.page":O6,"page.name":F6,duplicate:j6,cancel:V6,"copy.invite.link":G6,"create.multiplayer.project":$6,"copy.multiplayer.project":N6,select:W6,eraser:K6,draw:U6,arrow:_6,text:Y6,sticky:Z6,rectangle:X6,ellipse:q6,triangle:J6,line:Q6,rotate:eH,"lock.aspect.ratio":tH,"unlock.aspect.ratio":nH,group:oH,ungroup:sH,"move.to.back":rH,"move.backward":iH,"move.forward":aH,"move.to.front":lH,"reset.angle":dH,lock:cH,unlock:pH,"move.to.page":uH,"flip.horizontal":hH,"flip.vertical":mH,move:gH,"to.front":fH,forward:SH,backward:bH,back:TH,language:yH,"translation.link":wH,"dock.position":xH,bottom:vH,left:kH,right:IH,top:CH,page:DH,"keyboard.shortcuts":PH,search:MH,loading:EH,"export.background":BH,transparent:RH,auto:AH,light:LH,dark:HH,github:zH,twitter:OH,discord:FH,image:jH,"align.left":VH,"align.center.x":GH,"align.right":$H,"align.top":NH,"align.center.y":WH,"align.bottom":KH,"distribute.x":UH,"distribute.y":_H,"stretch.x":YH,"stretch.y":ZH,"dialog.save.firsttime":XH,"dialog.save.again":qH,"dialog.cancel":JH,"dialog.no":QH,"dialog.yes":e4,"enter.file.name":t4,"tldraw-beta":n4};var o4="Cor",s4="Preencher",r4="Tra\xE7o",i4="Tamanho",a4="Manter aberto",l4="Fonte",d4="Alinhamento",c4="Estilos",p4="Aumentar zoom",u4="Diminuir zoom",h4="para",m4="Arquivo",g4="Editar",f4="Visualizar",S4="Prefer\xEAncias",b4="Entrar",T4="Sair",y4="Torne-se um patrocinador",w4="Zoom para a sele\xE7\xE3o",x4="Zoom para ajuste",v4="Zoom para",k4="Modo Escuro",I4="Modo Foco",C4="Modo Debug",D4="Mostrar Grade",P4="Usar sele\xE7\xE3o CAD",M4="Manter Menu de Estilos Aberto",E4="Mostrar Pontos de Ajuste",B4="Controle de Rota\xE7\xE3o",R4="Controle de V\xEDnculos",A4="Controle de Clone",L4="Desfazer",H4="Refazer",z4="Cortar",O4="Copiar",F4="Colar",j4="Copiar como",V4="Exportar como",G4="Selecionar todos",$4="Selecionar nenhum",N4="Deletar",W4="Novo Projeto",K4="Abrir",U4="Salvar",_4="Salvar Como",Y4="Carregar M\xEDdia",Z4="P\xE1gina",X4="Procurar",q4="Carregando{dots}",J4="Exportar Fundo",Q4="Transparente",ez="Autom\xE1tico",tz="Claro",nz="Escuro",oz="Ferramentas",sz="Transformar",rz="Voltar ao Conte\xFAdo",iz="Saiba Mais",az="Copiar Link ReadOnly",lz="Alinhar / Distribuir",dz="Criar P\xE1gina",cz="Nova P\xE1gina",pz="Nome da P\xE1gina",uz="Duplicar",hz="Cancelar",mz="Copiar Link de Convite",gz="Criar um Projeto Multijogador",fz="Copiar para Projeto Multijogador",Sz="Selecionar",bz="Borracha",Tz="Desenhar",yz="Seta",wz="Texto",xz="Adesivo",vz="Ret\xE2ngulo",kz="Elipse",Iz="Tri\xE2ngulo",Cz="Linha",Dz="Rotacionar",Pz="Travar Propor\xE7\xE3o da Tela",Mz="Destravar Propor\xE7\xE3o da Tela",Ez="Agrupar",Bz="Desagrupar",Rz="Recuar",Az="Enviar para Tr\xE1s",Lz="Avan\xE7ar",Hz="Trazer para Frente",zz="Reiniciar \xC2ngulo",Oz="Travar",Fz="Destravar",jz="Mover para P\xE1gina",Vz="Virar Horizontalmente",Gz="Virar Verticalmente",$z="Mover",Nz="Para Frente",Wz="Avan\xE7ar",Kz="Recuar",Uz="Voltar",_z="Idioma",Yz="Imagem",Zz="Atalhos de Teclado",Xz="Posi\xE7\xE3o de Ferramentas",qz="Inferior",Jz="Superior",Qz="Direita",e9="Esquerda",t9="Alinhar \xE0 esquerda",n9="Alinhar ao centro na horizontal",o9="Alinhar \xE0 direita",s9="Alinhas em cima",r9="Alinhar ao centro na vertical",i9="Alinhar embaixo",a9="Distruibuir na horizontal",l9="Distruibuir na vertical",d9="Esticar na horizontal",c9="Esticar na vertical",p9="Voc\xEA deseja salvar seu projeto atual?",u9="Voc\xEA deseja salvar as mudan\xE7as ao projeto atual?",h9="Cancelar",m9="N\xE3o",g9="Sim",f9="Insira o nome do arquivo",wl={"style.menu.color":o4,"style.menu.fill":s4,"style.menu.dash":r4,"style.menu.size":i4,"style.menu.keep.open":a4,"style.menu.font":l4,"style.menu.align":d4,styles:c4,"zoom.in":p4,"zoom.out":u4,to:h4,"menu.file":m4,"menu.edit":g4,"menu.view":f4,"menu.preferences":S4,"menu.sign.in":b4,"menu.sign.out":T4,"become.a.sponsor":y4,"zoom.to.selection":w4,"zoom.to.fit":x4,"zoom.to":v4,"preferences.dark.mode":k4,"preferences.focus.mode":I4,"preferences.debug.mode":C4,"preferences.show.grid":D4,"preferences.use.cad.selection":P4,"preferences.keep.stylemenu.open":M4,"preferences.always.show.snaps":E4,"preferences.rotate.handles":B4,"preferences.binding.handles":R4,"preferences.clone.handles":A4,undo:L4,redo:H4,cut:z4,copy:O4,paste:F4,"copy.as":j4,"export.as":V4,"select.all":G4,"select.none":$4,delete:N4,"new.project":W4,open:K4,save:U4,"save.as":_4,"upload.media":Y4,page:Z4,search:X4,loading:q4,"export.background":J4,transparent:Q4,auto:ez,light:tz,dark:nz,"menu.tools":oz,"menu.transform":sz,"zoom.to.content":rz,"translation.link":iz,"copy.readonly.link":az,"align.distribute":lz,"create.page":dz,"new.page":cz,"page.name":pz,duplicate:uz,cancel:hz,"copy.invite.link":mz,"create.multiplayer.project":gz,"copy.multiplayer.project":fz,select:Sz,eraser:bz,draw:Tz,arrow:yz,text:wz,sticky:xz,rectangle:vz,ellipse:kz,triangle:Iz,line:Cz,rotate:Dz,"lock.aspect.ratio":Pz,"unlock.aspect.ratio":Mz,group:Ez,ungroup:Bz,"move.to.back":Rz,"move.backward":Az,"move.forward":Lz,"move.to.front":Hz,"reset.angle":zz,lock:Oz,unlock:Fz,"move.to.page":jz,"flip.horizontal":Vz,"flip.vertical":Gz,move:$z,"to.front":Nz,forward:Wz,backward:Kz,back:Uz,language:_z,image:Yz,"keyboard.shortcuts":Zz,"dock.position":Xz,bottom:qz,top:Jz,right:Qz,left:e9,"align.left":t9,"align.center.x":n9,"align.right":o9,"align.top":s9,"align.center.y":r9,"align.bottom":i9,"distribute.x":a9,"distribute.y":l9,"stretch.x":d9,"stretch.y":c9,"dialog.save.firsttime":p9,"dialog.save.again":u9,"dialog.cancel":h9,"dialog.no":m9,"dialog.yes":g9,"enter.file.name":f9};var S9="Cor",b9="Preencher",T9="Tra\xE7o",y9="Tamanho",w9="Manter aberto",x9="Fonte",v9="Alinhamento",k9="Estilos",I9="Aumentar zoom",C9="Diminuir zoom",D9="para",P9="Ficheiro",M9="Editar",E9="Visualizar",B9="Prefer\xEAncias",R9="Entrar",A9="Sair",L9="Torne-se um patrocinador",H9="Zoom na sele\xE7\xE3o",z9="Zoom para caber",O9="Zoom para",F9="Modo Escuro",j9="Modo Foco",V9="Modo Debug",G9="Mostrar Grelha",$9="Usar sele\xE7\xE3o CAD",N9="Manter Menu de Estilos Aberto",W9="Mostrar Pontos de Ajuste",K9="Controlo de Rota\xE7\xE3o",U9="Controlo de Binds",_9="Controlo de Clone",Y9="Desfazer",Z9="Refazer",X9="Cortar",q9="Copiar",J9="Colar",Q9="Copiar como",e7="Exportar como",t7="Selecionar todos",n7="Selecionar nenhum",o7="Apagar",s7="Novo Projeto",r7="Abrir",i7="Salvar",a7="Salvar Como",l7="Upload M\xE9dia",d7="Criar P\xE1gina",c7="Nova P\xE1gina",p7="Nome da P\xE1gina",u7="Duplicar",h7="Cancelar",m7="Copiar Link de Convite",g7="Criar um Projeto Multi-Utilizador",f7="Copiar num Projeto Multi-Utilizador",S7="Selecionar",b7="Borracha",T7="Desenhar",y7="Seta",w7="Texto",x7="Post-it",v7="Ret\xE2ngulo",k7="Elipse",I7="Tri\xE2ngulo",C7="Linha",D7="Rodar",P7="Trancar a Propor\xE7\xE3o",M7="Destrancar a Propor\xE7\xE3o",E7="Agrupar",B7="Desagrupar",R7="Colocar no Fundo",A7="Mover abaixo",L7="Mover acima",H7="Colocar \xE0 Frente",z7="Reiniciar \xC2ngulo",O7="Trancar",F7="Destrancar",j7="Mover para P\xE1gina",V7="Inverter Horizontalmente",G7="Inverter Verticalmente",$7="Mover",N7="Para Frente",W7="Avan\xE7ar",K7="Recuar",U7="Voltar",_7="L\xEDngua",xl={"style.menu.color":S9,"style.menu.fill":b9,"style.menu.dash":T9,"style.menu.size":y9,"style.menu.keep.open":w9,"style.menu.font":x9,"style.menu.align":v9,styles:k9,"zoom.in":I9,"zoom.out":C9,to:D9,"menu.file":P9,"menu.edit":M9,"menu.view":E9,"menu.preferences":B9,"menu.sign.in":R9,"menu.sign.out":A9,"become.a.sponsor":L9,"zoom.to.selection":H9,"zoom.to.fit":z9,"zoom.to":O9,"preferences.dark.mode":F9,"preferences.focus.mode":j9,"preferences.debug.mode":V9,"preferences.show.grid":G9,"preferences.use.cad.selection":$9,"preferences.keep.stylemenu.open":N9,"preferences.always.show.snaps":W9,"preferences.rotate.handles":K9,"preferences.binding.handles":U9,"preferences.clone.handles":_9,undo:Y9,redo:Z9,cut:X9,copy:q9,paste:J9,"copy.as":Q9,"export.as":e7,"select.all":t7,"select.none":n7,delete:o7,"new.project":s7,open:r7,save:i7,"save.as":a7,"upload.media":l7,"create.page":d7,"new.page":c7,"page.name":p7,duplicate:u7,cancel:h7,"copy.invite.link":m7,"create.multiplayer.project":g7,"copy.multiplayer.project":f7,select:S7,eraser:b7,draw:T7,arrow:y7,text:w7,sticky:x7,rectangle:v7,ellipse:k7,triangle:I7,line:C7,rotate:D7,"lock.aspect.ratio":P7,"unlock.aspect.ratio":M7,group:E7,ungroup:B7,"move.to.back":R7,"move.backward":A7,"move.forward":L7,"move.to.front":H7,"reset.angle":z7,lock:O7,unlock:F7,"move.to.page":j7,"flip.horizontal":V7,"flip.vertical":G7,move:$7,"to.front":N7,forward:W7,backward:K7,back:U7,language:_7};var Y7="\u0426\u0432\u0435\u0442",Z7="\u0417\u0430\u043F\u043E\u043B\u043D\u044F\u0442\u044C",X7="\u0428\u0442\u0440\u0438\u0445",q7="\u0420\u0430\u0437\u043C\u0435\u0440",J7="\u0414\u0435\u0440\u0436\u0430\u0442\u044C \u043E\u0442\u043A\u0440\u044B\u0442\u044B\u043C",Q7="\u0428\u0440\u0438\u0444\u0442",eO="\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435",tO="\u0421\u0442\u0438\u043B\u044C",nO="\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C",oO="\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C",sO="\u043A",rO="\u0418\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B",iO="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0435",aO="\u0424\u0430\u0439\u043B",lO="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",dO="\u0412\u0438\u0434",cO="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",pO="\u0412\u043E\u0439\u0442\u0438",uO="\u0412\u044B\u0439\u0442\u0438",hO="\u0421\u0442\u0430\u0442\u044C \u0441\u043F\u043E\u043D\u0441\u043E\u0440\u043E\u043C",mO="\u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043A \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u043C\u0443",gO="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u044E",fO="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0440\u0430\u0437\u043C\u0435\u0440\u0443 \u044D\u043A\u0440\u0430\u043D\u0430",SO="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A",bO="\u0422\u0451\u043C\u043D\u0430\u044F \u0442\u0435\u043C\u0430",TO="\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u0438\u0441\u0442\u0438\u0447\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C",yO="\u0420\u0435\u0436\u0438\u043C \u043E\u0442\u043B\u0430\u0434\u043A\u0438",wO="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0441\u0435\u0442\u043A\u0443",xO="\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C CAD \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",vO="\u0414\u0435\u0440\u0436\u0430\u0442\u044C \u043C\u0435\u043D\u044E \u0441\u0442\u0438\u043B\u0435\u0439 \u043E\u0442\u043A\u0440\u044B\u0442\u044B\u043C",kO="\u0412\u0441\u0435\u0433\u0434\u0430 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0438",IO="\u0420\u0443\u0447\u043A\u0438 \u0432\u0440\u0430\u0449\u0435\u043D\u0438\u044F",CO="\u0420\u0443\u0447\u043A\u0438 \u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0438",DO="\u0420\u0443\u0447\u043A\u0438 \u043A\u043B\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F",PO="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",MO="\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C",EO="\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C",BO="\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",RO="\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C",AO="\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A",LO="\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A",HO="\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0441\u0451",zO="\u0421\u043D\u044F\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",OO="\u0423\u0434\u0430\u043B\u0438\u0442\u044C",FO="\u041D\u043E\u0432\u044B\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",jO="\u041E\u0442\u043A\u0440\u044B\u0442\u044C",VO="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",GO="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043A\u0430\u043A",$O="\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043C\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043B",NO="\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",WO="\u041D\u043E\u0432\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",KO="\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",UO="\u0414\u0443\u0431\u043B\u0438\u0440\u043E\u0432\u0430\u0442\u044C",_O="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",YO="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u044F",ZO="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u0447\u0442\u0435\u043D\u0438\u044F",XO="\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043C\u043D\u043E\u0433\u043E\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",qO="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432 \u043C\u043D\u043E\u0433\u043E\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",JO="\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C",QO="\u041B\u0430\u0441\u0442\u0438\u043A",eF="\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C",tF="\u0421\u0442\u0440\u0435\u043B\u043A\u0430",nF="\u0422\u0435\u043A\u0441\u0442",oF="\u0417\u0430\u043C\u0435\u0442\u043A\u0430",sF="\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",rF="\u042D\u043B\u043B\u0438\u043F\u0441",iF="\u0422\u0440\u0435\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",aF="\u041B\u0438\u043D\u0438\u044F",lF="\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u044C",dF="\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u0440\u043E\u043D",cF="\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u0440\u043E\u043D",pF="\u0421\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",uF="\u0420\u0430\u0437\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",hF="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430\u0437\u0430\u0434",mF="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u0437\u0430\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",gF="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u043F\u0435\u0440\u0451\u0434",fF="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",SF="\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0443\u0433\u043E\u043B",bF="\u0411\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C",TF="\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C",yF="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C / \u0440\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C",wF="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",xF="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",vF="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",kF="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C",IF="\u041D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",CF="\u0412\u043F\u0435\u0440\u0435\u0434",DF="\u041D\u0430 \u0437\u0430\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",PF="\u041D\u0430\u0437\u0430\u0434",MF="\u042F\u0437\u044B\u043A",EF="\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",BF="\u0420\u0430\u0441\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043F\u0430\u043D\u0435\u043B\u0438 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u043E\u0432",RF="\u0421\u043D\u0438\u0437\u0443",AF="\u0421\u043B\u0435\u0432\u0430",LF="\u0421\u043F\u0440\u0430\u0432\u0430",HF="\u0421\u0432\u0435\u0440\u0445\u0443",zF="\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430",OF="\u0421\u043E\u0447\u0435\u0442\u0430\u043D\u0438\u044F \u043A\u043B\u0430\u0432\u0438\u0448",FF="\u041F\u043E\u0438\u0441\u043A",jF="\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",VF="\u042D\u043A\u0441\u043F\u043E\u0440\u0442 \u0444\u043E\u043D\u0430",GF="\u041F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u044B\u0439",$F="\u0410\u0432\u0442\u043E",NF="\u0421\u0432\u0435\u0442\u043B\u044B\u0439",WF="\u0422\u0451\u043C\u043D\u044B\u0439",KF="\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",UF="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043B\u0435\u0432\u043E\u043C\u0443 \u043A\u0440\u0430\u044E",_F="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443 \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",YF="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043F\u0440\u0430\u0432\u043E\u043C\u0443 \u043A\u0440\u0430\u044E",ZF="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0432\u0435\u0440\u0445\u043D\u0435\u043C\u0443 \u043A\u0440\u0430\u044E",XF="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443 \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",qF="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043D\u0438\u0436\u043D\u0435\u043C\u0443 \u043A\u0440\u0430\u044E",JF="\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",QF="\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",ej="\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",tj="\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",nj="\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F",oj="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0430 \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",sj="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0430 \u043F\u0440\u043E\u0435\u043A\u0442",rj="\u0414\u0430\u043D\u043D\u044B\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0432\u0435\u043B\u0438\u043A\u0438, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0438\u0445 \u0432 \u0441\u0441\u044B\u043B\u043A\u0435. \u041D\u0435 \u0432\u043A\u043B\u044E\u0447\u0430\u0439\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u0432\u0438\u0434\u0435\u043E!",ij="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442?",aj="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432 \u0442\u0435\u043A\u0443\u0449\u0435\u043C \u043F\u0440\u043E\u0435\u043A\u0442\u0435?",lj="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",dj="\u041D\u0435\u0442",cj="\u0414\u0430",pj="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F \u0444\u0430\u0439\u043B\u0430",vl={"style.menu.color":Y7,"style.menu.fill":Z7,"style.menu.dash":X7,"style.menu.size":q7,"style.menu.keep.open":J7,"style.menu.font":Q7,"style.menu.align":eO,styles:tO,"zoom.in":nO,"zoom.out":oO,to:sO,"menu.tools":rO,"menu.transform":iO,"menu.file":aO,"menu.edit":lO,"menu.view":dO,"menu.preferences":cO,"menu.sign.in":pO,"menu.sign.out":uO,"become.a.sponsor":hO,"zoom.to.content":mO,"zoom.to.selection":gO,"zoom.to.fit":fO,"zoom.to":SO,"preferences.dark.mode":bO,"preferences.focus.mode":TO,"preferences.debug.mode":yO,"preferences.show.grid":wO,"preferences.use.cad.selection":xO,"preferences.keep.stylemenu.open":vO,"preferences.always.show.snaps":kO,"preferences.rotate.handles":IO,"preferences.binding.handles":CO,"preferences.clone.handles":DO,undo:PO,redo:MO,cut:EO,copy:BO,paste:RO,"copy.as":AO,"export.as":LO,"select.all":HO,"select.none":zO,delete:OO,"new.project":FO,open:jO,save:VO,"save.as":GO,"upload.media":$O,"create.page":NO,"new.page":WO,"page.name":KO,duplicate:UO,cancel:_O,"copy.invite.link":YO,"copy.readonly.link":ZO,"create.multiplayer.project":XO,"copy.multiplayer.project":qO,select:JO,eraser:QO,draw:eF,arrow:tF,text:nF,sticky:oF,rectangle:sF,ellipse:rF,triangle:iF,line:aF,rotate:lF,"lock.aspect.ratio":dF,"unlock.aspect.ratio":cF,group:pF,ungroup:uF,"move.to.back":hF,"move.backward":mF,"move.forward":gF,"move.to.front":fF,"reset.angle":SF,lock:bF,unlock:TF,"align.distribute":yF,"move.to.page":wF,"flip.horizontal":xF,"flip.vertical":vF,move:kF,"to.front":IF,forward:CF,backward:DF,back:PF,language:MF,"translation.link":EF,"dock.position":BF,bottom:RF,left:AF,right:LF,top:HF,page:zF,"keyboard.shortcuts":OF,search:FF,loading:jF,"export.background":VF,transparent:GF,auto:$F,light:NF,dark:WF,image:KF,"align.left":UF,"align.center.x":_F,"align.right":YF,"align.top":ZF,"align.center.y":XF,"align.bottom":qF,"distribute.x":JF,"distribute.y":QF,"stretch.x":ej,"stretch.y":tj,share:nj,"copy.current.page.link":oj,"copy.project.link":sj,"data.too.big.encoded":rj,"dialog.save.firsttime":ij,"dialog.save.again":aj,"dialog.cancel":lj,"dialog.no":dj,"dialog.yes":cj,"enter.file.name":pj};var uj="F\xE4rg",hj="Ifylld",mj="Streck",gj="Storlek",fj="H\xE5ll stilmenyn \xF6ppen",Sj="Typsnitt",bj="Justera",Tj="Utseende",yj="Zooma in",wj="Zooma ut",xj="Till",vj="Verktyg",kj="Transform",Ij="Arkiv",Cj="Redigera",Dj="Inneh\xE5ll",Pj="Inst\xE4llningar",Mj="Logga in",Ej="Logga ut",Bj="Bli en sponsor",Rj="Anpassa zoom till inneh\xE5ll",Aj="Anpassa zoom till urval",Lj="Anpassa zoom till sk\xE4rm",Hj="Zooma till",zj="M\xF6rkt l\xE4ge",Oj="Fokusl\xE4ge",Fj="Debugl\xE4ge",jj="Visa rutn\xE4t",Vj="V\xE4lj som i CAD-mjukvara",Gj="H\xE5ll stilmenyn \xF6ppen",$j="Visa alltid f\xE4stpunkter",Nj="Rotationshandtag",Wj="Bindningshandtag",Kj="Kloningshandtag",Uj="\xC5ngra",_j="G\xF6r om",Yj="Klipp ut",Zj="Kopiera",Xj="Klistra in",qj="Kopiera som",Jj="Exportera till",Qj="V\xE4lj alla",eV="V\xE4lj ingen",tV="Radera",nV="Nytt projekt",oV="\xD6ppna",sV="Spara",rV="Spara som",iV="Ladda upp media",aV="Skapa sida",lV="Ny sida",dV="Sidnamn",cV="Duplicera",pV="Avbryt",uV="Kopiera l\xE4nk med redigeringsr\xE4ttigheter",hV="Kopiera l\xE4nk med l\xE4sr\xE4ttigheter",mV="Skapa ett Multiplayer-projekt",gV="Kopiera till Multiplayer-project",fV="V\xE4lj",SV="Radera",bV="Rita",TV="Pil",yV="Text",wV="Klisterlapp",xV="Rektangel",vV="Ellips",kV="Triangel",IV="Linje",CV="Rotera",DV="L\xE5s storleksf\xF6rh\xE5llande",PV="L\xE5s upp storleksf\xF6rh\xE5llande",MV="Gruppera",EV="Avgruppera",BV="Placera l\xE4ngst bak",RV="Flytta bak\xE5t",AV="Flytta fram\xE5t",LV="Placera l\xE4ngst fram",HV="\xC5terst\xE4ll vinkel",zV="L\xE5s",OV="L\xE5s upp",FV="Justera / Placera",jV="Flytta till sida",VV="V\xE4nd horisontellt",GV="V\xE4nd vertikalt",$V="Flytta",NV="Till l\xE4ngst fram",WV="Fram\xE5t",KV="Bak\xE5t",UV="Till l\xE4ngst bak",_V="Spr\xE5k",YV="Mer information",ZV="Dockningsposition",XV="Botten",qV="V\xE4nster",JV="H\xF6ger",QV="Topp",eG="Sida",tG="Tangentbordsgenv\xE4gar",nG="S\xF6k",oG="Laddar{dots}",sG="Exportbakgrund",rG="Transparent",iG="Auto",aG="Ljus",lG="M\xF6rk",dG="Github",cG="Twitter",pG="Discord",uG="Bild",kl={"style.menu.color":uj,"style.menu.fill":hj,"style.menu.dash":mj,"style.menu.size":gj,"style.menu.keep.open":fj,"style.menu.font":Sj,"style.menu.align":bj,styles:Tj,"zoom.in":yj,"zoom.out":wj,to:xj,"menu.tools":vj,"menu.transform":kj,"menu.file":Ij,"menu.edit":Cj,"menu.view":Dj,"menu.preferences":Pj,"menu.sign.in":Mj,"menu.sign.out":Ej,"become.a.sponsor":Bj,"zoom.to.content":Rj,"zoom.to.selection":Aj,"zoom.to.fit":Lj,"zoom.to":Hj,"preferences.dark.mode":zj,"preferences.focus.mode":Oj,"preferences.debug.mode":Fj,"preferences.show.grid":jj,"preferences.use.cad.selection":Vj,"preferences.keep.stylemenu.open":Gj,"preferences.always.show.snaps":$j,"preferences.rotate.handles":Nj,"preferences.binding.handles":Wj,"preferences.clone.handles":Kj,undo:Uj,redo:_j,cut:Yj,copy:Zj,paste:Xj,"copy.as":qj,"export.as":Jj,"select.all":Qj,"select.none":eV,delete:tV,"new.project":nV,open:oV,save:sV,"save.as":rV,"upload.media":iV,"create.page":aV,"new.page":lV,"page.name":dV,duplicate:cV,cancel:pV,"copy.invite.link":uV,"copy.readonly.link":hV,"create.multiplayer.project":mV,"copy.multiplayer.project":gV,select:fV,eraser:SV,draw:bV,arrow:TV,text:yV,sticky:wV,rectangle:xV,ellipse:vV,triangle:kV,line:IV,rotate:CV,"lock.aspect.ratio":DV,"unlock.aspect.ratio":PV,group:MV,ungroup:EV,"move.to.back":BV,"move.backward":RV,"move.forward":AV,"move.to.front":LV,"reset.angle":HV,lock:zV,unlock:OV,"align.distribute":FV,"move.to.page":jV,"flip.horizontal":VV,"flip.vertical":GV,move:$V,"to.front":NV,forward:WV,backward:KV,back:UV,language:_V,"translation.link":YV,"dock.position":ZV,bottom:XV,left:qV,right:JV,top:QV,page:eG,"keyboard.shortcuts":tG,search:nG,loading:oG,"export.background":sG,transparent:rG,auto:iG,light:aG,dark:lG,github:dG,twitter:cG,discord:pG,image:uG};var hG="\u0C30\u0C02\u0C17\u0C41",mG="\u0C28\u0C3F\u0C02\u0C2A\u0C41",gG="\u0C05\u0C21\u0C4D\u0C21 \u0C17\u0C40\u0C24",fG="\u0C2A\u0C30\u0C3F\u0C2E\u0C3E\u0C23\u0C02",SG="\u0C24\u0C46\u0C30\u0C3F\u0C1A\u0C3F \u0C09\u0C02\u0C1A\u0C41",bG="\u0C05\u0C15\u0C4D\u0C37\u0C30\u0C3E\u0C15\u0C43\u0C24\u0C3F",TG="\u0C38\u0C30\u0C3F\u0C2A\u0C30\u0C1A\u0C41",yG="\u0C35\u0C3F\u0C27\u0C2E\u0C41\u0C32\u0C41",wG="\u0C26\u0C17\u0C4D\u0C17\u0C30\u0C17\u0C3E \u0C1A\u0C42\u0C2A\u0C41",xG="\u0C26\u0C42\u0C30\u0C02\u0C17\u0C3E \u0C1A\u0C42\u0C2A\u0C41",vG="\u0C35\u0C26\u0C4D\u0C26\u0C15\u0C41",kG="\u0C2A\u0C30\u0C3F\u0C15\u0C30\u0C3E\u0C32\u0C41",IG="\u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C41",CG="\u0C2B\u0C48\u0C32\u0C4D",DG="\u0C2A\u0C30\u0C3F\u0C37\u0C4D\u0C15\u0C30\u0C3F\u0C02\u0C1A\u0C41",PG="\u0C1A\u0C42\u0C2A\u0C41",MG="\u0C0E\u0C02\u0C1A\u0C41\u0C15\u0C4A\u0C28\u0C4D\u0C28\u0C35\u0C3F",EG="\u0C2A\u0C4D\u0C30\u0C35\u0C47\u0C36\u0C3F\u0C02\u0C1A\u0C41",BG="\u0C28\u0C3F\u0C37\u0C4D\u0C15\u0C4D\u0C30\u0C2E\u0C23",RG="\u0C35\u0C3F\u0C30\u0C3E\u0C33\u0C26\u0C3E\u0C30\u0C41\u0C32\u0C41 \u0C05\u0C35\u0C4D\u0C35\u0C02\u0C21\u0C3F",AG="\u0C35\u0C3F\u0C37\u0C2F\u0C3E\u0C28\u0C4D\u0C28\u0C47 \u0C1A\u0C42\u0C2A\u0C41",LG="\u0C0E\u0C02\u0C1A\u0C41\u0C15\u0C41\u0C28\u0C4D\u0C28 \u0C35\u0C3F\u0C37\u0C2F\u0C3E\u0C28\u0C4D\u0C28\u0C47 \u0C1A\u0C42\u0C2A\u0C41",HG="\u0C38\u0C30\u0C3F\u0C2A\u0C46\u0C1F\u0C4D\u0C1F\u0C3F \u0C1A\u0C42\u0C2A\u0C41",zG="\u0C1A\u0C42\u0C2A\u0C41",OG="\u0C1A\u0C40\u0C15\u0C1F\u0C48\u0C28 \u0C15\u0C4D\u0C30\u0C2E\u0C02",FG="\u0C24\u0C40\u0C15\u0C4D\u0C37\u0C23 \u0C15\u0C4D\u0C30\u0C2E\u0C02",jG="\u0C24\u0C2A\u0C4D\u0C2A\u0C41\u0C32\u0C47\u0C30\u0C41 \u0C15\u0C4D\u0C30\u0C2E\u0C02",VG="\u0C1A\u0C1F\u0C4D\u0C30\u0C02 \u0C1A\u0C42\u0C2A\u0C41",GG="CAD\u0C28\u0C3F \u0C35\u0C3E\u0C21\u0C41",$G="\u0C35\u0C3F\u0C27\u0C2E\u0C41\u0C32 \u0C2A\u0C24\u0C4D\u0C24\u0C3F \u0C24\u0C46\u0C30\u0C3F\u0C1A\u0C3F\u0C35\u0C41\u0C02\u0C1A\u0C41",NG="\u0C0E\u0C2A\u0C4D\u0C2A\u0C41\u0C21\u0C42 \u0C26\u0C43\u0C36\u0C4D\u0C2F\u0C2D\u0C3E\u0C17\u0C02 \u0C1A\u0C42\u0C2A\u0C41",WG="\u0C39\u0C4D\u0C2F\u0C3E\u0C02\u0C21\u0C3F\u0C32\u0C4D\u0C38\u0C4D \u0C24\u0C3F\u0C2A\u0C4D\u0C2A\u0C41",KG="\u0C2F\u0C3E\u0C02\u0C21\u0C3F\u0C32\u0C4D\u0C38\u0C4D \u0C15\u0C1F\u0C4D\u0C1F\u0C41",UG="\u0C2F\u0C3E\u0C02\u0C21\u0C3F\u0C32\u0C4D\u0C38\u0C4D \u0C28\u0C15\u0C32\u0C41",_G="\u0C2E\u0C3E\u0C30\u0C4D\u0C2A\u0C41\u0C28\u0C3F \u0C24\u0C3F\u0C30\u0C41\u0C17\u0C17\u0C4A\u0C1F\u0C4D\u0C1F\u0C41",YG="\u0C2E\u0C33\u0C4D\u0C33\u0C40 \u0C2E\u0C3E\u0C30\u0C4D\u0C1A\u0C41",ZG="\u0C15\u0C24\u0C4D\u0C24\u0C3F\u0C30\u0C3F\u0C02\u0C1A\u0C41",XG="\u0C28\u0C15\u0C32\u0C41",qG="\u0C05\u0C24\u0C3F\u0C15\u0C3F\u0C02\u0C1A\u0C41",JG="\u0C28\u0C15\u0C32\u0C41\u0C2A\u0C4D\u0C30\u0C24\u0C3F\u0C17\u0C3E \u0C07\u0C15\u0C4D\u0C15\u0C21\u0C3F\u0C15\u0C3F",QG="\u0C0E\u0C17\u0C41\u0C2E\u0C24\u0C3F \u0C07\u0C15\u0C4D\u0C15\u0C21\u0C3F\u0C15\u0C3F",e$="\u0C05\u0C28\u0C4D\u0C28\u0C40 \u0C0E\u0C02\u0C2A\u0C3F\u0C15\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C3F",t$="\u0C0E\u0C26\u0C40 \u0C0E\u0C02\u0C2A\u0C3F\u0C15\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C35\u0C26\u0C4D\u0C26\u0C41",n$="\u0C24\u0C4A\u0C32\u0C17\u0C3F\u0C02\u0C1A\u0C41",o$="\u0C15\u0C4A\u0C24\u0C4D\u0C24 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C41",s$="\u0C24\u0C46\u0C30\u0C41\u0C35\u0C41",r$="\u0C26\u0C3E\u0C2F\u0C3F",i$="\u0C07\u0C32\u0C3E \u0C26\u0C3E\u0C2F\u0C3F",a$="\u0C0E\u0C17\u0C41\u0C2E\u0C24\u0C3F \u0C2E\u0C3E\u0C27\u0C4D\u0C2F\u0C02",l$="\u0C2A\u0C41\u0C1F \u0C15\u0C32\u0C4D\u0C2A\u0C3F\u0C02\u0C1A\u0C41",d$="\u0C15\u0C4A\u0C24\u0C4D\u0C24 \u0C2A\u0C41\u0C1F",c$="\u0C2A\u0C41\u0C1F \u0C2A\u0C47\u0C30\u0C41",p$="\u0C2E\u0C3E\u0C30\u0C41\u0C2A\u0C4D\u0C30\u0C24\u0C3F",u$="\u0C30\u0C26\u0C4D\u0C26\u0C41\u0C1A\u0C47\u0C2F\u0C3F",h$="\u0C05\u0C39\u0C4D\u0C35\u0C3E\u0C28 \u0C32\u0C3F\u0C02\u0C15\u0C41 \u0C30\u0C3E\u0C2F\u0C3F",m$="\u0C2E\u0C3E\u0C30\u0C28\u0C3F\u0C2A\u0C4D\u0C30\u0C24\u0C3F \u0C32\u0C3F\u0C02\u0C15\u0C41 \u0C30\u0C3E\u0C2F\u0C3F",g$="\u0C2C\u0C39\u0C41\u0C15\u0C30\u0C4D\u0C24\u0C32 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C41 \u0C15\u0C32\u0C4D\u0C2A\u0C3F\u0C02\u0C1A\u0C41",f$="\u0C2C\u0C39\u0C41\u0C15\u0C30\u0C4D\u0C24\u0C32 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C41\u0C15\u0C41 \u0C30\u0C3E\u0C2F\u0C3F",S$="\u0C0E\u0C02\u0C2A\u0C3F\u0C15\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C3F",b$="Eraser",T$="\u0C17\u0C40\u0C2F\u0C4D\u0C2F\u0C3F",y$="\u0C2C\u0C3E\u0C23\u0C02",w$="\u0C05\u0C15\u0C4D\u0C37\u0C30\u0C2E\u0C41\u0C32\u0C41",x$="\u0C05\u0C24\u0C41\u0C15\u0C4D\u0C15\u0C41\u0C28\u0C47",v$="\u0C26\u0C40\u0C30\u0C4D\u0C18\u0C1A\u0C24\u0C41\u0C30\u0C38\u0C4D\u0C30\u0C02",k$="\u0C26\u0C40\u0C30\u0C4D\u0C18\u0C35\u0C43\u0C24\u0C4D\u0C24\u0C02",I$="\u0C24\u0C4D\u0C30\u0C3F\u0C2D\u0C41\u0C1C\u0C02",C$="\u0C17\u0C40\u0C24",D$="\u0C24\u0C3F\u0C2A\u0C4D\u0C2A\u0C41",P$="\u0C06\u0C38\u0C4D\u0C2A\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C28\u0C3F\u0C37\u0C4D\u0C2A\u0C24\u0C4D\u0C24\u0C3F\u0C15\u0C3F \u0C24\u0C3E\u0C33\u0C02\u0C2A\u0C46\u0C1F\u0C4D\u0C1F\u0C41",M$="\u0C06\u0C38\u0C4D\u0C2A\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C28\u0C3F\u0C37\u0C4D\u0C2A\u0C24\u0C4D\u0C24\u0C3F \u0C24\u0C3E\u0C33\u0C02\u0C24\u0C46\u0C30\u0C41\u0C35\u0C41",E$="\u0C17\u0C41\u0C02\u0C2A\u0C41\u0C17\u0C3E \u0C0F\u0C30\u0C4D\u0C2A\u0C30\u0C1A\u0C41",B$="\u0C17\u0C41\u0C02\u0C2A\u0C41\u0C28\u0C41 \u0C1A\u0C46\u0C26\u0C30\u0C17\u0C4A\u0C1F\u0C4D\u0C1F\u0C41",R$="\u0C06\u0C16\u0C30\u0C3F\u0C15\u0C3F \u0C1C\u0C30\u0C41\u0C2A\u0C41",A$="\u0C35\u0C46\u0C28\u0C41\u0C15\u0C15\u0C41 \u0C1C\u0C30\u0C41\u0C2A\u0C41",L$="\u0C2E\u0C41\u0C02\u0C26\u0C41\u0C15\u0C41 \u0C1C\u0C30\u0C41\u0C2A\u0C41",H$="\u0C2E\u0C4A\u0C26\u0C1F\u0C3F\u0C15\u0C3F \u0C1C\u0C30\u0C41\u0C2A\u0C41",z$="\u0C15\u0C4B\u0C23\u0C02 \u0C30\u0C40\u0C38\u0C46\u0C1F\u0C4D",O$="\u0C24\u0C3E\u0C33\u0C02 \u0C35\u0C46\u0C2F\u0C4D\u0C2F\u0C3F",F$="\u0C24\u0C3E\u0C33\u0C02 \u0C24\u0C3F\u0C2F\u0C4D\u0C2F\u0C3F",j$=" \u0C38\u0C30\u0C3F\u0C2A\u0C30\u0C1A\u0C41/\u0C35\u0C46\u0C26\u0C1C\u0C32\u0C4D\u0C32\u0C41",V$="\u0C2A\u0C41\u0C1F\u0C32\u0C4B\u0C15\u0C3F \u0C1C\u0C30\u0C41\u0C2A\u0C41",G$="\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C2A\u0C32\u0C4D\u0C1F\u0C40",$$="\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C2A\u0C32\u0C4D\u0C1F\u0C40",N$="\u0C1C\u0C30\u0C41\u0C2A\u0C41",W$="\u0C2E\u0C4A\u0C26\u0C1F\u0C3F\u0C15\u0C3F",K$="\u0C2E\u0C41\u0C02\u0C26\u0C41\u0C15\u0C41",U$="\u0C35\u0C46\u0C28\u0C41\u0C15\u0C15\u0C41",_$="\u0C06\u0C16\u0C30\u0C3F\u0C15\u0C3F",Y$="\u0C2D\u0C3E\u0C37",Z$="\u0C2E\u0C30\u0C3F \u0C15\u0C4A\u0C28\u0C4D\u0C28\u0C3F \u0C35\u0C3F\u0C37\u0C2F\u0C3E\u0C32\u0C41",X$="\u0C2E\u0C02\u0C1A \u0C38\u0C4D\u0C25\u0C3E\u0C28\u0C02",q$="\u0C05\u0C21\u0C41\u0C17\u0C41\u0C28",J$="\u0C0E\u0C21\u0C2E\u0C35\u0C48\u0C2A\u0C41",Q$="\u0C15\u0C41\u0C21\u0C3F\u0C35\u0C48\u0C2A\u0C41",eN="\u0C2A\u0C48\u0C28",tN="\u0C2A\u0C41\u0C24",nN="\u0C15\u0C40\u0C2C\u0C4B\u0C30\u0C4D\u0C21\u0C4D \u0C38\u0C24\u0C4D\u0C35\u0C30\u0C2E\u0C3E\u0C30\u0C4D\u0C17\u0C02",oN="\u0C35\u0C46\u0C24\u0C41\u0C15\u0C41",sN="Loading{dots}",rN="\u0C28\u0C47\u0C2A\u0C25\u0C4D\u0C2F\u0C02 \u0C0E\u0C17\u0C41\u0C2E\u0C24\u0C3F",iN="\u0C15\u0C3E\u0C02\u0C24\u0C3F \u0C2D\u0C47\u0C26\u0C4D\u0C2F\u0C2E\u0C41",aN="\u0C38\u0C4D\u0C35\u0C2F\u0C02\u0C15\u0C43\u0C24\u0C02",lN="\u0C35\u0C46\u0C32\u0C41\u0C24\u0C41\u0C30\u0C41",dN="\u0C1A\u0C40\u0C15\u0C1F\u0C3F",cN="Github",pN="Twitter",uN="Discord",hN="\u0C1A\u0C3F\u0C24\u0C4D\u0C30\u0C02",mN="\u0C0E\u0C21\u0C2E\u0C35\u0C48\u0C2A\u0C41\u0C15\u0C41 \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",gN="\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C2E\u0C27\u0C4D\u0C2F\u0C32\u0C4B \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",fN="\u0C15\u0C41\u0C21\u0C3F\u0C35\u0C48\u0C2A\u0C41\u0C15\u0C41 \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",SN="\u0C2A\u0C48\u0C15\u0C3F \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",bN="\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C2E\u0C27\u0C4D\u0C2F\u0C32\u0C4B \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",TN="\u0C05\u0C21\u0C41\u0C17\u0C41\u0C28 \u0C15\u0C41\u0C26\u0C41\u0C30\u0C4D\u0C1A\u0C41",yN="\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C2A\u0C02\u0C1A\u0C41",wN="\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C2A\u0C02\u0C1A\u0C41",xN="\u0C05\u0C21\u0C4D\u0C21\u0C02\u0C17\u0C3E \u0C32\u0C3E\u0C17\u0C41",vN="\u0C28\u0C3F\u0C32\u0C41\u0C35\u0C41\u0C17\u0C3E \u0C32\u0C3E\u0C17\u0C41",kN="\u0C2E\u0C40\u0C30\u0C41 \u0C08 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C2D\u0C26\u0C4D\u0C30\u0C2A\u0C30\u0C1A\u0C41\u0C15\u0C4B\u0C35\u0C3E\u0C32\u0C28\u0C3F \u0C05\u0C28\u0C41\u0C15\u0C41\u0C02\u0C1F\u0C41\u0C28\u0C4D\u0C28\u0C3E\u0C30\u0C3E?",IN="\u0C2E\u0C40\u0C30\u0C41 \u0C08 \u0C2A\u0C4D\u0C30\u0C3E\u0C1C\u0C46\u0C15\u0C4D\u0C1F\u0C4D \u0C2D\u0C26\u0C4D\u0C30\u0C2A\u0C30\u0C1A\u0C41\u0C15\u0C4B\u0C35\u0C3E\u0C32\u0C28\u0C3F \u0C05\u0C28\u0C41\u0C15\u0C41\u0C02\u0C1F\u0C41\u0C28\u0C4D\u0C28\u0C3E\u0C30\u0C3E?",CN="\u0C30\u0C26\u0C4D\u0C26\u0C41\u0C1A\u0C46\u0C2F\u0C4D\u0C2F\u0C3F",DN="\u0C35\u0C26\u0C4D\u0C26\u0C41",PN="\u0C38\u0C30\u0C47",MN="\u0C2B\u0C48\u0C32\u0C4D \u0C2A\u0C46\u0C30\u0C41 \u0C1A\u0C46\u0C2A\u0C4D\u0C2A\u0C02\u0C21\u0C3F",Il={"style.menu.color":hG,"style.menu.fill":mG,"style.menu.dash":gG,"style.menu.size":fG,"style.menu.keep.open":SG,"style.menu.font":bG,"style.menu.align":TG,styles:yG,"zoom.in":wG,"zoom.out":xG,to:vG,"menu.tools":kG,"menu.transform":IG,"menu.file":CG,"menu.edit":DG,"menu.view":PG,"menu.preferences":MG,"menu.sign.in":EG,"menu.sign.out":BG,"become.a.sponsor":RG,"zoom.to.content":AG,"zoom.to.selection":LG,"zoom.to.fit":HG,"zoom.to":zG,"preferences.dark.mode":OG,"preferences.focus.mode":FG,"preferences.debug.mode":jG,"preferences.show.grid":VG,"preferences.use.cad.selection":GG,"preferences.keep.stylemenu.open":$G,"preferences.always.show.snaps":NG,"preferences.rotate.handles":WG,"preferences.binding.handles":KG,"preferences.clone.handles":UG,undo:_G,redo:YG,cut:ZG,copy:XG,paste:qG,"copy.as":JG,"export.as":QG,"select.all":e$,"select.none":t$,delete:n$,"new.project":o$,open:s$,save:r$,"save.as":i$,"upload.media":a$,"create.page":l$,"new.page":d$,"page.name":c$,duplicate:p$,cancel:u$,"copy.invite.link":h$,"copy.readonly.link":m$,"create.multiplayer.project":g$,"copy.multiplayer.project":f$,select:S$,eraser:b$,draw:T$,arrow:y$,text:w$,sticky:x$,rectangle:v$,ellipse:k$,triangle:I$,line:C$,rotate:D$,"lock.aspect.ratio":P$,"unlock.aspect.ratio":M$,group:E$,ungroup:B$,"move.to.back":R$,"move.backward":A$,"move.forward":L$,"move.to.front":H$,"reset.angle":z$,lock:O$,unlock:F$,"align.distribute":j$,"move.to.page":V$,"flip.horizontal":G$,"flip.vertical":$$,move:N$,"to.front":W$,forward:K$,backward:U$,back:_$,language:Y$,"translation.link":Z$,"dock.position":X$,bottom:q$,left:J$,right:Q$,top:eN,page:tN,"keyboard.shortcuts":nN,search:oN,loading:sN,"export.background":rN,transparent:iN,auto:aN,light:lN,dark:dN,github:cN,twitter:pN,discord:uN,image:hN,"align.left":mN,"align.center.x":gN,"align.right":fN,"align.top":SN,"align.center.y":bN,"align.bottom":TN,"distribute.x":yN,"distribute.y":wN,"stretch.x":xN,"stretch.y":vN,"dialog.save.firsttime":kN,"dialog.save.again":IN,"dialog.cancel":CN,"dialog.no":DN,"dialog.yes":PN,"enter.file.name":MN};var EN="\u0E2A\u0E35",BN="\u0E40\u0E15\u0E34\u0E21",RN="\u0E01\u0E23\u0E2D\u0E1A",AN="\u0E02\u0E19\u0E32\u0E14",LN="\u0E40\u0E1B\u0E34\u0E14\u0E17\u0E34\u0E49\u0E07\u0E44\u0E27\u0E49",HN="\u0E41\u0E1A\u0E1A\u0E2D\u0E31\u0E01\u0E29\u0E23",zN="\u0E08\u0E31\u0E14\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07",ON="\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A",FN="\u0E0B\u0E39\u0E21\u0E40\u0E02\u0E49\u0E32",jN="\u0E0B\u0E39\u0E21\u0E2D\u0E2D\u0E01",VN="\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E17\u0E35\u0E48",GN="\u0E40\u0E04\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E21\u0E37\u0E2D",$N="\u0E41\u0E1B\u0E25\u0E07",NN="\u0E44\u0E1F\u0E25\u0E4C",WN="\u0E41\u0E01\u0E49\u0E44\u0E02",KN="\u0E21\u0E38\u0E21\u0E21\u0E2D\u0E07",UN="\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32",_N="\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A",YN="\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E23\u0E30\u0E1A\u0E1A",ZN="\u0E23\u0E48\u0E27\u0E21\u0E40\u0E1B\u0E47\u0E19\u0E2A\u0E1B\u0E2D\u0E19\u0E40\u0E0B\u0E2D\u0E23\u0E4C",XN="\u0E01\u0E25\u0E31\u0E1A\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32",qN="\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2A\u0E48\u0E27\u0E19\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01",JN="\u0E0B\u0E39\u0E21\u0E43\u0E2B\u0E49\u0E40\u0E15\u0E47\u0E21\u0E1E\u0E2D\u0E14\u0E35",QN="\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E17\u0E35\u0E48",eW="\u0E42\u0E2B\u0E21\u0E14\u0E21\u0E37\u0E14",tW="\u0E42\u0E2B\u0E21\u0E14\u0E42\u0E1F\u0E01\u0E31\u0E2A",nW="\u0E42\u0E2B\u0E21\u0E14\u0E14\u0E35\u0E1A\u0E31\u0E01",oW="\u0E41\u0E2A\u0E14\u0E07\u0E15\u0E32\u0E23\u0E32\u0E07",sW="\u0E01\u0E32\u0E23\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E41\u0E1A\u0E1A CAD",rW="\u0E40\u0E1B\u0E34\u0E14\u0E40\u0E21\u0E19\u0E39\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E34\u0E49\u0E07\u0E44\u0E27\u0E49",iW="\u0E41\u0E2A\u0E14\u0E07\u0E2A\u0E41\u0E19\u0E1B\u0E15\u0E25\u0E2D\u0E14",aW="\u0E41\u0E2A\u0E14\u0E07\u0E08\u0E38\u0E14\u0E08\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E2B\u0E21\u0E38\u0E19",lW="\u0E41\u0E2A\u0E14\u0E07\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E25\u0E02\u0E2D\u0E49\u0E32\u0E07\u0E2D\u0E34\u0E07",dW="\u0E41\u0E2A\u0E14\u0E07\u0E15\u0E31\u0E27\u0E42\u0E04\u0E25\u0E19",cW="\u0E40\u0E25\u0E34\u0E01\u0E17\u0E33",pW="\u0E17\u0E33\u0E0B\u0E49\u0E33",uW="\u0E15\u0E31\u0E14",hW="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01",mW="\u0E27\u0E32\u0E07",gW="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E40\u0E1B\u0E47\u0E19",fW="\u0E2A\u0E48\u0E07\u0E2D\u0E2D\u0E01\u0E40\u0E1B\u0E47\u0E19",SW="\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14",bW="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E2A\u0E34\u0E48\u0E07\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01",TW="\u0E25\u0E1A",yW="\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E43\u0E2B\u0E21\u0E48",wW="\u0E40\u0E1B\u0E34\u0E14",xW="\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01",vW="\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E40\u0E1B\u0E47\u0E19",kW="\u0E2D\u0E31\u0E1E\u0E42\u0E2B\u0E25\u0E14\u0E21\u0E35\u0E40\u0E14\u0E35\u0E22",IW="\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E2B\u0E19\u0E49\u0E32",CW="\u0E2B\u0E19\u0E49\u0E32\u0E43\u0E2B\u0E21\u0E48",DW="\u0E0A\u0E37\u0E48\u0E2D\u0E2B\u0E19\u0E49\u0E32",PW="\u0E2A\u0E33\u0E40\u0E19\u0E32",MW="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",EW="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E25\u0E34\u0E07\u0E01\u0E4C\u0E40\u0E0A\u0E34\u0E0D",BW="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E25\u0E34\u0E07\u0E01\u0E4C\u0E41\u0E1A\u0E1A\u0E43\u0E2B\u0E49\u0E2D\u0E48\u0E32\u0E19\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E40\u0E14\u0E35\u0E22\u0E27",RW="\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E2B\u0E25\u0E32\u0E22\u0E04\u0E19",AW="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E2B\u0E25\u0E32\u0E22\u0E04\u0E19",LW="\u0E40\u0E25\u0E37\u0E2D\u0E01",HW="\u0E22\u0E32\u0E07\u0E25\u0E1A",zW="\u0E27\u0E32\u0E14",OW="\u0E25\u0E39\u0E01\u0E28\u0E23",FW="\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21",jW="\u0E01\u0E23\u0E30\u0E14\u0E32\u0E29\u0E42\u0E19\u0E4A\u0E15",VW="\u0E2A\u0E35\u0E48\u0E40\u0E2B\u0E25\u0E35\u0E48\u0E22\u0E21\u0E1C\u0E37\u0E19\u0E1C\u0E49\u0E32",GW="\u0E27\u0E07\u0E23\u0E35",$W="\u0E2A\u0E32\u0E21\u0E40\u0E2B\u0E25\u0E35\u0E48\u0E22\u0E21",NW="\u0E40\u0E2A\u0E49\u0E19",WW="\u0E2B\u0E21\u0E38\u0E19",KW="\u0E25\u0E47\u0E2D\u0E04\u0E2D\u0E31\u0E15\u0E23\u0E32\u0E2A\u0E48\u0E27\u0E19\u0E20\u0E32\u0E1E",UW="\u0E1B\u0E25\u0E14\u0E25\u0E47\u0E2D\u0E01\u0E2D\u0E31\u0E15\u0E23\u0E32\u0E2A\u0E48\u0E27\u0E19\u0E20\u0E32\u0E1E",_W="\u0E01\u0E25\u0E38\u0E48\u0E21",YW="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E01\u0E25\u0E38\u0E48\u0E21",ZW="\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07",XW="\u0E02\u0E22\u0E31\u0E1A\u0E16\u0E2D\u0E22\u0E2B\u0E25\u0E31\u0E07",qW="\u0E02\u0E22\u0E31\u0E1A\u0E44\u0E1B\u0E2B\u0E19\u0E49\u0E32",JW="\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32",QW="\u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15\u0E21\u0E38\u0E21",eK="\u0E25\u0E47\u0E2D\u0E04",tK="\u0E1B\u0E25\u0E14\u0E25\u0E47\u0E2D\u0E04",nK="\u0E08\u0E31\u0E14\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07 / \u0E01\u0E23\u0E30\u0E08\u0E32\u0E22",oK="\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2B\u0E19\u0E49\u0E32",sK="\u0E1E\u0E25\u0E34\u0E01\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",rK="\u0E1E\u0E25\u0E34\u0E01\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",iK="\u0E22\u0E49\u0E32\u0E22",aK="\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32",lK="\u0E02\u0E49\u0E32\u0E07\u0E2B\u0E19\u0E49\u0E32",dK="\u0E02\u0E49\u0E32\u0E07\u0E2B\u0E25\u0E31\u0E07",cK="\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07",pK="\u0E20\u0E32\u0E29\u0E32",uK="\u0E40\u0E23\u0E35\u0E22\u0E19\u0E23\u0E39\u0E49\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21",hK="\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07\u0E41\u0E16\u0E1A\u0E40\u0E04\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E21\u0E37\u0E2D",mK="\u0E02\u0E49\u0E32\u0E07\u0E25\u0E48\u0E32\u0E07",gK="\u0E02\u0E49\u0E32\u0E07\u0E0B\u0E49\u0E32\u0E22",fK="\u0E02\u0E49\u0E32\u0E07\u0E02\u0E27\u0E32",SK="\u0E02\u0E49\u0E32\u0E07\u0E1A\u0E19",bK="\u0E2B\u0E19\u0E49\u0E32",TK="\u0E41\u0E1B\u0E49\u0E19\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E25\u0E31\u0E14",yK="\u0E04\u0E49\u0E19\u0E2B\u0E32",wK="\u0E01\u0E33\u0E25\u0E31\u0E07\u0E42\u0E2B\u0E25\u0E14{dots}",xK="\u0E2A\u0E48\u0E07\u0E2D\u0E2D\u0E01\u0E1E\u0E37\u0E49\u0E19\u0E2B\u0E25\u0E31\u0E07",vK="\u0E42\u0E1B\u0E23\u0E48\u0E07\u0E43\u0E2A",kK="\u0E2D\u0E31\u0E15\u0E42\u0E19\u0E21\u0E31\u0E15\u0E34",IK="\u0E2A\u0E27\u0E48\u0E32\u0E07",CK="\u0E21\u0E37\u0E14",DK="Github",PK="Twitter",MK="Discord",EK="\u0E20\u0E32\u0E1E",BK="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E0A\u0E34\u0E14\u0E0B\u0E49\u0E32\u0E22",RK="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E01\u0E36\u0E48\u0E07\u0E01\u0E25\u0E32\u0E07\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",AK="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E0A\u0E34\u0E14\u0E02\u0E27\u0E32",LK="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E14\u0E49\u0E32\u0E19\u0E1A\u0E19",HK="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E01\u0E36\u0E48\u0E07\u0E01\u0E25\u0E32\u0E07\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",zK="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E14\u0E49\u0E32\u0E19\u0E25\u0E48\u0E32\u0E07",OK="\u0E01\u0E23\u0E30\u0E08\u0E32\u0E22\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",FK="\u0E01\u0E23\u0E30\u0E08\u0E32\u0E22\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",jK="\u0E22\u0E37\u0E14\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",VK="\u0E22\u0E37\u0E14\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",GK="\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E47\u0E01\u0E15\u0E4C\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",$K="\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07\u0E43\u0E19\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E47\u0E01\u0E15\u0E4C\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",NK="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",WK="\u0E44\u0E21\u0E48",KK="\u0E43\u0E0A\u0E48",UK="\u0E01\u0E23\u0E2D\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E44\u0E1F\u0E25\u0E4C",Cl={"style.menu.color":EN,"style.menu.fill":BN,"style.menu.dash":RN,"style.menu.size":AN,"style.menu.keep.open":LN,"style.menu.font":HN,"style.menu.align":zN,styles:ON,"zoom.in":FN,"zoom.out":jN,to:VN,"menu.tools":GN,"menu.transform":$N,"menu.file":NN,"menu.edit":WN,"menu.view":KN,"menu.preferences":UN,"menu.sign.in":_N,"menu.sign.out":YN,"become.a.sponsor":ZN,"zoom.to.content":XN,"zoom.to.selection":qN,"zoom.to.fit":JN,"zoom.to":QN,"preferences.dark.mode":eW,"preferences.focus.mode":tW,"preferences.debug.mode":nW,"preferences.show.grid":oW,"preferences.use.cad.selection":sW,"preferences.keep.stylemenu.open":rW,"preferences.always.show.snaps":iW,"preferences.rotate.handles":aW,"preferences.binding.handles":lW,"preferences.clone.handles":dW,undo:cW,redo:pW,cut:uW,copy:hW,paste:mW,"copy.as":gW,"export.as":fW,"select.all":SW,"select.none":bW,delete:TW,"new.project":yW,open:wW,save:xW,"save.as":vW,"upload.media":kW,"create.page":IW,"new.page":CW,"page.name":DW,duplicate:PW,cancel:MW,"copy.invite.link":EW,"copy.readonly.link":BW,"create.multiplayer.project":RW,"copy.multiplayer.project":AW,select:LW,eraser:HW,draw:zW,arrow:OW,text:FW,sticky:jW,rectangle:VW,ellipse:GW,triangle:$W,line:NW,rotate:WW,"lock.aspect.ratio":KW,"unlock.aspect.ratio":UW,group:_W,ungroup:YW,"move.to.back":ZW,"move.backward":XW,"move.forward":qW,"move.to.front":JW,"reset.angle":QW,lock:eK,unlock:tK,"align.distribute":nK,"move.to.page":oK,"flip.horizontal":sK,"flip.vertical":rK,move:iK,"to.front":aK,forward:lK,backward:dK,back:cK,language:pK,"translation.link":uK,"dock.position":hK,bottom:mK,left:gK,right:fK,top:SK,page:bK,"keyboard.shortcuts":TK,search:yK,loading:wK,"export.background":xK,transparent:vK,auto:kK,light:IK,dark:CK,github:DK,twitter:PK,discord:MK,image:EK,"align.left":BK,"align.center.x":RK,"align.right":AK,"align.top":LK,"align.center.y":HK,"align.bottom":zK,"distribute.x":OK,"distribute.y":FK,"stretch.x":jK,"stretch.y":VK,"dialog.save.firsttime":GK,"dialog.save.again":$K,"dialog.cancel":NK,"dialog.no":WK,"dialog.yes":KK,"enter.file.name":UK};var _K="Renk",YK="Doldur",ZK="\xC7izgi",XK="Boyut",qK="A\xE7\u0131k Tut",JK="Yaz\u0131 Tipi",QK="Hizala",eU="Stiller",tU="Yak\u0131nla\u015Ft\u0131r",nU="Uzakla\u015Ft\u0131r",oU="",sU="Dosya",rU="D\xFCzenle",iU="G\xF6r\xFCnt\xFC",aU="Tercihler",lU="Giri\u015F Yap",dU="Oturumu Kapat",cU="Sponsor Ol",pU="Se\xE7ime Yak\u0131nla\u015Ft\u0131r",uU="S\u0131\u011Fd\u0131rmak i\xE7in Yak\u0131nla\u015Ft\u0131r",hU="Yak\u0131nla\u015Ft\u0131r",mU="Karanl\u0131k Mod",gU="Odak Modu",fU="Debug Modu",SU="Izgaray\u0131 G\xF6ster",bU="CAD Se\xE7imi Kullan",TU="Stil Men\xFCs\xFCn\xFC A\xE7\u0131k Tut",yU="Hiza \xC7izgilerini Hep G\xF6ster",wU="Rotasyon Kontrolc\xFCleri",xU="Ba\u011Flama Kontrolc\xFCleri",vU="Klon Kontrolc\xFCleri",kU="Geri Al",IU="Yinele",CU="Kes",DU="Kopyala",PU="Yap\u0131\u015Ft\u0131r",MU="Olarak Kopyala",EU="Olarak D\u0131\u015Far\u0131 Aktar",BU="Hepsini Se\xE7",RU="Hi\xE7birini Se\xE7me",AU="Sil",LU="Yeni Proje",HU="A\xE7",zU="Kaydet",OU="Farkl\u0131 Kaydet",FU="Medya Y\xFCkle",jU="Sayfa Olu\u015Ftur",VU="Yeni Sayfa",GU="Sayfa \u0130smi",$U="Kopya Olu\u015Ftur",NU="\u0130ptal",WU="Davet Linkini Kopyala",KU="\xC7ok Oyunculu Proje Olu\u015Ftur",UU="\xC7ok Oyunculu Projeye Kopyala",_U="Se\xE7",YU="Silgi",ZU="\xC7izim",XU="Ok",qU="Yaz\u0131",JU="Yap\u0131\u015Fkan",QU="Dikd\xF6rtgen",e_="Elips",t_="\xDC\xE7gen",n_="\xC7izgi",o_="D\xF6nd\xFCr",s_="En Boy Oran\u0131n\u0131 Kilitle",r_="En Boy Oran\u0131 Kilidini A\xE7",i_="Grupla",a_="Gruplamay\u0131 Kald\u0131r",l_="Arkaya Ta\u015F\u0131",d_="En Arkaya Ta\u015F\u0131",c_="En \xD6ne Ta\u015F\u0131",p_="\xD6ne Ta\u015F\u0131",u_="A\xE7\u0131y\u0131 S\u0131f\u0131rla",h_="Kilitle",m_="Kilidini A\xE7",g_="Sayfaya Ta\u015F\u0131",f_="Yatay \xC7evir",S_="Dikey \xC7evir",b_="Ta\u015F\u0131",T_="\xD6ne",y_="En \xD6ne",w_="En Arkaya",x_="Arkaya",v_="Dil",Dl={"style.menu.color":_K,"style.menu.fill":YK,"style.menu.dash":ZK,"style.menu.size":XK,"style.menu.keep.open":qK,"style.menu.font":JK,"style.menu.align":QK,styles:eU,"zoom.in":tU,"zoom.out":nU,to:oU,"menu.file":sU,"menu.edit":rU,"menu.view":iU,"menu.preferences":aU,"menu.sign.in":lU,"menu.sign.out":dU,"become.a.sponsor":cU,"zoom.to.selection":pU,"zoom.to.fit":uU,"zoom.to":hU,"preferences.dark.mode":mU,"preferences.focus.mode":gU,"preferences.debug.mode":fU,"preferences.show.grid":SU,"preferences.use.cad.selection":bU,"preferences.keep.stylemenu.open":TU,"preferences.always.show.snaps":yU,"preferences.rotate.handles":wU,"preferences.binding.handles":xU,"preferences.clone.handles":vU,undo:kU,redo:IU,cut:CU,copy:DU,paste:PU,"copy.as":MU,"export.as":EU,"select.all":BU,"select.none":RU,delete:AU,"new.project":LU,open:HU,save:zU,"save.as":OU,"upload.media":FU,"create.page":jU,"new.page":VU,"page.name":GU,duplicate:$U,cancel:NU,"copy.invite.link":WU,"create.multiplayer.project":KU,"copy.multiplayer.project":UU,select:_U,eraser:YU,draw:ZU,arrow:XU,text:qU,sticky:JU,rectangle:QU,ellipse:e_,triangle:t_,line:n_,rotate:o_,"lock.aspect.ratio":s_,"unlock.aspect.ratio":r_,group:i_,ungroup:a_,"move.to.back":l_,"move.backward":d_,"move.forward":c_,"move.to.front":p_,"reset.angle":u_,lock:h_,unlock:m_,"move.to.page":g_,"flip.horizontal":f_,"flip.vertical":S_,move:b_,"to.front":T_,forward:y_,backward:w_,back:x_,language:v_};var k_="\u041A\u043E\u043B\u0456\u0440",I_="\u0417\u0430\u043F\u043E\u0432\u043D\u044E\u0432\u0430\u0442\u0438",C_="\u0428\u0442\u0440\u0438\u0445",D_="\u0420\u043E\u0437\u043C\u0456\u0440",P_="\u0422\u0440\u0438\u043C\u0430\u0442\u0438 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u043C",M_="\u0428\u0440\u0438\u0444\u0442",E_="\u0412\u0438\u0440\u0456\u0432\u043D\u044F\u0442\u0438",B_="\u0421\u0442\u0438\u043B\u044C",R_="\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438",A_="\u0417\u043C\u0435\u043D\u0448\u0438\u0442\u0438",L_="\u0434\u043E",H_="\u0424\u0430\u0439\u043B",z_="\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F",O_="\u0412\u0438\u0433\u043B\u044F\u0434",F_="\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F",j_="\u0423\u0432\u0456\u0439\u0442\u0438",V_="\u0412\u0438\u0439\u0442\u0438",G_="\u0421\u0442\u0430\u0442\u0438 \u0441\u043F\u043E\u043D\u0441\u043E\u0440\u043E\u043C",$_="\u041D\u0430\u0431\u043B\u0438\u0437\u0438\u0442\u0438 \u0434\u043E \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",N_="\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438 \u0437\u0430 \u0440\u043E\u0437\u043C\u0456\u0440\u043E\u043C \u0435\u043A\u0440\u0430\u043D\u0443",W_="\u041D\u0430\u0431\u043B\u0438\u0437\u0438\u0442\u0438 \u0434\u043E",K_="\u0422\u0435\u043C\u043D\u0430 \u0442\u0435\u043C\u0430",U_="\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u0456\u0441\u0442\u0438\u0447\u043D\u0438\u0439 \u0440\u0435\u0436\u0438\u043C",__="\u0420\u0435\u0436\u0438\u043C \u043D\u0430\u043B\u0430\u0433\u043E\u0434\u0436\u0435\u043D\u043D\u044F",Y_="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0441\u0456\u0442\u043A\u0443",Z_="\u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0432\u0430\u0442\u0438 CAD \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",X_="\u0422\u0440\u0438\u043C\u0430\u0442\u0438 \u043C\u0435\u043D\u044E \u0441\u0442\u0438\u043B\u0456\u0432 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u043C",q_="\u0417\u0430\u0432\u0436\u0434\u0438 \u043F\u043E\u043A\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u043F\u0440\u0438\u0432'\u044F\u0437\u043A\u0438",J_="\u0420\u0443\u0447\u043A\u0438 \u043E\u0431\u0435\u0440\u0442\u0430\u043D\u043D\u044F",Q_="\u0420\u0443\u0447\u043A\u0438 \u043F\u0440\u0438\u0432'\u044F\u0437\u043A\u0438",eY="\u0420\u0443\u0447\u043A\u0438 \u043A\u043B\u043E\u043D\u0443\u0432\u0430\u043D\u043D\u044F",tY="\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438",nY="\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438",oY="\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438",sY="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438",rY="\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438",iY="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u044F\u043A",aY="\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u044F\u043A",lY="\u041E\u0431\u0440\u0430\u0442\u0438 \u0432\u0441\u0435",dY="\u0417\u043D\u044F\u0442\u0438 \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",cY="\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438",pY="\u041D\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",uY="\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438",hY="\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",mY="\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u044F\u043A",gY="\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438 \u043C\u0435\u0434\u0456\u0430",fY="\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443",SY="\u041D\u043E\u0432\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",bY="\u041D\u0430\u0437\u0432\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438",TY="\u0414\u0443\u0431\u043B\u044E\u0432\u0430\u0442\u0438",yY="\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438",wY="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F \u043D\u0430 \u0437\u0430\u043F\u0440\u043E\u0448\u0435\u043D\u043D\u044F",xY="\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0431\u0430\u0433\u0430\u0442\u043E\u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044C\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",vY="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u0432 \u0431\u0430\u0433\u0430\u0442\u043E\u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044C\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",kY="\u0412\u0438\u0431\u0438\u0440\u0430\u0442\u0438",IY="\u041B\u0430\u0441\u0442\u0438\u043A",CY="\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438",DY="\u0421\u0442\u0440\u0456\u043B\u043A\u0430",PY="\u0422\u0435\u043A\u0441\u0442",MY="\u041D\u043E\u0442\u0430\u0442\u043A\u0430",EY="\u041F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A",BY="\u0415\u043B\u0456\u043F\u0441",RY="\u0422\u0440\u0438\u043A\u0443\u0442\u043D\u0438\u043A",AY=" \u041B\u0456\u043D\u0456\u044F",LY="\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438",HY="\u0417\u0430\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0456\u0432\u0432\u0456\u0434\u043D\u043E\u0448\u0435\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D",zY=" \u0420\u043E\u0437\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0456\u0432\u0432\u0456\u0434\u043D\u043E\u0448\u0435\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D",OY="\u0417\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",FY=" \u0420\u043E\u0437\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",jY="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430\u0437\u0430\u0434",VY="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430 \u0437\u0430\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",GY="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u0432\u043F\u0435\u0440\u0435\u0434",$Y="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",NY="\u0421\u043A\u0438\u0434\u0430\u043D\u043D\u044F \u043A\u0443\u0442\u0430",WY="\u0411\u043B\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F",KY=" \u0420\u043E\u0437\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F",UY="\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443",_Y="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",YY="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",ZY="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438",XY="\u041D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",qY=" \u0412\u043F\u0435\u0440\u0435\u0434",JY="\u041D\u0430 \u0437\u0430\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",QY="\u041D\u0430\u0437\u0430\u0434",eZ="\u041C\u043E\u0432\u0430",Pl={"style.menu.color":k_,"style.menu.fill":I_,"style.menu.dash":C_,"style.menu.size":D_,"style.menu.keep.open":P_,"style.menu.font":M_,"style.menu.align":E_,styles:B_,"zoom.in":R_,"zoom.out":A_,to:L_,"menu.file":H_,"menu.edit":z_,"menu.view":O_,"menu.preferences":F_,"menu.sign.in":j_,"menu.sign.out":V_,"become.a.sponsor":G_,"zoom.to.selection":$_,"zoom.to.fit":N_,"zoom.to":W_,"preferences.dark.mode":K_,"preferences.focus.mode":U_,"preferences.debug.mode":__,"preferences.show.grid":Y_,"preferences.use.cad.selection":Z_,"preferences.keep.stylemenu.open":X_,"preferences.always.show.snaps":q_,"preferences.rotate.handles":J_,"preferences.binding.handles":Q_,"preferences.clone.handles":eY,undo:tY,redo:nY,cut:oY,copy:sY,paste:rY,"copy.as":iY,"export.as":aY,"select.all":lY,"select.none":dY,delete:cY,"new.project":pY,open:uY,save:hY,"save.as":mY,"upload.media":gY,"create.page":fY,"new.page":SY,"page.name":bY,duplicate:TY,cancel:yY,"copy.invite.link":wY,"create.multiplayer.project":xY,"copy.multiplayer.project":vY,select:kY,eraser:IY,draw:CY,arrow:DY,text:PY,sticky:MY,rectangle:EY,ellipse:BY,triangle:RY,line:AY,rotate:LY,"lock.aspect.ratio":HY,"unlock.aspect.ratio":zY,group:OY,ungroup:FY,"move.to.back":jY,"move.backward":VY,"move.forward":GY,"move.to.front":$Y,"reset.angle":NY,lock:WY,unlock:KY,"move.to.page":UY,"flip.horizontal":_Y,"flip.vertical":YY,move:ZY,"to.front":XY,forward:qY,backward:JY,back:QY,language:eZ};var tZ="\u989C\u8272",nZ="\u586B\u5145",oZ="\u8FB9\u6846",sZ="\u5C3A\u5BF8",rZ="\u4FDD\u6301\u5E38\u5F00",iZ="\u5B57\u4F53",aZ="\u5BF9\u9F50",lZ="\u6837\u5F0F",dZ="\u653E\u5927",cZ="\u7F29\u5C0F",pZ="\u7F29\u653E\u81F3",uZ="\u5DE5\u5177",hZ="\u8F6C\u6362",mZ="\u6587\u4EF6",gZ="\u7F16\u8F91",fZ="\u89C6\u56FE",SZ="\u504F\u597D",bZ="\u767B\u5F55",TZ="\u767B\u51FA",yZ="\u641C\u7D22",wZ="\u6210\u4E3A\u8D5E\u52A9\u8005",xZ="\u7F29\u653E\u9009\u4E2D",vZ="\u81EA\u9002\u5E94\u7F29\u653E",kZ="\u7F29\u653E\u81F3",IZ="\u7F29\u653E\u81F3\u5185\u5BB9",CZ="\u6697\u9ED1\u6A21\u5F0F",DZ="\u4E13\u6CE8\u6A21\u5F0F",PZ="\u8C03\u8BD5\u6A21\u5F0F",MZ="\u663E\u793A\u7F51\u683C",EZ="\u4F7F\u7528 CAD \u9009\u62E9",BZ="\u4FDD\u6301\u6837\u5F0F\u83DC\u5355\u5E38\u5F00",RZ="\u603B\u662F\u5C55\u793A\u5BF9\u9F50\u7EBF",AZ="\u65CB\u8F6C\u624B\u67C4",LZ="\u6346\u7ED1\u624B\u67C4",HZ="\u514B\u9686\u624B\u67C4",zZ="\u64A4\u9500",OZ="\u91CD\u505A",FZ="\u526A\u5207",jZ="\u590D\u5236",VZ="\u7C98\u8D34",GZ="\u590D\u5236\u4E3A",$Z="\u5BFC\u51FA\u4E3A",NZ="\u9009\u4E2D\u5168\u90E8",WZ="\u53D6\u6D88\u9009\u4E2D",KZ="\u5220\u9664",UZ="\u65B0\u9879\u76EE",_Z="\u6253\u5F00",YZ="\u4FDD\u5B58",ZZ="\u4FDD\u5B58\u4E3A",XZ="\u4E0A\u4F20\u5A92\u4F53\u6587\u4EF6",qZ="\u521B\u5EFA\u9875\u9762",JZ="\u65B0\u9875\u9762",QZ="\u9875\u9762\u540D\u79F0",eX="\u590D\u5236",tX="\u53D6\u6D88",nX="\u590D\u5236\u9080\u8BF7\u94FE\u63A5",oX="\u521B\u5EFA\u591A\u4EBA\u9879\u76EE",sX="\u590D\u5236\u5230\u591A\u4EBA\u9879\u76EE",rX="\u9009\u62E9",iX="\u6A61\u76AE",aX="\u753B\u7B14",lX="\u7BAD\u5934",dX="\u6587\u672C",cX="\u4FBF\u5229\u8D34",pX="\u77E9\u5F62",uX="\u692D\u5706\u5F62",hX="\u4E09\u89D2\u5F62",mX="\u76F4\u7EBF",gX="\u65CB\u8F6C",fX="\u9501\u5B9A\u5BBD\u9AD8\u6BD4",SX="\u89E3\u9501\u5BBD\u9AD8\u6BD4",bX="\u5206\u7EC4",TX="\u53D6\u6D88\u5206\u7EC4",yX="\u7F6E\u5E95",wX="\u4E0B\u79FB\u4E00\u5C42",xX="\u4E0A\u79FB\u4E00\u5C42",vX="\u7F6E\u9876",kX="\u91CD\u7F6E\u65CB\u8F6C\u89D2\u5EA6",IX="\u9501\u5B9A",CX="\u89E3\u9501",DX="\u79FB\u52A8\u5230\u9875\u9762",PX="\u6C34\u5E73\u7FFB\u8F6C",MX="\u5782\u76F4\u7FFB\u8F6C",EX="\u79FB\u52A8",BX="\u7F6E\u9876",RX="\u4E0A\u4E00\u5C42",AX="\u4E0B\u4E00\u5C42",LX="\u7F6E\u5E95",HX="\u8BED\u8A00",zX="\u952E\u76D8\u5FEB\u6377\u952E",OX="\u4E86\u89E3\u66F4\u591A",FX="\u9875\u9762",jX="\u951A\u70B9\u4F4D\u7F6E",VX="\u4E0B\u9762",GX="\u5DE6\u9762",$X="\u53F3\u9762",NX="\u4E0A\u9762",WX="\u5BFC\u51FA\u80CC\u666F\u8272",KX="\u900F\u660E",UX="\u81EA\u52A8",_X="\u660E\u4EAE",YX="\u6697\u9ED1",ZX="\u590D\u5236\u53EA\u8BFB\u94FE\u63A5",XX="\u56FE\u7247",qX="\u5BF9\u9F50 / \u5206\u6563",JX="\u60A8\u662F\u5426\u60F3\u4FDD\u5B58\u5F53\u524D\u7684\u9879\u76EE\uFF1F",QX="\u60A8\u662F\u5426\u60F3\u4FDD\u5B58\u5BF9\u5F53\u524D\u9879\u76EE\u7684\u66F4\u6539\uFF1F",eq="\u53D6\u6D88",tq="\u5426",nq="\u662F",Ml={"style.menu.color":tZ,"style.menu.fill":nZ,"style.menu.dash":oZ,"style.menu.size":sZ,"style.menu.keep.open":rZ,"style.menu.font":iZ,"style.menu.align":aZ,styles:lZ,"zoom.in":dZ,"zoom.out":cZ,to:pZ,"menu.tools":uZ,"menu.transform":hZ,"menu.file":mZ,"menu.edit":gZ,"menu.view":fZ,"menu.preferences":SZ,"menu.sign.in":bZ,"menu.sign.out":TZ,search:yZ,"become.a.sponsor":wZ,"zoom.to.selection":xZ,"zoom.to.fit":vZ,"zoom.to":kZ,"zoom.to.content":IZ,"preferences.dark.mode":CZ,"preferences.focus.mode":DZ,"preferences.debug.mode":PZ,"preferences.show.grid":MZ,"preferences.use.cad.selection":EZ,"preferences.keep.stylemenu.open":BZ,"preferences.always.show.snaps":RZ,"preferences.rotate.handles":AZ,"preferences.binding.handles":LZ,"preferences.clone.handles":HZ,undo:zZ,redo:OZ,cut:FZ,copy:jZ,paste:VZ,"copy.as":GZ,"export.as":$Z,"select.all":NZ,"select.none":WZ,delete:KZ,"new.project":UZ,open:_Z,save:YZ,"save.as":ZZ,"upload.media":XZ,"create.page":qZ,"new.page":JZ,"page.name":QZ,duplicate:eX,cancel:tX,"copy.invite.link":nX,"create.multiplayer.project":oX,"copy.multiplayer.project":sX,select:rX,eraser:iX,draw:aX,arrow:lX,text:dX,sticky:cX,rectangle:pX,ellipse:uX,triangle:hX,line:mX,rotate:gX,"lock.aspect.ratio":fX,"unlock.aspect.ratio":SX,group:bX,ungroup:TX,"move.to.back":yX,"move.backward":wX,"move.forward":xX,"move.to.front":vX,"reset.angle":kX,lock:IX,unlock:CX,"move.to.page":DX,"flip.horizontal":PX,"flip.vertical":MX,move:EX,"to.front":BX,forward:RX,backward:AX,back:LX,language:HX,"keyboard.shortcuts":zX,"translation.link":OX,page:FX,"dock.position":jX,bottom:VX,left:GX,right:$X,top:NX,"export.background":WX,transparent:KX,auto:UX,light:_X,dark:YX,"copy.readonly.link":ZX,image:XX,"align.distribute":qX,"dialog.save.firsttime":JX,"dialog.save.again":QX,"dialog.cancel":eq,"dialog.no":tq,"dialog.yes":nq};var oq="\u984F\u8272",sq="\u586B\u5145",rq="\u865B\u7DDA",iq="\u5927\u5C0F",aq="\u4FDD\u6301\u958B\u555F",lq="\u5B57\u578B",dq="\u5C0D\u9F4A",cq="\u6A23\u5F0F",pq="\u653E\u5927",uq="\u7E2E\u5C0F",hq="\u81F3",mq="\u6A94\u6848",gq="\u7DE8\u8F2F",fq="\u6AA2\u8996",Sq="\u9078\u9805",bq="\u767B\u5165",Tq="\u767B\u51FA",yq="\u6210\u70BA\u8D0A\u52A9\u8005",wq="\u7E2E\u653E\u81F3\u9078\u53D6\u7BC4\u570D",xq="\u7E2E\u653E\u81F3\u9069\u7576\u5927\u5C0F",vq="\u7E2E\u653E\u81F3",kq="\u6DF1\u8272\u6A21\u5F0F",Iq="\u5C08\u6CE8\u6A21\u5F0F",Cq="\u9664\u932F\u6A21\u5F0F",Dq="\u986F\u793A\u7DB2\u683C",Pq="\u4F7F\u7528 CAD \u9078\u53D6",Mq="\u6A23\u5F0F\u9078\u55AE\u4FDD\u6301\u958B\u555F",Eq="\u6C38\u9060\u986F\u793A\u5C0D\u9F4A\u7DDA",Bq="\u65CB\u8F49\u63A7\u9EDE",Rq="\u7D81\u5B9A\u63A7\u9EDE",Aq="\u8907\u88FD\u63A7\u9EDE",Lq="\u5FA9\u539F",Hq="\u53D6\u6D88\u5FA9\u539F",zq="\u526A\u4E0B",Oq="\u8907\u88FD",Fq="\u8CBC\u4E0A",jq="\u8907\u88FD\u6210",Vq="\u532F\u51FA\u6210",Gq="\u5168\u9078",$q="\u53D6\u6D88\u9078\u53D6",Nq="\u522A\u9664",Wq="\u65B0\u5C08\u6848",Kq="\u958B\u555F",Uq="\u5132\u5B58",_q="\u53E6\u5B58\u70BA",Yq="\u4E0A\u50B3\u5A92\u9AD4",Zq="\u5EFA\u7ACB\u9801\u9762",Xq="\u65B0\u9801\u9762",qq="\u9801\u9762\u540D\u7A31",Jq="\u8907\u88FD",Qq="\u53D6\u6D88",eJ="\u8907\u88FD\u9080\u8ACB\u9023\u7D50",tJ="\u8907\u88FD\u552F\u8B80\u9023\u7D50",nJ="\u5EFA\u7ACB\u591A\u4EBA\u5C08\u6848",oJ="\u8907\u88FD\u81F3\u591A\u4EBA\u5C08\u6848",sJ="\u9078\u53D6",rJ="\u6A61\u76AE\u64E6",iJ="\u624B\u7E6A",aJ="\u7BAD\u982D",lJ="\u6587\u5B57",dJ="\u4FBF\u5229\u8CBC",cJ="\u9577\u65B9\u5F62",pJ="\u6A62\u5713\u5F62",uJ="\u4E09\u89D2\u5F62",hJ="\u76F4\u7DDA",mJ="\u65CB\u8F49",gJ="\u9396\u5B9A\u9577\u5BEC\u6BD4",fJ="\u89E3\u9396\u9577\u5BEC\u6BD4",SJ="\u7D44\u6210\u7FA4\u7D44",bJ="\u53D6\u6D88\u7FA4\u7D44",TJ="\u79FB\u5230\u6700\u4E0B\u5C64",yJ="\u4E0B\u79FB\u4E00\u5C64",wJ="\u4E0A\u79FB\u4E00\u5C64",xJ="\u79FB\u5230\u6700\u4E0A\u5C64",vJ="\u91CD\u8A2D\u89D2\u5EA6",kJ="\u9396\u5B9A",IJ="\u89E3\u9396",CJ="\u79FB\u81F3\u9801\u9762",DJ="\u6C34\u5E73\u7FFB\u8F49",PJ="\u5782\u76F4\u7FFB\u8F49",MJ="\u79FB\u52D5",EJ="\u5230\u6700\u4E0A\u5C64",BJ="\u5230\u4E0A\u4E00\u5C64",RJ="\u5230\u4E0B\u4E00\u5C64",AJ="\u5230\u6700\u4E0B\u5C64",LJ="\u8A9E\u8A00",HJ="\u4E86\u89E3\u8A73\u60C5",zJ="\u5DE5\u5177\u5217\u4F4D\u7F6E",OJ="\u4E0B\u65B9",FJ="\u5DE6\u5074",jJ="\u53F3\u5074",VJ="\u4E0A\u65B9",GJ="\u9801\u9762",El={"style.menu.color":oq,"style.menu.fill":sq,"style.menu.dash":rq,"style.menu.size":iq,"style.menu.keep.open":aq,"style.menu.font":lq,"style.menu.align":dq,styles:cq,"zoom.in":pq,"zoom.out":uq,to:hq,"menu.file":mq,"menu.edit":gq,"menu.view":fq,"menu.preferences":Sq,"menu.sign.in":bq,"menu.sign.out":Tq,"become.a.sponsor":yq,"zoom.to.selection":wq,"zoom.to.fit":xq,"zoom.to":vq,"preferences.dark.mode":kq,"preferences.focus.mode":Iq,"preferences.debug.mode":Cq,"preferences.show.grid":Dq,"preferences.use.cad.selection":Pq,"preferences.keep.stylemenu.open":Mq,"preferences.always.show.snaps":Eq,"preferences.rotate.handles":Bq,"preferences.binding.handles":Rq,"preferences.clone.handles":Aq,undo:Lq,redo:Hq,cut:zq,copy:Oq,paste:Fq,"copy.as":jq,"export.as":Vq,"select.all":Gq,"select.none":$q,delete:Nq,"new.project":Wq,open:Kq,save:Uq,"save.as":_q,"upload.media":Yq,"create.page":Zq,"new.page":Xq,"page.name":qq,duplicate:Jq,cancel:Qq,"copy.invite.link":eJ,"copy.readonly.link":tJ,"create.multiplayer.project":nJ,"copy.multiplayer.project":oJ,select:sJ,eraser:rJ,draw:iJ,arrow:aJ,text:lJ,sticky:dJ,rectangle:cJ,ellipse:pJ,triangle:uJ,line:hJ,rotate:mJ,"lock.aspect.ratio":gJ,"unlock.aspect.ratio":fJ,group:SJ,ungroup:bJ,"move.to.back":TJ,"move.backward":yJ,"move.forward":wJ,"move.to.front":xJ,"reset.angle":vJ,lock:kJ,unlock:IJ,"move.to.page":CJ,"flip.horizontal":DJ,"flip.vertical":PJ,move:MJ,"to.front":EJ,forward:BJ,backward:RJ,back:AJ,language:LJ,"translation.link":HJ,"dock.position":zJ,bottom:OJ,left:FJ,right:jJ,top:VJ,page:GJ};var ar=[{locale:"ar",label:"\u0639\u0631\u0628\u064A",messages:sl},{locale:"da",label:"Danish",messages:rl},{locale:"de",label:"Deutsch",messages:il},{locale:"en",label:"English",messages:al},{locale:"es",label:"Espa\xF1ol",messages:ll},{locale:"fa",label:"\u0641\u0627\u0631\u0633\u06CC",messages:dl},{locale:"fr",label:"Fran\xE7ais",messages:cl},{locale:"he",label:"\u05E2\u05D1\u05E8\u05D9\u05EA",messages:pl},{locale:"it",label:"Italiano",messages:ul},{locale:"ja",label:"\u65E5\u672C\u8A9E",messages:hl},{locale:"ko-kr",label:"\uD55C\uAD6D\uC5B4",messages:ml},{locale:"my",label:"\u1019\u103C\u1014\u103A\u1019\u102C\u1005\u102C",messages:Sl},{locale:"ne",label:"\u0928\u0947\u092A\u093E\u0932\u0940",messages:bl},{locale:"no",label:"Norwegian",messages:Tl},{locale:"pl",label:"Polski",messages:yl},{locale:"pt",label:"Portugu\xEAs - Europeu",messages:xl},{locale:"pt-br",label:"Portugu\xEAs - Brasil",messages:wl},{locale:"ru",label:"Russian",messages:vl},{locale:"sv",label:"Svenska",messages:kl},{locale:"te",label:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41",messages:Il},{locale:"tr",label:"T\xFCrk\xE7e",messages:Dl},{locale:"uk",label:"Ukrainian",messages:Pl},{locale:"zh-ch",label:"\u7B80\u4F53\u4E2D\u6587",messages:Ml},{locale:"zh-tw",label:"\u7E41\u9AD4\u4E2D\u6587 (\u53F0\u7063)",messages:El},{locale:"th",label:"\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22",messages:Cl},{locale:"ku",label:"\u06A9\u0648\u0631\u062F\u06CC",messages:gl}];ar.sort((s,e)=>s.locale<e.locale?-1:1);function Bl(s){var t;let e=ar.find(n=>n.locale===s);return{locale:s,label:(t=e==null?void 0:e.label)!=null?t:s,messages:S(S({},fl),e==null?void 0:e.messages)}}function Al(s){return Rl.useMemo(()=>Bl(s!=null?s:navigator.language.split(/[-_]/)[0]),[s])}var lr=z(require("react")),di=lr.createContext({}),er=()=>{let s=lr.useContext(di);if(!s)throw new Error("useCtx must be inside a Provider with a value");return s};var ve=en.forwardRef((m,p)=>{var h=m,{onSelect:s,onClick:e,onDoubleClick:t,variant:n,children:o,isToolLocked:r=!1,disabled:a=!1,isActive:d=!1,onKeyDown:i,id:c}=h,u=tt(h,["onSelect","onClick","onDoubleClick","variant","children","isToolLocked","disabled","isActive","onKeyDown","id"]);return en.createElement($J,S({ref:p,isActive:d,variant:n,onClick:e,disabled:a,onPointerDown:s,onDoubleClick:t,onKeyDown:i,bp:nt,id:c},u),en.createElement(Qt,null,o),r&&en.createElement(NJ,null))});function tn(o){var r=o,{label:s,kbd:e,isLocked:t}=r,n=tt(r,["label","kbd","isLocked"]);let a=ue(),d=en.useCallback(()=>{a.toggleToolLock()},[]),i=en.useCallback(c=>{c.key===" "&&a.isForcePanning&&c.preventDefault()},[]);return en.createElement(Ae,{label:s[0].toUpperCase()+s.slice(1),kbd:e},en.createElement(ve,x(S({},n),{variant:"primary",isToolLocked:t&&n.isActive,onDoubleClick:d,onKeyDown:i,"aria-label":s[0].toUpperCase()+s.slice(1)})))}var Qt=E("div",{position:"relative",height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",color:"inherit",userSelect:"none",boxSizing:"border-box",border:"1px solid transparent","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}),$J=E("button",{position:"relative",color:"$text",fontSize:"$0",background:"none",margin:"0",padding:"$2",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",cursor:"pointer",pointerEvents:"all",height:"40px",width:"40px",border:"1px solid $panel","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent",[`&:disabled ${Qt}`]:{opacity:.618},variants:{variant:{primary:{marginTop:"0"},icon:{[`& ${Qt}`]:{display:"grid","& > *":{gridRow:1,gridColumn:1}}},text:{width:"auto",[`& ${Qt}`]:{fontSize:"$1",padding:"0 $3",gap:"$3"}},circle:{padding:0,height:32,width:32,border:"none",[`& ${Qt}`]:{border:"1px solid $panelContrast",borderRadius:"100%",boxShadow:"$panel"},[`& ${Qt} > svg`]:{width:14,height:14}}},isActive:{true:{},false:{}},bp:{mobile:{padding:0},small:{}}},compoundVariants:[{variant:"primary",bp:"mobile",css:{height:40,width:36,[`& ${Qt} > svg`]:{width:16,height:16}}},{variant:"primary",bp:"small",css:{height:"44px",width:"44px",[`& ${Qt} > svg`]:{width:20,height:20}}},{isActive:!0,css:{[`${Qt}`]:{backgroundColor:"$selected",color:"$selectedContrast"}}},{isActive:!1,bp:"small",css:{[`&:hover:not(:disabled) ${Qt}`]:{backgroundColor:"$hover"},[`&:focus:not(:disabled) ${Qt}`]:{backgroundColor:"$hover"}}}]}),NJ=E("div",{position:"absolute",width:10,height:10,backgroundColor:"$selected",borderRadius:"100%",bottom:-2,border:"2px solid $panel",zIndex:100});var WJ=s=>s.document.pageStates[s.appState.currentPageId].selectedIds.length,KJ=s=>s.settings.isDebugMode,UJ=s=>s.document.pageStates[s.appState.currentPageId].selectedIds.some(e=>s.document.pages[s.appState.currentPageId].shapes[e].children!==void 0),_J=s=>s.stopPropagation(),YJ=({onBlur:s,children:e})=>{let t=jt();return C.createElement(Fe.Root,{dir:"ltr"},C.createElement(Fe.Trigger,{dir:"ltr"},e),C.createElement(Fe.Portal,{container:t.current},C.createElement(Fe.Content,{onEscapeKeyDown:_J,tabIndex:-1,onBlur:s,asChild:!0},C.createElement(Ot,{id:"TD-ContextMenu"},C.createElement(ZJ,null)))))},ZJ=C.memo(function(){let e=ue(),t=(0,Ue.useIntl)(),n=e.useStore(WJ),o=e.useStore(KJ),r=e.useStore(UJ),a=C.useCallback(()=>{e.flipHorizontal()},[e]),d=C.useCallback(()=>{e.flipVertical()},[e]),i=C.useCallback(()=>{e.duplicate()},[e]),c=C.useCallback(()=>{e.toggleLocked()},[e]),u=C.useCallback(()=>{e.group()},[e]),p=C.useCallback(()=>{e.moveToBack()},[e]),m=C.useCallback(()=>{e.moveBackward()},[e]),h=C.useCallback(()=>{e.moveForward()},[e]),g=C.useCallback(()=>{e.moveToFront()},[e]),f=C.useCallback(()=>{e.delete()},[e]),T=C.useCallback(()=>{e.cut()},[e]),w=C.useCallback(()=>{e.copy()},[e]),b=C.useCallback(()=>{e.paste()},[e]),y=C.useCallback(()=>{e.copyImage("svg",{scale:1,quality:1,transparentBackground:!1})},[e]),P=C.useCallback(()=>{e.copyImage("png",{scale:2,quality:1,transparentBackground:!0})},[e]),G=C.useCallback(()=>{e.undo()},[e]),M=C.useCallback(()=>{e.redo()},[e]),k=C.useCallback(()=>ce(this,null,function*(){e.exportImage("png",{scale:2,quality:1})}),[e]),I=C.useCallback(()=>ce(this,null,function*(){e.exportImage("jpeg",{scale:2,quality:1})}),[e]),Y=C.useCallback(()=>ce(this,null,function*(){e.exportImage("webp",{scale:2,quality:1})}),[e]),le=C.useCallback(()=>ce(this,null,function*(){e.exportImage("svg",{scale:1,quality:1})}),[e]),ae=C.useCallback(()=>ce(this,null,function*(){e.copyJson()}),[e]),Re=C.useCallback(()=>ce(this,null,function*(){e.exportJson()}),[e]),Ce=n>0,De=n>1,Ne=n>2;return C.createElement(C.Fragment,null,Ce?C.createElement(C.Fragment,null,C.createElement(Oe,{onClick:i,kbd:"#D",id:"TD-ContextMenu-Duplicate"},C.createElement(Ue.FormattedMessage,{id:"duplicate"})),C.createElement(Oe,{onClick:a,kbd:"\u21E7H",id:"TD-ContextMenu-Flip_Horizontal"},C.createElement(Ue.FormattedMessage,{id:"flip.horizontal"})),C.createElement(Oe,{onClick:d,kbd:"\u21E7V",id:"TD-ContextMenu-Flip_Vertical"},C.createElement(Ue.FormattedMessage,{id:"flip.vertical"})),C.createElement(Oe,{onClick:c,kbd:"#\u21E7L",id:"TD-ContextMenu- Lock_Unlock"},C.createElement(Ue.FormattedMessage,{id:"lock"})," / ",C.createElement(Ue.FormattedMessage,{id:"unlock"})),(De||r)&&C.createElement(Pe,null),De&&C.createElement(Oe,{onClick:u,kbd:"#G",id:"TD-ContextMenu-Group"},C.createElement(Ue.FormattedMessage,{id:"group"})),r&&C.createElement(Oe,{onClick:u,kbd:"#G",id:"TD-ContextMenu-Ungroup"},C.createElement(Ue.FormattedMessage,{id:"ungroup"})),C.createElement(Pe,null),C.createElement(ci,{label:t.formatMessage({id:"move"}),id:"TD-ContextMenu-Move"},C.createElement(Oe,{onClick:g,kbd:"\u21E7]",id:"TD-ContextMenu-Move-To_Front"},C.createElement(Ue.FormattedMessage,{id:"to.front"})),C.createElement(Oe,{onClick:h,kbd:"]",id:"TD-ContextMenu-Move-Forward"},C.createElement(Ue.FormattedMessage,{id:"forward"})),C.createElement(Oe,{onClick:m,kbd:"[",id:"TD-ContextMenu-Move-Backward"},C.createElement(Ue.FormattedMessage,{id:"backward"})),C.createElement(Oe,{onClick:p,kbd:"\u21E7[",id:"TD-ContextMenu-Move-To_Back"},C.createElement(Ue.FormattedMessage,{id:"back"}))),C.createElement(eQ,null),De&&C.createElement(XJ,{hasTwoOrMore:De,hasThreeOrMore:Ne}),C.createElement(Pe,null),C.createElement(Oe,{onClick:T,kbd:"#X",id:"TD-ContextMenu-Cut"},C.createElement(Ue.FormattedMessage,{id:"cut"})),C.createElement(Oe,{onClick:w,kbd:"#C",id:"TD-ContextMenu-Copy"},C.createElement(Ue.FormattedMessage,{id:"copy"})),C.createElement(Oe,{onClick:b,kbd:"#V",id:"TD-ContextMenu-Paste"},C.createElement(Ue.FormattedMessage,{id:"paste"})),C.createElement(Pe,null),C.createElement(ci,{label:`${t.formatMessage({id:"copy.as"})}...`,size:"small",id:"TD-ContextMenu-Copy-As"},C.createElement(Oe,{onClick:y,id:"TD-ContextMenu-Copy-as-SVG"},"SVG"),C.createElement(Oe,{onClick:P,id:"TD-ContextMenu-Copy-As-PNG"},"PNG"),o&&C.createElement(Oe,{onClick:ae,id:"TD-ContextMenu-Copy_as_JSON"},"JSON")),C.createElement(ci,{label:`${t.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-ContextMenu-Export"},C.createElement(Oe,{onClick:le,id:"TD-ContextMenu-Export-SVG"},"SVG"),C.createElement(Oe,{onClick:k,id:"TD-ContextMenu-Export-PNG"},"PNG"),C.createElement(Oe,{onClick:I,id:"TD-ContextMenu-Export-JPG"},"JPG"),C.createElement(Oe,{onClick:Y,id:"TD-ContextMenu-Export-WEBP"},"WEBP"),o&&C.createElement(Oe,{onClick:Re,id:"TD-ContextMenu-Export-JSON"},"JSON")),C.createElement(Pe,null),C.createElement(Oe,{onClick:f,kbd:"\u232B",id:"TD-ContextMenu-Delete"},C.createElement(Ue.FormattedMessage,{id:"delete"}))):C.createElement(C.Fragment,null,C.createElement(Oe,{onClick:b,kbd:"#V",id:"TD-ContextMenu-Paste"},C.createElement(Ue.FormattedMessage,{id:"paste"})),C.createElement(Oe,{onClick:G,kbd:"#Z",id:"TD-ContextMenu-Undo"},C.createElement(Ue.FormattedMessage,{id:"undo"})),C.createElement(Oe,{onClick:M,kbd:"#\u21E7Z",id:"TD-ContextMenu-Redo"},C.createElement(Ue.FormattedMessage,{id:"redo"}))))});function XJ({hasThreeOrMore:s}){let e=ue(),t=C.useCallback(()=>{e.align("top")},[e]),n=C.useCallback(()=>{e.align("centerVertical")},[e]),o=C.useCallback(()=>{e.align("bottom")},[e]),r=C.useCallback(()=>{e.stretch("vertical")},[e]),a=C.useCallback(()=>{e.distribute("vertical")},[e]),d=C.useCallback(()=>{e.align("left")},[e]),i=C.useCallback(()=>{e.align("centerHorizontal")},[e]),c=C.useCallback(()=>{e.align("right")},[e]),u=C.useCallback(()=>{e.stretch("horizontal")},[e]),p=C.useCallback(()=>{e.distribute("horizontal")},[e]),m=jt();return C.createElement(Fe.Sub,null,C.createElement(ui,{id:"TD-ContextMenu-Align-Distribute-Trigger"},C.createElement(Ue.FormattedMessage,{id:"align.distribute"})),C.createElement(Fe.Portal,{container:m.current},C.createElement(Fe.SubContent,{asChild:!0,sideOffset:4,alignOffset:-2},C.createElement(qJ,{numberOfSelected:s?"threeOrMore":"twoOrMore"},C.createElement(Sn,{onClick:d,id:"TD-ContextMenu-Align_Distribute-AlignLeft"},C.createElement(it.AlignLeftIcon,null)),C.createElement(Sn,{onClick:i,id:"TD-ContextMenu-Align_Distribute-AlignCenterHorizontal"},C.createElement(it.AlignCenterHorizontallyIcon,null)),C.createElement(Sn,{onClick:c,id:"TD-ContextMenu-Align_Distribute-AlignRight"},C.createElement(it.AlignRightIcon,null)),C.createElement(Sn,{onClick:u,id:"TD-ContextMenu-Align_Distribute-StretchHorizontal"},C.createElement(it.StretchHorizontallyIcon,null)),s&&C.createElement(Sn,{onClick:p,id:"TD-ContextMenu-Align_Distribute-SpaceEvenlyHorizontal"},C.createElement(it.SpaceEvenlyHorizontallyIcon,null)),C.createElement(Sn,{onClick:t,id:"TD-ContextMenu-Align_Distribute-AlignTop"},C.createElement(it.AlignTopIcon,null)),C.createElement(Sn,{onClick:n,id:"TD-ContextMenu-Align_Distribute-AlignCenterVertical"},C.createElement(it.AlignCenterVerticallyIcon,null)),C.createElement(Sn,{onClick:o,id:"TD-ContextMenu-Align_Distribute-AlignBottom"},C.createElement(it.AlignBottomIcon,null)),C.createElement(Sn,{onClick:r,id:"TD-ContextMenu-Align_Distribute-StretchVertical"},C.createElement(it.StretchVerticallyIcon,null)),s&&C.createElement(Sn,{onClick:a,id:"TD-ContextMenu-Align_Distribute-SpaceEvenlyVertical"},C.createElement(it.SpaceEvenlyVerticallyIcon,null)),C.createElement(pi,{offset:13})))))}var qJ=E(Ot,{display:"grid",variants:{numberOfSelected:{threeOrMore:{gridTemplateColumns:"repeat(5, auto)"},twoOrMore:{gridTemplateColumns:"repeat(4, auto)"}}}}),JJ=s=>s.appState.currentPageId,QJ=s=>s.document.pages;function eQ(){let s=ue(),e=s.useStore(JJ),t=s.useStore(QJ),n=Object.values(t).sort((r,a)=>(r.childIndex||0)-(a.childIndex||0)).filter(r=>r.id!==e),o=jt();return n.length===0?null:C.createElement(Fe.Sub,null,C.createElement(ui,null,C.createElement(Ue.FormattedMessage,{id:"move.to.page"})),C.createElement(Fe.Portal,{container:o.current},C.createElement(Fe.SubContent,{sideOffset:4,alignOffset:-2,asChild:!0},C.createElement(Ot,null,n.map(({id:r,name:a},d)=>C.createElement(Oe,{key:r,disabled:r===e,onClick:()=>s.moveToPage(r)},a||`Page ${d}`)),C.createElement(pi,{offset:13})))))}function ci({children:s,label:e,size:t,id:n}){let o=jt();return C.createElement(Fe.Sub,null,C.createElement(ui,null,e),C.createElement(Fe.Portal,{container:o.current},C.createElement(Fe.SubContent,{sideOffset:4,alignOffset:-2,asChild:!0},C.createElement(Ot,{size:t},s,C.createElement(pi,{offset:13})))))}var pi=E(Fe.ContextMenuArrow,{fill:"$panel"});function Sn(t){var n=t,{onSelect:s}=n,e=tt(n,["onSelect"]);return C.createElement(Fe.ContextMenuItem,{dir:"ltr",onSelect:s,asChild:!0},C.createElement(ve,S({},e)))}var Oe=t=>{var n=t,{id:s}=n,e=tt(n,["id"]);return C.createElement(Fe.ContextMenuItem,{asChild:!0,id:s},C.createElement(Ve,S({},e)))},ui=t=>{var n=t,{id:s}=n,e=tt(n,["id"]);return C.createElement(Fe.SubTrigger,{asChild:!0,id:s},C.createElement(Ve,S({hasArrow:!0},e)))},Ll=C.memo(YJ);var Vt=z(require("react"));function Hl({error:s,resetErrorBoundary:e}){let t=ue(),n=()=>{window.location.reload(),e()},o=()=>{let d=document.createElement("textarea");d.value=s.message,document.body.appendChild(d),d.select(),document.execCommand("copy"),d.remove()},r=()=>{t.saveProjectAs()},a=()=>{t.resetDocument(),e()};return Vt.createElement(tQ,null,Vt.createElement(nQ,null,Vt.createElement("div",null,"We've encountered an error!"),Vt.createElement("pre",null,Vt.createElement("code",null,s.message)),Vt.createElement(oQ,null,Vt.createElement(Ve,{onClick:o},"Copy Error"),Vt.createElement(Ve,{onClick:n},"Refresh Page")),Vt.createElement(Pe,null),Vt.createElement("p",null,"Keep getting this error?"," ",Vt.createElement("a",{onClick:r,title:"Download your project"},"Download your project")," ","as a backup and then"," ",Vt.createElement("a",{onClick:a,title:"Reset the document"},"reset the document"),".")))}var tQ=E("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"$canvas"}),nQ=E("div",{backgroundColor:"$panel",border:"1px solid $panelContrast",padding:"$5",borderRadius:8,boxShadow:"$panel",maxWidth:320,color:"$text",fontFamily:"$ui",fontSize:"$2",textAlign:"center",display:"flex",flexDirection:"column",gap:"$3","& > pre":{marginTop:"$3",marginBottom:"$3",textAlign:"left",whiteSpace:"pre-wrap",backgroundColor:"$hover",padding:"$4",borderRadius:"$2",fontFamily:'"Menlo", "Monaco", monospace',fontWeight:500},"& p":{fontFamily:"$body",lineHeight:1.7,padding:"$5",margin:0},"& a":{color:"$text",cursor:"pointer",textDecoration:"underline"},"& hr":{marginLeft:"-$5",marginRight:"-$5"}}),oQ=E("div",{display:"flex","& > button > div":{justifyContent:"center",textAlign:"center"}});var zl=require("@radix-ui/react-icons"),dr=z(require("react"));var Ao=E("button",{position:"relative",height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",outline:"none",border:"none",pointerEvents:"all",fontSize:"$0",color:"$text",cursor:"pointer",display:"grid",alignItems:"center",justifyContent:"center","& > *":{gridRow:1,gridColumn:1},"&:disabled":{opacity:"0.5"},"& > span":{width:"100%",height:"100%",display:"flex",alignItems:"center"},variants:{bp:{mobile:{backgroundColor:"transparent"},small:{"&:hover:not(:disabled)":{backgroundColor:"$hover"}}},size:{small:{height:32,width:32,"& svg:nth-of-type(1)":{height:"16px",width:"16px"}},medium:{height:44,width:44,"& svg:nth-of-type(1)":{height:"18px",width:"18px"}},large:{height:44,width:44,"& svg:nth-of-type(1)":{height:"20px",width:"20px"}}},isActive:{true:{color:"$selected"}}}});function Ol({onSelect:s}){return dr.createElement(sQ,null,dr.createElement(Ao,{onClick:s},dr.createElement(zl.DotFilledIcon,null)))}var sQ=E("div",{opacity:1,zIndex:100,backgroundColor:"transparent","& svg":{color:"$text"},"&:hover svg":{color:"$text"}});var hi=z(require("react")),Fl=require("react-intl");var rQ=s=>s.appState.isLoading;function mi(){let e=ue().useStore(rQ);return hi.createElement(iQ,{hidden:!e},hi.createElement(Fl.FormattedMessage,{id:"loading",values:{dots:"..."}}))}var iQ=E("div",{position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0)",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",padding:"8px 16px",fontFamily:"var(--fonts-ui)",fontSize:"var(--fontSizes-1)",boxShadow:"var(--shadows-panel)",backgroundColor:"white",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{transform:{hidden:{transform:"translate(-50%, 100%)"},visible:{transform:"translate(-50%, 0%)"}}}});var Ct=z(require("@radix-ui/react-alert-dialog")),St=z(require("react")),Lo=require("react-intl");function aQ({children:s,onClose:e,container:t}){return St.createElement(Ct.Portal,{container:t},St.createElement(hQ,null),St.createElement(mQ,{onKeyDown:o=>{switch(o.key){case"Escape":e==null||e();break}}},s))}var lQ=E(Ct.Description,{marginBottom:20,color:"$text",fontSize:"$2",lineHeight:1.5,textAlign:"center",maxWidth:"62%",minWidth:0,alignSelf:"center"}),dQ=Ct.Root,cQ=aQ,pQ=lQ,jl=Ct.Action,uQ=Ct.Cancel,Vl=({container:s})=>{let{setDialogState:e,dialogState:t,onCancel:n,onNo:o,onYes:r}=er(),a=(0,Lo.useIntl)(),d={saveFirstTime:a.formatMessage({id:"dialog.save.firsttime"}),saveAgain:a.formatMessage({id:"dialog.save.again"})};return St.createElement(dQ,{open:t!==null},St.createElement(cQ,{onClose:()=>e(null),container:s},t&&St.createElement(pQ,null,d[t]),St.createElement("div",{style:{width:"100%",gap:"$6",display:"flex",justifyContent:"space-between"}},n&&St.createElement(uQ,{asChild:!0},St.createElement(Ho,{css:{color:"$text"},onClick:()=>{n(),e(null)}},St.createElement(Lo.FormattedMessage,{id:"dialog.cancel"}))),St.createElement("div",{style:{flexShrink:0}},o&&St.createElement(jl,{asChild:!0},St.createElement(Ho,{onClick:()=>{o(),e(null)}},St.createElement(Lo.FormattedMessage,{id:"dialog.no"}))),r&&St.createElement(jl,{asChild:!0},St.createElement(Ho,{css:{backgroundColor:"#2F80ED",color:"White"},onClick:()=>{r(),e(null)}},St.createElement(Lo.FormattedMessage,{id:"dialog.yes"})))))))},hQ=E(Ct.Overlay,{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, .15)",pointerEvents:"all"}),Ase=E(Ct.Overlay,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0}),mQ=E(Ct.Content,{position:"fixed",font:"$ui",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"max-content",padding:"$3",pointerEvents:"all",backgroundColor:"$panel",borderRadius:"$3",display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:"$ui",border:"1px solid $panelContrast",boxShadow:"$panel"}),Ho=E("button",{all:"unset",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"$2",padding:"0 15px",fontSize:"$1",lineHeight:1,fontWeight:"normal",height:36,color:"$text",cursor:"pointer",minWidth:48});var nn=z(require("@radix-ui/react-alert-dialog")),Gl=require("@radix-ui/react-icons"),ut=z(require("react")),fs=require("react-intl");var zo=z(require("react"));var cr=zo.forwardRef((n,t)=>{var o=n,{icon:s}=o,e=tt(o,["icon"]);return zo.createElement(gQ,null,zo.createElement(fQ,x(S({},e),{ref:t})),s?zo.createElement(SQ,null,s):null)}),gQ=E("div",{position:"relative",width:"100%",height:"min-content"}),fQ=E("input",{color:"$text",border:"none",textAlign:"left",width:"100%",paddingLeft:"$3",paddingRight:"$6",backgroundColor:"$background",height:"32px",outline:"none",fontFamily:"$ui",fontSize:"$1","&:focus":{backgroundColor:"$hover"},borderRadius:"$2"}),SQ=E(ft,{top:0,right:0,position:"absolute",paddingLeft:"$3",paddingRight:"$3",pointerEvents:"none",color:"$text"});var $l=({isOpen:s,onClose:e})=>{let t=ue(),n=jt(),o=(0,fs.useIntl)(),[r,a]=ut.useState(t.document.name),d=ut.useCallback(u=>{let p=u.target.value.trimStart();a(p)},[]);function i(u){u.stopPropagation()}let c=ut.useCallback(u=>{switch(u.key){case"Enter":{t.saveProjectAs(r),e();break}case"Escape":{e();break}}},[]);return ut.createElement(nn.Root,{open:s},ut.createElement(nn.Portal,{container:n.current},ut.createElement(TQ,{onPointerDown:e}),ut.createElement(bQ,{dir:"ltr",onKeyDown:i,onKeyUp:i},ut.createElement(wQ,{placeholder:o.formatMessage({id:"enter.file.name"}),value:r,onChange:d,onKeyDown:c,icon:ut.createElement(Gl.Pencil1Icon,null)}),ut.createElement(yQ,null,ut.createElement(nn.Action,{asChild:!0},ut.createElement(Ho,{onClick:e},ut.createElement(fs.FormattedMessage,{id:"cancel"}))),ut.createElement(nn.Action,{asChild:!0},ut.createElement(Ho,{css:{backgroundColor:"#2F80ED",color:"White"},onClick:()=>{let u=r.trim().replace(/\.tldr$/,"");t.saveProjectAs(u),e()}},ut.createElement(fs.FormattedMessage,{id:"save"})))))))},bQ=E(nn.Content,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:300,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$3",borderRadius:"$2",font:"$ui",zIndex:999999,"&:focus":{outline:"none"}}),TQ=E(nn.Overlay,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0,zIndex:999998}),yQ=E("div",{width:"100%",display:"flex",alignItems:"center",gap:8,justifyContent:"flex-end",marginTop:10}),wQ=E(cr,{background:"$hover"});var xt=z(require("react"));var gr=z(require("@radix-ui/react-dropdown-menu")),be=require("@radix-ui/react-icons"),_=z(require("react")),Yl=require("react-intl");var Nl=require("@radix-ui/react-dropdown-menu"),gi=z(require("react"));function xe(n){var o=n,{onSelect:s,id:e}=o,t=tt(o,["onSelect","id"]);return gi.createElement(Nl.Item,{dir:"ltr",asChild:!0,onSelect:s,id:e},gi.createElement(Ve,S({},t)))}var Wl=require("@radix-ui/react-dropdown-menu"),fi=z(require("react"));var Le=s=>s.preventDefault();function Et({checked:s,disabled:e=!1,variant:t,onCheckedChange:n,kbd:o,id:r,children:a}){return fi.createElement(Wl.CheckboxItem,{dir:"ltr",onSelect:Le,onCheckedChange:n,checked:s,disabled:e,asChild:!0,id:r},fi.createElement(Ve,{kbd:o,variant:t,hasIndicator:!0},a))}var ur=z(require("@radix-ui/react-dropdown-menu")),pr=z(require("react"));var Tt=s=>s.stopPropagation();function Bt({sideOffset:s=4,alignOffset:e=0,children:t,align:n,variant:o,id:r,overflow:a=!1,side:d="bottom"}){let i=jt();return pr.createElement(ur.Portal,{container:i.current,dir:"ltr"},pr.createElement(ur.Content,{align:n,alignOffset:e,sideOffset:s,onEscapeKeyDown:Tt,asChild:!0,id:r,side:d},pr.createElement(xQ,{variant:o,overflow:a},t)))}var xQ=E(Ot,{width:"fit-content",height:"fit-content",minWidth:0,maxHeight:"100vh",overflowY:"auto",overflowX:"hidden","&::webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none",variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}},overflow:{true:{maxHeight:"60vh"}}}});var Kl=require("@radix-ui/react-dropdown-menu");var dre=E(Kl.Separator,{backgroundColor:"$hover",height:1,marginTop:"$2",marginRight:"-$2",marginBottom:"$2",marginLeft:"-$2"});var Ul=require("@radix-ui/react-dropdown-menu");var Ss=E(Ul.RadioItem,{height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",variants:{isActive:{true:{backgroundColor:"$selected",color:"white"},false:{}},bp:{mobile:{},small:{}}},compoundVariants:[{isActive:!1,bp:"small",css:{"&:focus":{backgroundColor:"$hover"},"&:hover:not(:disabled)":{backgroundColor:"$hover"}}}]});var _n=require("@radix-ui/react-dropdown-menu"),ho=z(require("react"));function bn({children:s,size:e,overflow:t=!1,disabled:n=!1,label:o,id:r}){return ho.createElement(_n.Sub,{key:r},ho.createElement(_n.SubTrigger,{dir:"ltr",asChild:!0},ho.createElement(Ve,{disabled:n,hasArrow:!0},o)),ho.createElement(_n.SubContent,{asChild:!0,sideOffset:4,alignOffset:-4},ho.createElement(Ot,{size:e,overflow:t},s,ho.createElement(_n.Arrow,{offset:13}))))}var _l=require("@radix-ui/react-dropdown-menu"),Si=z(require("react"));function hr(n){var o=n,{id:s,children:e}=o,t=tt(o,["id","children"]);return Si.createElement(_l.Trigger,{asChild:!0,id:s},Si.createElement(ve,S({},t),e))}var vQ=s=>s.settings.dockPosition,kQ=s=>s.document.pageStates[s.appState.currentPageId].selectedIds.length,IQ=s=>{let e=s.document.pages[s.appState.currentPageId],{selectedIds:t}=s.document.pageStates[s.appState.currentPageId];return t.every(n=>e.shapes[n].isLocked)},CQ=s=>{let e=s.document.pages[s.appState.currentPageId],{selectedIds:t}=s.document.pageStates[s.appState.currentPageId];return t.every(n=>e.shapes[n].isAspectRatioLocked)},DQ=s=>{let e=s.document.pages[s.appState.currentPageId],t=s.document.pageStates[s.appState.currentPageId].selectedIds.map(n=>e.shapes[n]);return t.every(n=>n.children!==void 0||n.parentId===t[0].parentId&&t[0].parentId!==s.appState.currentPageId)},PQ=s=>{let{selectedIds:e}=s.document.pageStates[s.appState.currentPageId];return e.length>0},MQ=s=>{let{selectedIds:e}=s.document.pageStates[s.appState.currentPageId];return e.length>1};function Zl(){let s=ue(),e=(0,Yl.useIntl)(),t=s.useStore(IQ),n=s.useStore(CQ),o=s.useStore(DQ),r=s.useStore(PQ),a=s.useStore(MQ),d=s.useStore(kQ),i=s.useStore(vQ),c=d>1,u=d>2,p=_.useCallback(()=>{s.rotate()},[s]),m=_.useCallback(()=>{s.duplicate()},[s]),h=_.useCallback(()=>{s.toggleLocked()},[s]),g=_.useCallback(()=>{s.toggleAspectRatioLocked()},[s]),f=_.useCallback(()=>{s.group()},[s]),T=_.useCallback(()=>{s.moveToBack()},[s]),w=_.useCallback(()=>{s.moveBackward()},[s]),b=_.useCallback(()=>{s.moveForward()},[s]),y=_.useCallback(()=>{s.moveToFront()},[s]),P=_.useCallback(()=>{s.setShapeProps({rotation:0})},[s]),G=_.useCallback(()=>{s.align("top")},[s]),M=_.useCallback(()=>{s.align("centerVertical")},[s]),k=_.useCallback(()=>{s.align("bottom")},[s]),I=_.useCallback(()=>{s.stretch("vertical")},[s]),Y=_.useCallback(()=>{s.distribute("vertical")},[s]),le=_.useCallback(()=>{s.align("left")},[s]),ae=_.useCallback(()=>{s.align("centerHorizontal")},[s]),Re=_.useCallback(()=>{s.align("right")},[s]),Ce=_.useCallback(()=>{s.stretch("horizontal")},[s]),De=_.useCallback(()=>{s.distribute("horizontal")},[s]),Ne=_.useCallback(Wt=>{s.setMenuOpen(Wt)},[s]),We=i==="bottom"||i==="top"?"top":i;return _.createElement(gr.Root,{dir:"ltr",onOpenChange:Ne},_.createElement(gr.Trigger,{dir:"ltr",asChild:!0,id:"TD-Tools-Dots"},_.createElement(ve,{"aria-label":e.formatMessage({id:"shape.options"}),variant:"circle"},_.createElement(be.DotsHorizontalIcon,null))),_.createElement(Bt,{sideOffset:16,side:We},_.createElement(_.Fragment,null,_.createElement(mr,null,_.createElement(Ae,{label:e.formatMessage({id:"duplicate"}),kbd:"#D",id:"TD-Tools-Copy"},_.createElement(ve,{"aria-label":e.formatMessage({id:"duplicate"}),disabled:!r,onClick:m},_.createElement(be.CopyIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"rotate"}),id:"TD-Tools-Rotate"},_.createElement(ve,{"aria-label":e.formatMessage({id:"rotate"}),disabled:!r,onClick:p},_.createElement(be.RotateCounterClockwiseIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:t?"unlock":"lock"}),kbd:"#L",id:"TD-Tools-Lock"},_.createElement(ve,{"aria-label":e.formatMessage({id:t?"unlock":"lock"}),disabled:!r,onClick:h},t?_.createElement(be.LockClosedIcon,null):_.createElement(be.LockOpen1Icon,null))),_.createElement(Ae,{label:e.formatMessage({id:n?"unlock.aspect.ratio":"lock.aspect.ratio"}),id:"TD-Tools-AspectRatio"},_.createElement(ve,{"aria-label":e.formatMessage({id:n?"unlock.aspect.ratio":"lock.aspect.ratio"}),disabled:!r,onClick:g},n?_.createElement(be.AspectRatioIcon,null):_.createElement(be.BoxIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"group"}),kbd:"#G",id:"TD-Tools-Group"},_.createElement(ve,{"aria-label":e.formatMessage({id:"group"}),disabled:!r||!o&&!a,onClick:f},_.createElement(be.GroupIcon,null)))),_.createElement(mr,null,_.createElement(Ae,{label:e.formatMessage({id:"move.to.back"}),kbd:"#\u21E7[",id:"TD-Tools-PinBottom"},_.createElement(ve,{"aria-label":e.formatMessage({id:"move.to.back"}),disabled:!r,onClick:T},_.createElement(be.PinBottomIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"move.backward"}),kbd:"#[",id:"TD-Tools-ArrowDown"},_.createElement(ve,{"aria-label":e.formatMessage({id:"move.backward"}),disabled:!r,onClick:w},_.createElement(be.ArrowDownIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"move.forward"}),kbd:"#]",id:"TD-Tools-ArrowUp"},_.createElement(ve,{"aria-label":e.formatMessage({id:"move.forward"}),disabled:!r,onClick:b},_.createElement(be.ArrowUpIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"move.to.front"}),kbd:"#\u21E7]",id:"TD-Tools-PinTop"},_.createElement(ve,{"aria-label":e.formatMessage({id:"move.to.front"}),disabled:!r,onClick:y},_.createElement(be.PinTopIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"reset.angle"}),id:"TD-Tools-ResetAngle"},_.createElement(ve,{"aria-label":e.formatMessage({id:"reset.angle"}),disabled:!r,onClick:P},_.createElement(be.AngleIcon,null)))),_.createElement(Pe,null),_.createElement(mr,null,_.createElement(Ae,{label:e.formatMessage({id:"align.left"}),id:"TD-Tools-AlignLeft"},_.createElement(ve,{"aria-label":e.formatMessage({id:"align.left"}),disabled:!c,onClick:le},_.createElement(be.AlignLeftIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"align.center.x"}),id:"TD-Tools-AlignCenterHorizontal"},_.createElement(ve,{"aria-label":e.formatMessage({id:"align.center.x"}),disabled:!c,onClick:ae},_.createElement(be.AlignCenterHorizontallyIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"align.right"}),id:"TD-Tools-AlignRight"},_.createElement(ve,{"aria-label":e.formatMessage({id:"align.right"}),disabled:!c,onClick:Re},_.createElement(be.AlignRightIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"stretch.x"}),id:"TD-Tools-StretchHorizontal"},_.createElement(ve,{"aria-label":e.formatMessage({id:"stretch.x"}),disabled:!c,onClick:Ce},_.createElement(be.StretchHorizontallyIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"distribute.x"}),id:"TD-Tools-SpaceEvenlyHorizontal"},_.createElement(ve,{"aria-label":e.formatMessage({id:"distribute.x"}),disabled:!u,onClick:De},_.createElement(be.SpaceEvenlyHorizontallyIcon,null)))),_.createElement(mr,null,_.createElement(Ae,{label:e.formatMessage({id:"align.top"}),id:"TD-Tools-AlignTop"},_.createElement(ve,{"aria-label":e.formatMessage({id:"align.top"}),disabled:!c,onClick:G},_.createElement(be.AlignTopIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"align.center.y"}),id:"TD-Tools-AlignCenterVertical"},_.createElement(ve,{"aria-label":e.formatMessage({id:"align.center.y"}),disabled:!c,onClick:M},_.createElement(be.AlignCenterVerticallyIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"align.bottom"}),id:"TD-Tools-AlignBottom"},_.createElement(ve,{"aria-label":e.formatMessage({id:"align.bottom"}),disabled:!c,onClick:k},_.createElement(be.AlignBottomIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"stretch.y"}),id:"TD-Tools-StretchVertical"},_.createElement(ve,{"aria-label":e.formatMessage({id:"stretch.y"}),disabled:!c,onClick:I},_.createElement(be.StretchVerticallyIcon,null))),_.createElement(Ae,{label:e.formatMessage({id:"distribute.y"}),id:"TD-Tools-SpaceEvenlyVertical"},_.createElement(ve,{"aria-label":e.formatMessage({id:"distribute.y"}),disabled:!u,onClick:Y},_.createElement(be.SpaceEvenlyVerticallyIcon,null)))))))}var mr=E("div",{position:"relative",display:"flex",width:"100%",background:"none",border:"none",cursor:"pointer",outline:"none",alignItems:"center",justifyContent:"flex-start",padding:0});var Oo=z(require("react")),Xl=require("react-intl");var EQ=s=>s.appState.isEmptyCanvas&&Object.keys(s.document.pages[s.appState.currentPageId].shapes).length>0,BQ=s=>s.settings.isDebugMode,RQ=s=>s.settings.dockPosition,ql=Oo.memo(function(){let e=ue(),t=e.useStore(EQ),n=e.useStore(RQ),o=e.useStore(BQ),r={bottom:n==="bottom"&&o?120:n==="bottom"?80:o?60:20,left:"50%",transform:"translate(-50%,0)"};return t?Oo.createElement(AQ,{id:"TD-Tools-Back_to_content",style:S({},r)},Oo.createElement(Ve,{onClick:e.zoomToContent},Oo.createElement(Xl.FormattedMessage,{id:"zoom.to.content"}))):null}),AQ=E(Ot,{pointerEvents:"all",width:"fit-content",minWidth:0,position:"fixed",bottom:0});var Fo=z(require("react")),dd=require("react-intl");var LQ=z(require("react"));var bi=z(require("react"));function Ti(s){let n=s,{size:e=16}=n,t=tt(n,["size"]);return bi.createElement("svg",S({width:24,height:24},t),bi.createElement("circle",{cx:12,cy:12,r:e/2}))}var yi=z(require("react"));function Jl(){return yi.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},yi.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:50.26548*.1}))}var wi=z(require("react")),HQ=`${50.26548*.025} ${50.26548*.1}`;function Ql(){return wi.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},wi.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:HQ}))}var xi=z(require("react"));function ed(){return xi.createElement("svg",{width:"24",height:"24",viewBox:"1 1.5 21 22",fill:"currentColor",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},xi.createElement("path",{d:"M10.0162 19.2768C10.0162 19.2768 9.90679 19.2517 9.6879 19.2017C9.46275 19.1454 9.12816 19.0422 8.68413 18.8921C8.23384 18.7358 7.81482 18.545 7.42707 18.3199C7.03307 18.101 6.62343 17.7883 6.19816 17.3818C5.77289 16.9753 5.33511 16.3718 4.88482 15.5713C4.43453 14.7645 4.1531 13.8545 4.04053 12.8414C3.92795 11.822 4.04991 10.8464 4.40639 9.91451C4.76286 8.98266 5.39452 8.10084 6.30135 7.26906C7.21444 6.44353 8.29325 5.83377 9.5378 5.43976C10.7823 5.05202 11.833 4.92068 12.6898 5.04576C13.5466 5.16459 14.3878 5.43664 15.2133 5.86191C16.0388 6.28718 16.7768 6.8688 17.4272 7.60678C18.0714 8.34475 18.5404 9.21406 18.8344 10.2147C19.1283 11.2153 19.1721 12.2598 18.9657 13.348C18.7593 14.4299 18.2872 15.4337 17.5492 16.3593C16.8112 17.2849 15.9263 18.0072 14.8944 18.5263C13.8624 19.0391 12.9056 19.3174 12.0238 19.3612C11.142 19.405 10.2101 19.2705 9.22823 18.9578C8.24635 18.6451 7.35828 18.151 6.56402 17.4756C5.77601 16.8002 6.08871 16.8658 7.50212 17.6726C8.90927 18.4731 10.1444 18.8484 11.2076 18.7983C12.2645 18.7545 13.2965 18.4825 14.3034 17.9822C15.3102 17.4819 16.1264 16.8221 16.7518 16.0028C17.3772 15.1835 17.7681 14.3111 17.9244 13.3855C18.0808 12.4599 18.0401 11.5781 17.8025 10.74C17.5586 9.902 17.1739 9.15464 16.6486 8.49797C16.1233 7.8413 15.2289 7.27844 13.9656 6.80939C12.7086 6.34034 11.4203 6.20901 10.1007 6.41539C8.78732 6.61552 7.69599 7.06893 6.82669 7.77564C5.96363 8.48859 5.34761 9.26409 4.97863 10.1021C4.60964 10.9402 4.45329 11.8376 4.50958 12.7945C4.56586 13.7513 4.79101 14.6238 5.18501 15.4118C5.57276 16.1998 5.96363 16.8002 6.35764 17.2129C6.75164 17.6257 7.13313 17.9509 7.50212 18.1886C7.87736 18.4325 8.28074 18.642 8.71227 18.8171C9.15005 18.9922 9.47839 19.111 9.69728 19.1736C9.91617 19.2361 10.0256 19.2705 10.0256 19.2768H10.0162Z",strokeWidth:"2"}))}var vi=z(require("react"));function td(){return vi.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},vi.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2,strokeLinecap:"round"}))}var bs=z(require("react"));function nd(s){return bs.createElement("svg",S({width:18,height:18,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s),bs.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.656a.5.5 0 01.5-.5h9.7a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5z"}),bs.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 3a.578.578 0 00-.578.578v.578h3.311v-.578A.578.578 0 008.428 3H6.272zm3.733 1.156v-.578A1.578 1.578 0 008.428 2H6.272a1.578 1.578 0 00-1.578 1.578v.578H3.578a.5.5 0 00-.5.5V12.2a1.578 1.578 0 001.577 1.578h5.39a1.578 1.578 0 001.577-1.578V4.656a.5.5 0 00-.5-.5h-1.117zm-5.927 1V12.2a.578.578 0 00.577.578h5.39a.578.578 0 00.577-.578V5.156H4.078z"}),bs.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5zM8.428 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5z"}))}var ki=z(require("react"));function Ii(t){var n=t,{flipHorizontal:s}=n,e=tt(n,["flipHorizontal"]);return ki.createElement("svg",S({width:24,height:24,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{transform:s?"scale(-1, 1)":"scale(1, 1)"}},e),ki.createElement("path",{d:"M10.6707 8.5081C10.6707 10.1923 9.3004 11.5625 7.61631 11.5625H6.5351C6.35593 11.5625 6.21074 11.4173 6.21074 11.2382V11.13C6.21074 10.9508 6.35591 10.8057 6.5351 10.8057H7.61631C8.88313 10.8057 9.91387 9.77492 9.91387 8.5081C9.91387 7.24128 8.88313 6.21054 7.61631 6.21054H5.62155L6.99534 7.58433C7.14289 7.73183 7.14289 7.97195 6.99534 8.11944C6.85216 8.26251 6.60298 8.2623 6.46013 8.11944L4.44045 6.09971C4.36898 6.02824 4.32959 5.93321 4.32959 5.8321C4.32959 5.73106 4.36898 5.63598 4.44045 5.56454L6.46024 3.54472C6.60309 3.40176 6.85248 3.40176 6.99535 3.54472C7.14291 3.69218 7.14291 3.93234 6.99535 4.07979L5.62156 5.45368H7.61631C9.3004 5.45368 10.6707 6.82393 10.6707 8.5081Z"}))}var Ci=z(require("react"));function od(s){return Ci.createElement("svg",S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s),Ci.createElement("path",{d:"M12.4239 4.62C13.3572 4.62 14.1572 4.73333 14.8239 4.96C15.4906 5.17333 15.9772 5.43333 16.2839 5.74C16.3639 5.82 16.4039 5.94 16.4039 6.1V8.86H14.0639C13.9172 8.86 13.8439 8.78666 13.8439 8.64V7.26C13.4306 7.12666 12.9572 7.06 12.4239 7.06C11.6506 7.06 11.0639 7.18 10.6639 7.42C10.2639 7.66 10.0639 8.04666 10.0639 8.58V9C10.0639 9.38666 10.1639 9.69333 10.3639 9.92C10.5772 10.1333 11.0306 10.3467 11.7239 10.56L13.6439 11.14C14.4706 11.38 15.1172 11.66 15.5839 11.98C16.0506 12.3 16.3772 12.68 16.5639 13.12C16.7639 13.5467 16.8639 14.0733 16.8639 14.7V15.62C16.8639 16.7933 16.4039 17.7133 15.4839 18.38C14.5639 19.0467 13.2839 19.38 11.6439 19.38C10.6706 19.38 9.79723 19.2867 9.0239 19.1C8.2639 18.9133 7.71056 18.6533 7.3639 18.32C7.3239 18.28 7.29056 18.24 7.2639 18.2C7.25056 18.1467 7.2439 18.06 7.2439 17.94V15.74H7.6239C8.2239 16.1533 8.85056 16.4533 9.5039 16.64C10.1572 16.8267 10.9306 16.92 11.8239 16.92C12.6506 16.92 13.2506 16.7867 13.6239 16.52C14.0106 16.2533 14.2039 15.9333 14.2039 15.56V14.88C14.2039 14.6667 14.1639 14.48 14.0839 14.32C14.0172 14.16 13.8706 14.0133 13.6439 13.88C13.4172 13.7467 13.0572 13.6067 12.5639 13.46L10.6639 12.88C9.7839 12.6133 9.11056 12.3 8.6439 11.94C8.17723 11.58 7.85056 11.18 7.6639 10.74C7.49056 10.3 7.4039 9.83333 7.4039 9.34V8.38C7.4039 7.64666 7.61056 7 8.0239 6.44C8.43723 5.88 9.01723 5.44 9.7639 5.12C10.5239 4.78666 11.4106 4.62 12.4239 4.62Z"}))}var Di=z(require("react"));function sd(s){return Di.createElement("svg",S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s),Di.createElement("path",{d:"M8.16191 19H5.68191C5.53525 19 5.46191 18.9267 5.46191 18.78V5H8.76191C8.88191 5 8.97525 5.03333 9.04191 5.1C9.10858 5.15333 9.17525 5.27333 9.24191 5.46C9.72191 6.59333 10.1686 7.7 10.5819 8.78C11.0086 9.84667 11.4352 10.98 11.8619 12.18H12.1619C12.6019 10.9667 13.0352 9.79333 13.4619 8.66C13.8886 7.52667 14.3552 6.30667 14.8619 5H18.3219C18.4686 5 18.5419 5.07333 18.5419 5.22V19H16.0619C15.9152 19 15.8419 18.9267 15.8419 18.78V16.26C15.8419 15.5267 15.8486 14.8133 15.8619 14.12C15.8886 13.4267 15.9286 12.6867 15.9819 11.9C16.0486 11.1 16.1419 10.1933 16.2619 9.18H15.9019C15.4352 10.3533 14.9486 11.5667 14.4419 12.82C13.9486 14.06 13.4819 15.2333 13.0419 16.34H11.1019C11.0619 16.34 11.0152 16.3333 10.9619 16.32C10.9219 16.2933 10.8886 16.2467 10.8619 16.18C10.4619 15.18 10.0086 14.06 9.50191 12.82C9.00858 11.58 8.53525 10.3667 8.08191 9.18H7.70191C7.83525 10.18 7.93525 11.0733 8.00191 11.86C8.06858 12.6467 8.10858 13.3933 8.12191 14.1C8.14858 14.8067 8.16191 15.5267 8.16191 16.26V19Z"}))}var Pi=z(require("react"));function rd(s){return Pi.createElement("svg",S({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s),Pi.createElement("path",{d:"M7.68191 19C7.53525 19 7.46191 18.9267 7.46191 18.78V5H10.1219C10.2686 5 10.3419 5.07333 10.3419 5.22V16.56H13.4419V15.02H15.7619C15.9086 15.02 15.9819 15.0933 15.9819 15.24V19H7.68191Z"}))}var Ts=z(require("react"));function id(){return Ts.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ts.createElement("path",{d:"M1.72838 9.33987L8.84935 2.34732C9.23874 1.96494 9.86279 1.96539 10.2516 2.34831L13.5636 5.60975C13.9655 6.00555 13.9607 6.65526 13.553 7.04507L8.13212 12.2278C7.94604 12.4057 7.69851 12.505 7.44107 12.505L6.06722 12.505L3.83772 12.505C3.5673 12.505 3.30842 12.3954 3.12009 12.2014L1.7114 10.7498C1.32837 10.3551 1.33596 9.72521 1.72838 9.33987Z",stroke:"currentColor"}),Ts.createElement("line",{x1:"6.01807",y1:"12.5",x2:"10.7959",y2:"12.5",stroke:"currentColor",strokeLinecap:"round"}),Ts.createElement("line",{x1:"5.50834",y1:"5.74606",x2:"10.1984",y2:"10.4361",stroke:"currentColor"}))}var Mi=z(require("react"));function ad(){return Mi.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},Mi.createElement("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"}))}var Ei=z(require("react"));function ld(){return Ei.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},Ei.createElement("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L11.1464 3.14645C11.3417 2.95118 11.6583 2.95118 11.8536 3.14645C12.0488 3.34171 12.0488 3.65829 11.8536 3.85355L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z"}))}function cd(){let s=ue(),e=(0,dd.useIntl)(),t=Fo.useCallback(()=>{s.delete()},[s]),n=s.useStore(o=>o.appState.status==="idle"&&o.document.pageStates[o.appState.currentPageId].selectedIds.length>0);return Fo.createElement(Ae,{label:e.formatMessage({id:"delete"}),kbd:"\u232B",id:"TD-Delete"},Fo.createElement(ve,{"aria-label":e.formatMessage({id:"delete"}),variant:"circle",disabled:!n,onSelect:t},Fo.createElement(nd,null)))}var fr=z(require("@radix-ui/react-dropdown-menu")),Tn=require("@radix-ui/react-icons"),Yn=z(require("@radix-ui/react-popover")),He=z(require("react")),Ri=require("react-intl");var pd=require("@radix-ui/react-icons"),on=z(require("react")),ud=require("react-intl");var zQ=s=>s.settings.language,hd=()=>{let s=ue(),e=s.useStore(zQ),t=on.useCallback(n=>{s.setSetting("language",n)},[s]);return on.createElement(Bt,{variant:"menu",overflow:!0,id:"language-menu",side:"left",sideOffset:8},ar.map(({locale:n,label:o})=>on.createElement(Et,{key:n,checked:e===n,onCheckedChange:()=>t(n),id:`TD-MenuItem-Language-${n}`},o)),on.createElement(Pe,null),on.createElement("a",{href:"https://github.com/tldraw/tldraw/blob/main/guides/translation.md",target:"_blank",rel:"nofollow"},on.createElement(xe,{id:"TD-MenuItem-Translation-Link"},on.createElement(ud.FormattedMessage,{id:"translation.link"}),on.createElement(ft,null,on.createElement(pd.ExternalLinkIcon,null)))))};var Rt=z(require("@radix-ui/react-dialog")),md=require("@radix-ui/react-icons"),at=z(require("react")),jo=require("react-intl");function gd({onOpenChange:s}){let e=(0,jo.useIntl)(),t=jt(),n={Tools:[{label:e.formatMessage({id:"select"}),kbd:"1"},{label:e.formatMessage({id:"draw"}),kbd:"2"},{label:e.formatMessage({id:"eraser"}),kbd:"3"},{label:e.formatMessage({id:"rectangle"}),kbd:"4"},{label:e.formatMessage({id:"ellipse"}),kbd:"5"},{label:e.formatMessage({id:"triangle"}),kbd:"6"},{label:e.formatMessage({id:"line"}),kbd:"7"},{label:e.formatMessage({id:"arrow"}),kbd:"8"},{label:e.formatMessage({id:"text"}),kbd:"9"},{label:e.formatMessage({id:"sticky"}),kbd:"0"}],View:[{label:e.formatMessage({id:"zoom.in"}),kbd:"#+"},{label:e.formatMessage({id:"zoom.out"}),kbd:"#-"},{label:`${e.formatMessage({id:"zoom.to"})} 100%`,kbd:"\u21E7+0"},{label:e.formatMessage({id:"zoom.to.fit"}),kbd:"\u21E7+1"},{label:e.formatMessage({id:"zoom.to.selection"}),kbd:"\u21E7+2"},{label:e.formatMessage({id:"preferences.dark.mode"}),kbd:"#\u21E7D"},{label:e.formatMessage({id:"preferences.focus.mode"}),kbd:"#."},{label:e.formatMessage({id:"preferences.show.grid"}),kbd:"#\u21E7G"}],Transform:[{label:e.formatMessage({id:"flip.horizontal"}),kbd:"\u21E7H"},{label:e.formatMessage({id:"flip.vertical"}),kbd:"\u21E7V"},{label:`${e.formatMessage({id:"lock"})} / ${e.formatMessage({id:"unlock"})}`,kbd:"#\u21E7L"},{label:`${e.formatMessage({id:"move"})} ${e.formatMessage({id:"to.front"})}`,kbd:"\u21E7]"},{label:`${e.formatMessage({id:"move"})} ${e.formatMessage({id:"forward"})}`,kbd:"]"},{label:`${e.formatMessage({id:"move"})} ${e.formatMessage({id:"backward"})}`,kbd:"["},{label:`${e.formatMessage({id:"move"})} ${e.formatMessage({id:"back"})}`,kbd:"\u21E7["}],File:[{label:e.formatMessage({id:"new.project"}),kbd:"#N"},{label:e.formatMessage({id:"open"}),kbd:"#O"},{label:e.formatMessage({id:"save"}),kbd:"#S"},{label:e.formatMessage({id:"save.as"}),kbd:"#\u21E7S"},{label:e.formatMessage({id:"upload.media"}),kbd:"#U"}],Edit:[{label:e.formatMessage({id:"undo"}),kbd:"#Z"},{label:e.formatMessage({id:"redo"}),kbd:"#\u21E7Z"},{label:e.formatMessage({id:"cut"}),kbd:"#X"},{label:e.formatMessage({id:"copy"}),kbd:"#C"},{label:e.formatMessage({id:"paste"}),kbd:"#V"},{label:e.formatMessage({id:"select.all"}),kbd:"#A"},{label:e.formatMessage({id:"delete"}),kbd:"\u232B"},{label:e.formatMessage({id:"duplicate"}),kbd:"#D"}]};return at.createElement(Rt.Root,{onOpenChange:s},at.createElement(Rt.Trigger,{asChild:!0},at.createElement(Ve,{id:"TD-HelpItem-Keyboard",variant:"wide"},at.createElement(jo.FormattedMessage,{id:"keyboard.shortcuts"}))),at.createElement(Rt.Portal,{container:t.current},at.createElement($Q,null),at.createElement(VQ,null,at.createElement(WQ,null,at.createElement(jo.FormattedMessage,{id:"keyboard.shortcuts"}),at.createElement(Rt.Close,{asChild:!0},at.createElement(NQ,null,at.createElement(md.Cross2Icon,null)))),at.createElement(GQ,{bp:nt},Object.entries(n).map(([o,r])=>at.createElement(Bi,{key:o},at.createElement(OQ,null,at.createElement(jo.FormattedMessage,{id:`menu.${o.toLocaleLowerCase()}`})),at.createElement(FQ,null,r.map(a=>at.createElement(jQ,{key:a.label},a.label,at.createElement(Do,{variant:"menu"},a.kbd))))))))))}var OQ=E("h3",{fontSize:"$2",color:"$text",fontFamily:"$ui",margin:0,paddingBottom:"$5"}),Bi=E("div",{breakInside:"avoid",paddingBottom:24}),FQ=E("ul",{listStyleType:"none",width:"100%",padding:0,margin:0}),jQ=E("li",{display:"flex",alignItems:"center",justifyContent:"space-between",height:32,minHeight:32,width:"100%",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",margin:0,padding:"0 0"}),VQ=E(Rt.Content,{borderRadius:6,boxShadow:"hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"fit-content",maxWidth:"90vw",maxHeight:"74vh",overflowY:"auto",padding:25,zIndex:9999,pointerEvents:"all",background:"$panel","&:focus":{outline:"none"}}),GQ=E("div",{maxWidth:"100%",width:"fit-content",height:"fit-content",overflowY:"auto",columnGap:64,variants:{bp:{mobile:{columns:1,[`& ${Bi}`]:{minWidth:"0px"}},small:{columns:2,[`& ${Bi}`]:{minWidth:"200px"}},medium:{columns:3},large:{columns:3}}}}),$Q=E(Rt.Overlay,{backgroundColor:"$overlay",position:"fixed",inset:0,zIndex:9998}),NQ=E(Ao,{fontFamily:"inherit",borderRadius:"100%",height:25,width:25,display:"inline-flex",alignItems:"center",justifyContent:"center",color:"$text",cursor:"pointer","&:hover":{backgroundColor:"$hover"}}),WQ=E(Rt.Title,{fontFamily:"$body",fontSize:"$3",color:"$text",paddingBottom:32,display:"flex",alignItems:"center",justifyContent:"space-between",margin:0});var KQ=s=>s.settings.isDebugMode,UQ=s=>s.settings.dockPosition;function fd(){let s=ue(),e=s.useStore(KQ),t=s.useStore(UQ),[n,o]=He.useState(!1);return He.createElement(Yn.Root,null,He.createElement(JQ,{dir:"ltr",debug:e,side:t,bp:nt},He.createElement(Yn.Trigger,{dir:"ltr",asChild:!0},He.createElement(XQ,null,He.createElement(Tn.QuestionMarkIcon,null)))),He.createElement(Yn.Content,{dir:"ltr",align:"end",side:"top",alignOffset:10,sideOffset:8,asChild:!0},He.createElement(qQ,{style:{visibility:n?"hidden":"visible"}},He.createElement(_Q,null),He.createElement(gd,{onOpenChange:o}),He.createElement(Pe,null),He.createElement(ZQ,null))))}var _Q=()=>He.createElement(fr.Root,{dir:"ltr"},He.createElement(fr.Trigger,{asChild:!0},He.createElement(Ve,{variant:"wide",hasArrow:!0},He.createElement(Ri.FormattedMessage,{id:"language"}))),He.createElement(hd,null)),YQ=[{id:"tldraw-beta",icon:Tn.ExternalLinkIcon,url:"https://beta.tldraw.com"},{id:"github",icon:Tn.GitHubLogoIcon,url:"https://github.com/tldraw/tldraw"},{id:"twitter",icon:Tn.TwitterLogoIcon,url:"https://twitter.com/tldraw"},{id:"discord",icon:ad,url:"https://discord.gg/SBBEVCA4PG"},{id:"become.a.sponsor",icon:Tn.HeartFilledIcon,url:"https://github.com/sponsors/steveruizok"}],ZQ=()=>He.createElement(He.Fragment,null,YQ.map(s=>He.createElement("a",{key:s.id,href:s.url,target:"_blank",rel:"nofollow"},He.createElement(Ve,{id:`TD-Link-${s.id}`,variant:"wide"},He.createElement(Ri.FormattedMessage,{id:s.id}),He.createElement(ft,null,He.createElement(s.icon,null)))))),XQ=E("button",{width:32,height:32,borderRadius:"100%",display:"flex",padding:0,justifyContent:"center",alignItems:"center",outline:"none",backgroundColor:"$panel",cursor:"pointer",boxShadow:"$panel",border:"1px solid $panelContrast",color:"$text","& svg":{height:12,width:12}}),qQ=E(Ot,{width:"fit-content",height:"fit-content",minWidth:200,maxHeight:380,overflowY:"auto","& *":{boxSizing:"border-box"},"& a":{outline:"none"},variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}}}}),JQ=E(Yn.Anchor,{position:"absolute",zIndex:999,right:10,bottom:10,width:32,height:32,variants:{debug:{true:{},false:{}},bp:{mobile:{bottom:64},small:{bottom:10},medium:{},large:{}},side:{top:{},left:{},right:{},bottom:{}}},compoundVariants:[{bp:"mobile",side:"bottom",debug:!0,css:{bottom:104}},{bp:"small",side:"bottom",debug:!0,css:{bottom:50}}]});var Kt=require("@radix-ui/react-icons"),ze=z(require("react")),yd=require("react-intl");var mo=E("div",{backgroundColor:"$panel",display:"flex",flexDirection:"row",boxShadow:"$panel",padding:"$2",border:"1px solid $panelContrast",gap:0,overflow:"hidden",variants:{side:{center:{borderRadius:9},left:{padding:0,borderTop:0,borderLeft:0,borderTopRightRadius:0,borderBottomRightRadius:9,borderBottomLeftRadius:0},right:{padding:0,borderTop:0,borderRight:0,borderTopLeftRadius:0,borderBottomLeftRadius:9,borderBottomRightRadius:0}}},"& hr":{height:10,width:"100%",backgroundColor:"red",border:"none"}});var Zn=z(require("@radix-ui/react-dropdown-menu")),Vo=require("@radix-ui/react-icons"),_e=z(require("react")),bd=require("react-intl");var Ai=["rectangle","ellipse","triangle","line"],Sd={["rectangle"]:_e.createElement(Vo.SquareIcon,null),["ellipse"]:_e.createElement(Vo.CircleIcon,null),["triangle"]:_e.createElement(Vo.VercelLogoIcon,null),["line"]:_e.createElement(ld,null)},QQ=s=>s.settings.dockPosition,Td=_e.memo(function({activeTool:e,isToolLocked:t}){let n=ue(),o=(0,bd.useIntl)(),r=n.useStore(QQ),[a,d]=_e.useState("rectangle");_e.useEffect(()=>{Ai.includes(e)&&a!==e&&d(e)},[e]);let i=_e.useCallback(()=>{n.selectTool(a)},[e,n]),c=_e.useCallback(()=>{n.toggleToolLock()},[n]),u=_e.useCallback(g=>{g.key===" "&&n.shiftKey&&g.preventDefault()},[]),p=Ai.includes(e),m=r==="bottom"||r==="top"?"top":r,h=r==="bottom"||r==="top"?"row":"column";return _e.createElement(Zn.Root,{dir:"ltr",onOpenChange:i},_e.createElement(Zn.Trigger,{dir:"ltr",asChild:!0,id:"TD-PrimaryTools-Shapes"},_e.createElement(ve,{disabled:p&&n.shiftKey,variant:"primary",onDoubleClick:c,isToolLocked:p&&t,isActive:p,onKeyDown:u,"aria-label":o.formatMessage({id:"shapes"})},Sd[a])),_e.createElement(Zn.Content,{asChild:!0,side:m,sideOffset:12},_e.createElement(mo,{side:"center",style:{flexDirection:h}},Ai.map((g,f)=>_e.createElement(Ae,{key:g,label:o.formatMessage({id:g}),kbd:(4+f).toString(),id:`TD-PrimaryTools-Shapes-${g}`},_e.createElement(Zn.Item,{asChild:!0},_e.createElement(ve,{"aria-label":o.formatMessage({id:g}),variant:"primary",onClick:()=>{n.selectTool(g),d(g)}},Sd[g])))))))});var eee=s=>s.appState.activeTool,tee=s=>s.appState.isToolLocked,nee=s=>s.settings.dockPosition,wd=ze.memo(function(){let e=ue(),t=(0,yd.useIntl)(),n=e.useStore(eee),o=e.useStore(tee),r=e.useStore(nee),a=ze.useCallback(()=>{e.selectTool("select")},[e]),d=ze.useCallback(()=>{e.selectTool("erase")},[e]),i=ze.useCallback(()=>{e.selectTool("draw")},[e]),c=ze.useCallback(()=>{e.selectTool("arrow")},[e]),u=ze.useCallback(()=>{e.selectTool("text")},[e]),p=ze.useCallback(()=>{e.selectTool("sticky")},[e]),m=ze.useCallback(()=>ce(this,null,function*(){e.openAsset()}),[e]);return ze.createElement(oee,{side:"center",id:"TD-PrimaryTools",style:{flexDirection:r==="bottom"||r==="top"?"row":"column"},bp:nt},ze.createElement(tn,{kbd:"1",label:t.formatMessage({id:"select"}),onClick:a,isActive:n==="select",id:"TD-PrimaryTools-CursorArrow"},ze.createElement(Kt.CursorArrowIcon,null)),ze.createElement(tn,{kbd:"2",label:t.formatMessage({id:"draw"}),onClick:i,isActive:n==="draw",id:"TD-PrimaryTools-Pencil"},ze.createElement(Kt.Pencil1Icon,null)),ze.createElement(tn,{kbd:"3",label:t.formatMessage({id:"eraser"}),onClick:d,isActive:n==="erase",id:"TD-PrimaryTools-Eraser"},ze.createElement(id,null)),ze.createElement(Td,{activeTool:n,isToolLocked:o}),ze.createElement(tn,{kbd:"8",label:t.formatMessage({id:"arrow"}),onClick:c,isLocked:o,isActive:n==="arrow",id:"TD-PrimaryTools-ArrowTopRight"},ze.createElement(Kt.ArrowTopRightIcon,null)),ze.createElement(tn,{kbd:"9",label:t.formatMessage({id:"text"}),onClick:u,isLocked:o,isActive:n==="text",id:"TD-PrimaryTools-Text"},ze.createElement(Kt.TextIcon,null)),ze.createElement(tn,{kbd:"0",label:t.formatMessage({id:"sticky"}),onClick:p,isActive:n==="sticky",id:"TD-PrimaryTools-Pencil2"},ze.createElement(Kt.Pencil2Icon,null)),ze.createElement(tn,{label:t.formatMessage({id:"image"}),onClick:m,id:"TD-PrimaryTools-Image"},ze.createElement(Kt.ImageIcon,null)))}),oee=E(mo,{variants:{bp:{mobile:{padding:"$0",borderRadius:"10px"},small:{padding:"$2"}}}});var Li=z(require("react"));var see=s=>s.appState.status,ree=s=>s.appState.activeTool;function xd(){let s=ue(),e=s.useStore(see),t=s.useStore(ree);return Li.createElement(iee,{bp:nt,id:"TD-StatusBar"},Li.createElement(aee,null,t," | ",e))}var iee=E("div",{height:40,userSelect:"none",borderTop:"1px solid $panelContrast",gridArea:"status",display:"flex",color:"$text",justifyContent:"space-between",alignItems:"center",backgroundColor:"$panel",gap:8,fontFamily:"$ui",fontSize:"$0",padding:"0 16px",variants:{bp:{small:{fontSize:"$1"}}}}),aee=E("div",{whiteSpace:"nowrap",overflow:"hidden"});var lee=s=>s.settings.isDebugMode,dee=s=>s.settings.dockPosition,vd=xt.memo(function({onBlur:e}){let t=ue(),n=t.useStore(dee),o=t.useStore(lee);return xt.createElement(xt.Fragment,null,xt.createElement(cee,{side:n,onBlur:e,bp:nt,debug:o},xt.createElement(pee,{id:"TD-Tools"},xt.createElement(ql,null),xt.createElement(hee,{orientation:n==="bottom"||n==="top"?"horizontal":"vertical"},xt.createElement(Zl,null),xt.createElement(wd,null),xt.createElement(cd,null)))),xt.createElement(fd,null),o&&xt.createElement(uee,null,xt.createElement(xd,null)))}),cee=E("div",{position:"absolute",width:"100%",minWidth:0,maxWidth:"100%",height:64,gap:"$4",display:"flex",justifyContent:"center",alignItems:"center",zIndex:200,overflow:"hidden",pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{debug:{true:{},false:{}},bp:{mobile:{},small:{},medium:{},large:{}},side:{top:{width:"100%",height:64,left:0,right:0,top:45},right:{width:64,height:"100%",top:0,right:0},bottom:{width:"100%",left:0,right:0,bottom:4},left:{width:64,height:"100%",left:0}}},compoundVariants:[{side:"top",bp:"large",css:{top:0}},{side:"bottom",debug:!0,css:{bottom:44}}]}),pee=E("div",{display:"flex",width:"fit-content",height:"fit-content",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"$4"}),uee=E("div",{position:"absolute",bottom:"0px",left:"0px",right:"0px",height:"40px",width:"100%",maxWidth:"100%"}),hee=E("div",{position:"relative",display:"flex",alignItems:"center",height:"fit-content",gap:"$3",variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}}}});var ct=z(require("react")),Gc=require("react-intl");var Cd=z(require("@radix-ui/react-dropdown-menu")),Dd=require("@radix-ui/react-icons"),Pd=require("browser-fs-access"),q=z(require("react")),ot=require("react-intl");var Me=z(require("react")),sn=require("react-intl");var mee=s=>s.settings,gee=["bottom","left","right","top"];function Id(){let s=ue(),e=(0,sn.useIntl)(),t=s.useStore(mee),n=Me.useCallback(()=>{s.setSetting("isDebugMode",p=>!p)},[s]),o=Me.useCallback(()=>{s.setSetting("isDarkMode",p=>!p)},[s]),r=Me.useCallback(()=>{s.setSetting("isFocusMode",p=>!p)},[s]),a=Me.useCallback(()=>{s.setSetting("showGrid",p=>!p)},[s]),d=Me.useCallback(()=>{s.setSetting("keepStyleMenuOpen",p=>!p)},[s]),i=Me.useCallback(()=>{s.setSetting("isCadSelectMode",p=>!p)},[s]),c=Me.useCallback(p=>{s.setSetting("dockPosition",p)},[s]),u=Me.useCallback(p=>{s.setSetting("exportBackground",p)},[s]);return Me.createElement(bn,{label:e.formatMessage({id:"menu.preferences"}),id:"TD-MenuItem-Preferences"},Me.createElement(Et,{checked:t.isDarkMode,onCheckedChange:o,kbd:"#\u21E7D",id:"TD-MenuItem-Preferences-Dark_Mode"},Me.createElement(sn.FormattedMessage,{id:"preferences.dark.mode"})),Me.createElement(Et,{checked:t.isFocusMode,onCheckedChange:r,kbd:"#.",id:"TD-MenuItem-Preferences-Focus_Mode"},Me.createElement(sn.FormattedMessage,{id:"preferences.focus.mode"})),Me.createElement(Et,{checked:t.isDebugMode,onCheckedChange:n,id:"TD-MenuItem-Preferences-Debug_Mode"},Me.createElement(sn.FormattedMessage,{id:"preferences.debug.mode"})),Me.createElement(Pe,null),Me.createElement(Et,{checked:t.showGrid,onCheckedChange:a,kbd:"#\u21E7G",id:"TD-MenuItem-Preferences-Grid"},Me.createElement(sn.FormattedMessage,{id:"preferences.show.grid"})),Me.createElement(Et,{checked:t.isCadSelectMode,onCheckedChange:i,id:"TD-MenuItem-Preferences-Cad_Selection"},Me.createElement(sn.FormattedMessage,{id:"preferences.use.cad.selection"})),Me.createElement(Et,{checked:t.keepStyleMenuOpen,onCheckedChange:d,id:"TD-MenuItem-Preferences-Style_menu"},Me.createElement(sn.FormattedMessage,{id:"preferences.keep.stylemenu.open"})),Me.createElement(bn,{label:e.formatMessage({id:"dock.position"})},gee.map(p=>Me.createElement(Et,{key:p,checked:t.dockPosition===p,onCheckedChange:()=>c(p),id:`TD-MenuItem-DockPosition-${p}`},Me.createElement(kd,null,Me.createElement(sn.FormattedMessage,{id:p}))))),Me.createElement(bn,{label:e.formatMessage({id:"export.background"})},Object.values(Ro).map(p=>Me.createElement(Et,{key:p,checked:t.exportBackground===p,onCheckedChange:()=>u(p),id:`TD-MenuItem-ExportBackground-${p}`},Me.createElement(kd,null,Me.createElement(sn.FormattedMessage,{id:p}))))))}var kd=E("span",{textTransform:"capitalize"});var fee=s=>s.document.pageStates[s.appState.currentPageId].selectedIds.length,See=s=>s.appState.disableAssets,Md=q.memo(function({readOnly:e}){let t=ue(),n=(0,ot.useIntl)(),[o,r]=q.useState(!1),a=t.useStore(fee),d=t.useStore(See),[i,c]=q.useState(0);q.useEffect(()=>c(1),[]);let{onNewProject:u,onOpenProject:p,onSaveProject:m,onSaveProjectAs:h}=Qs(),g=q.useCallback(()=>{Pd.supported?t.saveProjectAs():r(!0)},[t]),f=q.useCallback(()=>{t.delete()},[t]),T=q.useCallback(()=>{t.copyImage("svg",{scale:1,quality:1,transparentBackground:!1})},[t]),w=q.useCallback(()=>{t.copyImage("png",{scale:2,quality:1,transparentBackground:!0})},[t]),b=q.useCallback(()=>ce(this,null,function*(){t.exportImage("png",{scale:2,quality:1})}),[t]),y=q.useCallback(()=>ce(this,null,function*(){t.exportImage("jpeg",{scale:2,quality:1})}),[t]),P=q.useCallback(()=>ce(this,null,function*(){t.exportImage("webp",{scale:2,quality:1})}),[t]),G=q.useCallback(()=>ce(this,null,function*(){t.exportImage("svg",{scale:2,quality:1})}),[t]),M=q.useCallback(()=>ce(this,null,function*(){t.copyJson()}),[t]),k=q.useCallback(()=>ce(this,null,function*(){t.exportJson()}),[t]),I=q.useCallback(()=>{t.cut()},[t]),Y=q.useCallback(()=>{t.copy()},[t]),le=q.useCallback(()=>{t.paste()},[t]),ae=q.useCallback(()=>{t.selectAll()},[t]),Re=q.useCallback(()=>{t.selectNone()},[t]),Ce=q.useCallback(()=>{t.openAsset()},[t]),De=q.useCallback(()=>{t.zoomTo(1)},[t]),Ne=t.callbacks.onNewProject||t.callbacks.onOpenProject||t.callbacks.onSaveProject||t.callbacks.onSaveProjectAs||t.callbacks.onExport,We=a>0;return q.createElement(q.Fragment,null,q.createElement(Cd.Root,{dir:"ltr"},q.createElement(hr,{id:"TD-MenuIcon"},q.createElement(Dd.HamburgerMenuIcon,null)),q.createElement(Bt,{variant:"menu",id:"TD-Menu",side:"bottom",align:"start",sideOffset:4,alignOffset:4},Ne&&q.createElement(bn,{label:`${n.formatMessage({id:"menu.file"})}...`,id:"TD-MenuItem-File"},t.callbacks.onNewProject&&q.createElement(xe,{onClick:u,kbd:"#N",id:"TD-MenuItem-File-New_Project"},q.createElement(ot.FormattedMessage,{id:"new.project"})),t.callbacks.onOpenProject&&q.createElement(xe,{onClick:p,kbd:"#O",id:"TD-MenuItem-File-Open"},q.createElement(ot.FormattedMessage,{id:"open"}),"..."),t.callbacks.onSaveProject&&q.createElement(xe,{onClick:m,kbd:"#S",id:"TD-MenuItem-File-Save"},q.createElement(ot.FormattedMessage,{id:"save"})),t.callbacks.onSaveProjectAs&&q.createElement(xe,{onClick:g,kbd:"#\u21E7S",id:"TD-MenuItem-File-Save_As"},q.createElement(ot.FormattedMessage,{id:"save.as"}),"..."),!d&&q.createElement(q.Fragment,null,q.createElement(Pe,null),q.createElement(xe,{onClick:Ce,kbd:"#U",id:"TD-MenuItem-File-Upload_Media"},q.createElement(ot.FormattedMessage,{id:"upload.media"})))),q.createElement(bn,{label:`${n.formatMessage({id:"menu.edit"})}...`,id:"TD-MenuItem-Edit"},q.createElement(xe,{onSelect:Le,onClick:t.undo,disabled:e,kbd:"#Z",id:"TD-MenuItem-Edit-Undo"},q.createElement(ot.FormattedMessage,{id:"undo"})),q.createElement(xe,{onSelect:Le,onClick:t.redo,disabled:e,kbd:"#\u21E7Z",id:"TD-MenuItem-Edit-Redo"},q.createElement(ot.FormattedMessage,{id:"redo"})),q.createElement(Pe,null),q.createElement(xe,{onSelect:Le,disabled:!We||e,onClick:I,kbd:"#X",id:"TD-MenuItem-Edit-Cut"},q.createElement(ot.FormattedMessage,{id:"cut"})),q.createElement(xe,{onSelect:Le,disabled:!We,onClick:Y,kbd:"#C",id:"TD-MenuItem-Edit-Copy"},q.createElement(ot.FormattedMessage,{id:"copy"})),q.createElement(xe,{onSelect:Le,onClick:le,kbd:"#V",id:"TD-MenuItem-Edit-Paste"},q.createElement(ot.FormattedMessage,{id:"paste"})),q.createElement(Pe,null),q.createElement(bn,{label:`${n.formatMessage({id:"copy.as"})}...`,size:"small",id:"TD-MenuItem-Copy-As"},q.createElement(xe,{onClick:T,id:"TD-MenuItem-Copy-as-SVG"},"SVG"),q.createElement(xe,{onClick:w,id:"TD-MenuItem-Copy-As-PNG"},"PNG"),q.createElement(xe,{onClick:M,id:"TD-MenuItem-Copy_as_JSON"},"JSON")),q.createElement(bn,{label:`${n.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-MenuItem-Export"},q.createElement(xe,{onClick:G,id:"TD-MenuItem-Export-SVG"},"SVG"),q.createElement(xe,{onClick:b,id:"TD-MenuItem-Export-PNG"},"PNG"),q.createElement(xe,{onClick:y,id:"TD-MenuItem-Export-JPG"},"JPG"),q.createElement(xe,{onClick:P,id:"TD-MenuItem-Export-WEBP"},"WEBP"),q.createElement(xe,{onClick:k,id:"TD-MenuItem-Export-JSON"},"JSON")),q.createElement(Pe,null),q.createElement(xe,{onSelect:Le,onClick:ae,kbd:"#A",id:"TD-MenuItem-Select_All"},q.createElement(ot.FormattedMessage,{id:"select.all"})),q.createElement(xe,{onSelect:Le,disabled:!We,onClick:Re,id:"TD-MenuItem-Select_None"},q.createElement(ot.FormattedMessage,{id:"select.none"})),q.createElement(Pe,null),q.createElement(xe,{onSelect:f,disabled:!We,kbd:"\u232B",id:"TD-MenuItem-Delete"},q.createElement(ot.FormattedMessage,{id:"delete"}))),q.createElement(bn,{label:n.formatMessage({id:"menu.view"}),id:"TD-MenuItem-Edit"},q.createElement(xe,{onSelect:Le,onClick:t.zoomIn,kbd:"#+",id:"TD-MenuItem-View-ZoomIn"},q.createElement(ot.FormattedMessage,{id:"zoom.in"})),q.createElement(xe,{onSelect:Le,onClick:t.zoomOut,kbd:"#-",id:"TD-MenuItem-View-ZoomOut"},q.createElement(ot.FormattedMessage,{id:"zoom.out"})),q.createElement(xe,{onSelect:Le,onClick:De,kbd:"\u21E7+0",id:"TD-MenuItem-View-ZoomTo100"},q.createElement(ot.FormattedMessage,{id:"zoom.to"})," 100%"),q.createElement(xe,{onSelect:Le,onClick:t.zoomToFit,kbd:"\u21E7+1",id:"TD-MenuItem-View-ZoomToFit"},q.createElement(ot.FormattedMessage,{id:"zoom.to.fit"})),q.createElement(xe,{onSelect:Le,onClick:t.zoomToSelection,kbd:"\u21E7+2",id:"TD-MenuItem-View-ZoomToSelection"},q.createElement(ot.FormattedMessage,{id:"zoom.to.selection"}))),q.createElement(Pe,null),q.createElement(Id,null))),q.createElement($l,{isOpen:o,onClose:()=>r(!1)}))});var Ac=z(require("@radix-ui/react-dropdown-menu")),Jo=require("@radix-ui/react-icons"),$r=require("@tldraw/core"),Be=z(require("react")),Ds=require("react-intl");var Hi=z(require("react"));function Ed(){return Hi.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"},Hi.createElement("path",{d:"M1.36482 4.71089C1.36482 3.21371 2.57853 2 4.07572 2C5.5729 2 6.78661 3.21371 6.78661 4.71089C6.78661 5.76842 6.18106 6.68452 5.29779 7.13136C5.80465 7.24611 6.26407 7.44186 6.66028 7.73182C7.18674 8.11711 7.57215 8.64722 7.81073 9.30983C7.81452 9.30606 7.81832 9.3023 7.82212 9.29855C8.30448 8.82317 8.91325 8.52463 9.60905 8.37275C8.68812 7.922 8.05394 6.97569 8.05394 5.88126C8.05394 4.35017 9.29513 3.10898 10.8262 3.10898C12.3573 3.10898 13.5985 4.35017 13.5985 5.88126C13.5985 6.97561 12.9644 7.92186 12.0436 8.37265C12.7396 8.52449 13.3486 8.82306 13.831 9.29854C14.5795 10.0361 14.9481 11.1249 14.9481 12.5176C14.9481 12.7799 14.7354 12.9926 14.473 12.9926C14.2107 12.9926 13.9981 12.7799 13.9981 12.5175C13.9981 11.2848 13.6738 10.4774 13.1642 9.97518C12.6532 9.4716 11.8802 9.20024 10.8266 9.20024C9.77294 9.20024 8.99993 9.4716 8.48896 9.97518C7.97939 10.4774 7.65513 11.2848 7.65513 12.5176C7.65513 12.7799 7.44247 12.9926 7.18013 12.9926C6.9178 12.9926 6.70513 12.7799 6.70513 12.5176C6.70513 11.6734 6.84053 10.941 7.11384 10.3307C7.0922 10.2895 7.0763 10.2444 7.06737 10.1962C6.91739 9.38749 6.57392 8.84586 6.09923 8.49845C5.61626 8.14499 4.94481 7.95427 4.07574 7.95427C3.05232 7.95427 2.30368 8.21784 1.80952 8.70485C1.31675 9.19047 1.00176 9.97257 1.00176 11.1702C1.00176 11.4326 0.789093 11.6452 0.526758 11.6452C0.264423 11.6452 0.0517578 11.4326 0.0517578 11.1702C0.0517578 9.81263 0.411052 8.74925 1.14268 8.02821C1.60624 7.57137 2.18892 7.28191 2.85378 7.13142C1.97043 6.68461 1.36482 5.76848 1.36482 4.71089ZM4.07572 2.95C3.1032 2.95 2.31482 3.73838 2.31482 4.71089C2.31482 5.68341 3.1032 6.47178 4.07572 6.47178C5.04823 6.47178 5.83661 5.68341 5.83661 4.71089C5.83661 3.73838 5.04823 2.95 4.07572 2.95ZM10.8262 4.05898C9.8198 4.05898 9.00394 4.87484 9.00394 5.88126C9.00394 6.88768 9.8198 7.70355 10.8262 7.70355C11.8326 7.70355 12.6485 6.88768 12.6485 5.88126C12.6485 4.87484 11.8326 4.05898 10.8262 4.05898Z"}))}var Lt=require("@tldraw/core"),io=require("@tldraw/intersect"),ge=require("@tldraw/vec");var Ut="-0.03em";var Go=[.5,.5],ele=Math.PI*2,Sr=".tldr",go={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>s*(2-s),easeInOutQuad:s=>s<.5?2*s*s:-1+(4-2*s)*s,easeInCubic:s=>s*s*s,easeOutCubic:s=>--s*s*s+1,easeInOutCubic:s=>s<.5?4*s*s*s:(s-1)*(2*s-2)*(2*s-2)+1,easeInQuart:s=>s*s*s*s,easeOutQuart:s=>1- --s*s*s*s,easeInOutQuart:s=>s<.5?8*s*s*s*s:1-8*--s*s*s*s,easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>1+--s*s*s*s*s,easeInOutQuint:s=>s<.5?16*s*s*s*s*s:1+16*--s*s*s*s*s,easeInSine:s=>1-Math.cos(s*Math.PI/2),easeOutSine:s=>Math.sin(s*Math.PI/2),easeInOutSine:s=>-(Math.cos(Math.PI*s)-1)/2,easeInExpo:s=>s<=0?0:Math.pow(2,10*s-10),easeOutExpo:s=>s>=1?1:1-Math.pow(2,-10*s),easeInOutExpo:s=>s<=0?0:s>=1?1:s<.5?Math.pow(2,20*s-10)/2:(2-Math.pow(2,-20*s+10))/2};var zi=["#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467","#FF802B"],bee=typeof Window=="undefined"?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Bd=typeof Window=="undefined"?!1:/linux/i.test(navigator.userAgent),br=[".png",".svg",".jpg",".jpeg",".gif"],Tr=bee?[]:[".mp4",".webm"];function yt(s){if(s===null)return s;if(s instanceof Date)return new Date(s.getTime());if(typeof s=="object")if(typeof s[Symbol.iterator]=="function"){let e=[];if(s.length>0)for(let t of s)e.push(yt(t));return e}else{let e=Object.keys(s),t={};if(e.length>0)for(let n of e)t[n]=yt(s[n]);return t}return s}var At=require("@tldraw/core"),Yo=require("@tldraw/intersect"),me=require("@tldraw/vec"),Ze=z(require("react"));var Yt=require("@tldraw/core"),Uo=require("@tldraw/intersect"),wn=require("@tldraw/vec"),Nd=z(require("react"));var Oi=require("@tldraw/core");function _t(s,e){let t=Oi.Utils.getFromCache(e,s,()=>{let[n,o]=s.size;return{minX:0,maxX:n,minY:0,maxY:o,width:n,height:o}});return Oi.Utils.translateBounds(t,s.point)}var Tee={["start"]:"left",["middle"]:"center",["end"]:"right",["justify"]:"justify"};function Rd(s="start"){return Tee[s]}var Xn;function yee(){var e;(e=document.getElementById("__textLabelMeasure"))==null||e.remove();let s=document.createElement("pre");return s.id="__textLabelMeasure",Object.assign(s.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:Ut,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),s.tabIndex=-1,document.body.appendChild(s),s}typeof window!="undefined"&&(Xn=yee());var ji="",Ad="",Fi=[0,0];function Ld(){ji=""}function qn(s,e){if(!s)return[16,32];if(!Xn)return[10,10];if(Xn.parent||document.body.appendChild(Xn),s===ji&&e===Ad)return Fi;ji=s,Ad=e,Xn.textContent=s,Xn.style.font=e;let t=Xn.offsetWidth||1,n=Xn.offsetHeight||1;return Fi=[t,n],Fi}var wee=new RegExp(`${[32,160,4961,65792,65793,4153,4241].map(s=>String.fromCodePoint(s)).join("|")}`);function Jn(s,e,t,n,o,r=!1){let a="normal",i=Ut,c=xee({text:s,wrap:r,width:o,fontSize:e,fontWeight:a,fontFamily:t,fontStyle:"normal",textAlign:"left",letterSpacing:Ut,lineHeight:1}),u=document.createElementNS("http://www.w3.org/2000/svg","text");u.setAttribute("font-size",e+"px"),u.setAttribute("font-family",t),u.setAttribute("font-weight",a),u.setAttribute("line-height",1*e+"px"),u.setAttribute("letter-spacing",i),u.setAttribute("text-align",n!=null?n:"left"),u.setAttribute("dominant-baseline","mathematical"),u.setAttribute("alignment-baseline","mathematical");let p=c.map((m,h)=>{let g=document.createElementNS("http://www.w3.org/2000/svg","tspan");return g.textContent=m+`
`,g.setAttribute("y",1*e*(h+.5)+"px"),u.appendChild(g),g});switch(n){case"middle":{u.setAttribute("text-align","center"),u.setAttribute("text-anchor","middle"),p.forEach(m=>m.setAttribute("x",o/2+""));break}case"end":{u.setAttribute("text-align","right"),u.setAttribute("text-anchor","end"),p.forEach(m=>m.setAttribute("x",-4+o+""));break}default:u.setAttribute("text-align","left"),u.setAttribute("text-anchor","start"),p.forEach(m=>m.setAttribute("x",4+""))}return u}function xee(s){let e=document.createElement("div");e.style.setProperty("position","absolute"),e.style.setProperty("top","-9999px"),e.style.setProperty("left","-9999px"),e.style.setProperty("width",s.width+"px"),e.style.setProperty("height","min-content"),e.style.setProperty("font-size",s.fontSize+"px"),e.style.setProperty("font-family",s.fontFamily),e.style.setProperty("font-weight",s.fontWeight),e.style.setProperty("line-height",s.lineHeight*s.fontSize+"px"),e.style.setProperty("letter-spacing",s.letterSpacing),e.style.setProperty("text-align",s.textAlign),document.body.appendChild(e);let t=s.text.split(wee).flatMap(a=>a.replace(`
`,` 
`)).join(" ").split(" ");e.innerText=t[0];let n=e.offsetHeight,o=[t[0]],r=[o];for(let a=1;a<t.length;a++){let d=t[a];e.innerText+=" "+d;let i=e.offsetHeight;i>n&&(n=i,o=[],r.push(o)),o.push(d)}return e.remove(),r.map(a=>a.join(" "))}var ys=z(require("react"));function Hd({id:s,bounds:e,labelSize:t,offset:n,scale:o=1}){return ys.createElement("defs",null,ys.createElement("mask",{id:s+"_clip"},ys.createElement("rect",{x:-100,y:-100,width:e.width+200,height:e.height+200,fill:"white"}),ys.createElement("rect",{x:e.width/2-t[0]/2*o+((n==null?void 0:n[0])||0),y:e.height/2-t[1]/2*o+((n==null?void 0:n[1])||0),width:t[0]*o,height:t[1]*o,rx:4*o,ry:4*o,fill:"black",opacity:Math.max(o,.8)})))}var Od=require("@tldraw/intersect"),$t=z(require("@tldraw/vec")),yr=Math.PI*2,Gt=class{static inwardEdgeNormal(e){let t=$t.default.sub(e[1],e[0]),n=$t.default.len2(t);return[-t[0]/n,t[1]/n]}static outwardEdgeNormal(e){return $t.default.neg(Gt.inwardEdgeNormal(e))}static isReflexVertex(e,t){let n=e.length,o=e[(t+n-1)%n],r=e[t],a=e[(t+1)%n];return Gt.leftSide(o,a,r)<0}static getEdges(e){return e.map((t,n)=>[t,e[(n+1)%e.length]])}static edgesIntersection([e,t],[n,o]){let r=(o[1]-n[1])*(t[0]-e[0])-(o[0]-n[0])*(t[1]-e[1]);if(r==0)return null;let a=((o[0]-n[0])*(e[1]-n[1])-(o[1]-n[1])*(e[0]-n[0]))/r,d=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/r;return a<0||d<0||a>1||d>1?null:[e[0]+a*(t[0]-e[0]),e[1]+a*(t[1]-e[1])]}static appendArc(e,t,n,o,r,a=!1){let d=[...e],i=Math.atan2(o[1]-t[1],o[0]-t[0]),c=Math.atan2(r[1]-t[1],r[0]-t[0]);i<0&&(i+=yr),c<0&&(c+=yr);let u=5,p=i>c?i-c:i+yr-c,m=(a?-p:yr-p)/u;d.push(o);for(let h=1;h<u;++h){let g=i+m*h;d.push([t[0]+Math.cos(g)*n,t[1]+Math.sin(g)*n])}return d.push(r),d}static createOffsetEdge(e,t){return e.map(n=>$t.default.add(n,t))}static getOffsetPolygon(e,t=0){let n=Gt.getEdges(e),o=n.map(a=>Gt.createOffsetEdge(a,$t.default.mul(Gt.outwardEdgeNormal(a),t))),r=[];for(let a=0;a<o.length;a++){let d=o[a],i=o[(a+o.length-1)%o.length],c=Gt.edgesIntersection(i,d);c?r.push(c):Gt.appendArc(r,n[a][0],t,i[1],d[0],!1)}return r}static createPaddingPolygon(e,t=0){let n=e.map(r=>Gt.createOffsetEdge(r,Gt.inwardEdgeNormal(r))),o=[];for(let r=0;r<n.length;r++){let a=n[r],d=n[(r+n.length-1)%n.length],i=Gt.edgesIntersection(d,a);i?o.push(i):Gt.appendArc(o,e[r][0],t,d[1],a[0],!0)}return o}},zd=Gt;l(zd,"leftSide",$t.default.isLeft);function Fd(s,e){if(s.length<3)throw Error("Polygon must have at least 3 points");let t=s.length;return s.map((n,o)=>[n,s[(o+1)%t]]).map(([n,o])=>{let r=$t.default.mul($t.default.per($t.default.uni($t.default.sub(o,n))),e);return[$t.default.add(n,r),$t.default.add(o,r)]}).map((n,o,r)=>{let a=(0,Od.intersectLineLine)(n,r[(o+1)%r.length]);if(a===void 0)throw Error("Expected an intersection");return a})}var fo=require("@tldraw/core");var jd="#fafafa",Vi="#343d45",$o={["white"]:"#f0f1f3",["lightGray"]:"#c6cbd1",["gray"]:"#788492",["black"]:"#1d1d1d",["green"]:"#36b24d",["cyan"]:"#0e98ad",["blue"]:"#1c7ed6",["indigo"]:"#4263eb",["violet"]:"#7746f1",["red"]:"#ff2133",["orange"]:"#ff9433",["yellow"]:"#ffc936"},vee={light:x(S({},Object.fromEntries(Object.entries($o).map(([s,e])=>[s,fo.Utils.lerpColor(e,jd,.45)]))),{["white"]:"#ffffff",["black"]:"#3d3d3d"}),dark:x(S({},Object.fromEntries(Object.entries($o).map(([s,e])=>[s,fo.Utils.lerpColor(fo.Utils.lerpColor(e,"#999999",.3),Vi,.4)]))),{["white"]:"#1d1d1d",["black"]:"#bbbbbb"})},No={light:x(S({},$o),{["white"]:"#1d1d1d"}),dark:x(S({},Object.fromEntries(Object.entries($o).map(([s,e])=>[s,fo.Utils.lerpColor(e,Vi,.1)]))),{["white"]:"#cecece",["black"]:"#cecece"})},wr={light:x(S({},Object.fromEntries(Object.entries($o).map(([s,e])=>[s,fo.Utils.lerpColor(e,jd,.82)]))),{["white"]:"#fefefe"}),dark:x(S({},Object.fromEntries(Object.entries($o).map(([s,e])=>[s,fo.Utils.lerpColor(e,Vi,.82)]))),{["white"]:"rgb(30,33,37)",["black"]:"#1e1e1f"})},kee={["small"]:2,["medium"]:3.5,["large"]:5},Iee={["small"]:28,["medium"]:48,["large"]:96,auto:"auto"},Cee={["script"]:'"Caveat Brush"',["sans"]:'"Source Sans Pro"',["serif"]:'"Crimson Pro"',["mono"]:'"Source Code Pro"'},Dee={["script"]:1,["sans"]:1,["serif"]:1,["mono"]:1},Pee={["small"]:24,["medium"]:36,["large"]:48,auto:"auto"};function Mee(s){return kee[s]}function So(s,e="script"){return Iee[s]*Dee[e]}function yn(s="script"){return Cee[s]}function Gi(s){return Pee[s]}function Dt(s){let e=So(s.size,s.font),t=yn(s.font),{scale:n=1}=s;return`${e*n}px/1 ${t}`}function Vd(s){let e=Gi(s.size),t=yn(s.font),{scale:n=1}=s;return`${e*n}px/1 ${t}`}function $i(s,e=!1){let{color:t}=s,n=e?"dark":"light",o=t==="white"||t==="black"?"yellow":t;return{fill:vee[n][o],stroke:No[n][o],color:e?"#1d1d1d":"#0d0d0d"}}function Se(s,e){let{color:t,size:n,isFilled:o}=s,r=Mee(n),a=e?"dark":"light";return{stroke:No[a][t],fill:o?wr[a][t]:"none",strokeWidth:r}}var ht={color:"black",size:"small",isFilled:!1,dash:"draw",scale:1},Wo=x(S({},ht),{font:"script",textAlign:"middle"});var Gd="  ",lt=class{static insertTextFirefox(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}static insert(e,t){let n=e.ownerDocument,o=n.activeElement;o!==e&&e.focus(),n.execCommand("insertText",!1,t)||lt.insertTextFirefox(e,t),o===n.body?e.blur():o instanceof HTMLElement&&o!==e&&o.focus()}static set(e,t){e.select(),lt.insert(e,t)}static getSelection(e){let{selectionStart:t,selectionEnd:n}=e;return e.value.slice(t||void 0,n||void 0)}static wrapSelection(e,t,n){let{selectionStart:o,selectionEnd:r}=e,a=lt.getSelection(e);lt.insert(e,t+a+(n!=null?n:t)),e.selectionStart=(o||0)+t.length,e.selectionEnd=(r||0)+t.length}static replace(e,t,n){let o=0;e.value.replace(t,(...r)=>{let a=o+r[r.length-2],d=r[0].length;e.selectionStart=a,e.selectionEnd=a+d;let i=typeof n=="string"?n:n(...r);return lt.insert(e,i),e.selectionStart=a,o+=i.length-d,i})}static findLineEnd(e,t){let n=e.lastIndexOf(`
`,t-1)+1;return e.charAt(n)!=="	"?t:n+1}static indent(e){var d;let{selectionStart:t,selectionEnd:n,value:o}=e,r=o.slice(t,n),a=(d=/\n/g.exec(r))==null?void 0:d.length;if(a&&a>0){let i=o.lastIndexOf(`
`,t-1)+1,c=e.value.slice(i,n-1),u=c.replace(/^|\n/g,`$&${Gd}`),p=u.length-c.length;e.setSelectionRange(i,n-1),lt.insert(e,u),e.setSelectionRange(t+1,n+p)}else lt.insert(e,Gd)}static unindent(e){let{selectionStart:t,selectionEnd:n,value:o}=e,r=o.lastIndexOf(`
`,t-1)+1,a=lt.findLineEnd(o,n),d=e.value.slice(r,a),i=d.replace(/(^|\n)(\t| {1,2})/g,"$1"),c=d.length-i.length;e.setSelectionRange(r,a),lt.insert(e,i);let u=/\t| {1,2}/.exec(o.slice(r,t)),p=u?u[0].length:0,m=t-p;e.setSelectionRange(t-p,Math.max(m,n-c))}};var st=z(require("react"));var Qn=st.memo(function({font:e,text:t,color:n,offsetX:o=0,offsetY:r=0,scale:a=1,isEditing:d=!1,onBlur:i,onChange:c}){let u=st.useRef(null),p=st.useRef(!1),m=st.useCallback(y=>{c(v.normalizeText(y.currentTarget.value))},[c]),h=st.useCallback(y=>{if(y.key==="Escape"){y.preventDefault(),y.stopPropagation(),i==null||i();return}if(y.key==="Tab"&&t.length===0){y.preventDefault();return}if(!(y.key==="Meta"||y.metaKey))y.stopPropagation();else if(y.key==="z"&&y.metaKey){y.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),y.stopPropagation(),y.preventDefault();return}(y.metaKey||y.ctrlKey)&&y.key==="="&&y.preventDefault(),y.key==="Tab"&&(y.preventDefault(),y.shiftKey?lt.unindent(y.currentTarget):lt.indent(y.currentTarget),c==null||c(v.normalizeText(y.currentTarget.value)))},[c]),g=st.useCallback(y=>{y.currentTarget.setSelectionRange(0,0),i==null||i()},[i]),f=st.useCallback(y=>{!d||!p.current||document.activeElement===y.currentTarget&&y.currentTarget.select()},[d]),T=st.useCallback(y=>{d&&y.stopPropagation()},[d]),w=st.useRef(d);st.useEffect(()=>{d?(w.current=!0,requestAnimationFrame(()=>{p.current=!0;let y=u.current;y&&(y.focus(),y.select())})):w.current&&(i==null||i(),w.current=!1)},[d,i]);let b=st.useRef(null);return st.useLayoutEffect(()=>{let y=b.current;if(!y)return;let P=qn(t,e);y.style.transform=`scale(${a}, ${a}) translate(${o}px, ${r}px)`,y.style.width=P[0]+1+"px",y.style.height=P[1]+1+"px"},[t,e,r,o,a]),st.createElement(Eee,null,st.createElement(Bee,{ref:b,hasText:!!t,isEditing:d,style:{font:e,color:n}},d?st.createElement(Ree,{ref:u,style:{font:e,color:n},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:t,color:n,onFocus:f,onChange:m,onKeyDown:h,onBlur:g,onPointerDown:T,onContextMenu:Tt,onCopy:Tt,onPaste:Tt,onCut:Tt}):t,"\u200B"))}),Eee=E("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}}}}),$d={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:Ut},Bee=E("div",S({position:"absolute",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,outline:0,fontWeight:"500",textAlign:"center",backfaceVisibility:"hidden",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",variants:{hasText:{false:{pointerEvents:"none"},true:{pointerEvents:"all"}},isEditing:{false:{userSelect:"none"},true:{background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}}},$d)),Ree=E("textarea",x(S({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text",fontSmooth:"always",WebkitFontSmoothing:"subpixel-antialiased",MozOsxFontSmoothing:"auto"},$d),{"&:focus":{outline:"none",border:"none"}}));var Ko=z(require("@tldraw/vec"));function eo(s,e,{initialShape:t,transformOrigin:n,scaleX:o,scaleY:r}){if(s.rotation||t.isAspectRatioLocked){let a=Ko.default.toFixed(Ko.default.mul(t.size,Math.min(Math.abs(o),Math.abs(r)))),d=Ko.default.toFixed([e.minX+(e.width-s.size[0])*(o<0?1-n[0]:n[0]),e.minY+(e.height-s.size[1])*(r<0?1-n[1]:n[1])]),i=o<0&&r>=0||r<0&&o>=0?t.rotation?-t.rotation:0:t.rotation;return{size:a,point:d,rotation:i}}else return{point:Ko.default.toFixed([e.minX,e.minY]),size:Ko.default.toFixed([e.width,e.height])}}var Ni=z(require("@tldraw/vec"));function to(s,e){return{size:Ni.default.toFixed([e.width,e.height]),point:Ni.default.toFixed([e.minX,e.minY])}}var ye=class extends Yt.TLShapeUtil{constructor(){super(...arguments);l(this,"canBind",!1);l(this,"canEdit",!1);l(this,"canClone",!1);l(this,"isAspectRatioLocked",!1);l(this,"hideResizeHandles",!1);l(this,"bindingDistance",16);l(this,"hitTestPoint",(e,t)=>Yt.Utils.pointInBounds(t,this.getRotatedBounds(e)));l(this,"hitTestLineSegment",(e,t,n)=>{let o=Yt.Utils.getBoundsFromPoints([t,n]),r=this.getBounds(e);return Yt.Utils.boundsContain(r,o)||e.rotation?(0,Uo.intersectLineSegmentPolyline)(t,n,Yt.Utils.getRotatedCorners(this.getBounds(e))).didIntersect:(0,Uo.intersectLineSegmentBounds)(t,n,this.getBounds(e)).length>0});l(this,"create",e=>(this.refMap.set(e.id,Nd.createRef()),this.getShape(e)));l(this,"getCenter",e=>Yt.Utils.getBoundsCenter(this.getBounds(e)));l(this,"getExpandedBounds",e=>Yt.Utils.expandBounds(this.getBounds(e),this.bindingDistance));l(this,"getBindingPoint",(e,t,n,o,r,a)=>{let d=this.getBounds(e),i=this.getExpandedBounds(e);if(!Yt.Utils.pointInBounds(n,i))return;let c=(0,Uo.intersectRayBounds)(o,r,i).filter(T=>T.didIntersect).map(T=>T.points[0]);if(!c.length)return;let u=this.getCenter(e),p=c.sort((T,w)=>wn.Vec.dist(w,o)-wn.Vec.dist(T,o))[0],m=wn.Vec.med(n,p),h,g;a?(h=wn.Vec.dist(n,u)<16/2?u:n,g=0):(wn.Vec.distanceToLineSegment(n,m,u)<16/2?h=u:h=m,Yt.Utils.pointInBounds(n,d)?g=this.bindingDistance:g=Math.max(this.bindingDistance,Yt.Utils.getBoundsSides(d).map(T=>wn.Vec.distanceToLineSegment(T[1][0],T[1][1],n)).sort((T,w)=>T-w)[0]));let f=wn.Vec.divV(wn.Vec.sub(h,[i.minX,i.minY]),[i.width,i.height]);return{point:wn.Vec.clampV(f,0,1),distance:g}});l(this,"mutate",(e,t)=>t);l(this,"transform",(e,t,n)=>x(S({},e),{point:[t.minX,t.minY]}));l(this,"transformSingle",(e,t,n)=>this.transform(e,t,n));l(this,"updateChildren");l(this,"onChildrenChange");l(this,"onHandleChange");l(this,"onRightPointHandle");l(this,"onDoubleClickHandle");l(this,"onDoubleClickBoundsHandle");l(this,"onSessionComplete");l(this,"getSvgElement",(e,t)=>{var r,a,d,i,c;let n=(r=document.getElementById(e.id+"_svg"))==null?void 0:r.cloneNode(!0);if(!n)return;if((i=(d=(a=e.label)==null?void 0:a.trim())==null?void 0:d.length)!=null?i:0>0){let u=e,p=document.createElementNS("http://www.w3.org/2000/svg","g"),m=Dt(e.style),h=qn(e.label,m),g=So(e.style.size,e.style.font)*((c=e.style.scale)!=null?c:1),f=yn(e.style.font).slice(1,-1),T=Jn(u.label,g,f,"middle",h[0],!1),w=this.getBounds(e);return T.setAttribute("transform",`translate(${w.width/2-h[0]/2}, ${w.height/2-h[1]/2})`),T.setAttribute("fill",Se(e.style,t).stroke),T.setAttribute("transform-origin","center center"),p.setAttribute("text-align","center"),p.setAttribute("text-anchor","middle"),p.appendChild(n),p.appendChild(T),p}return n})}};var zn=require("@tldraw/core"),xr=require("@tldraw/intersect"),Ee=z(require("@tldraw/vec")),Wi=z(require("perfect-freehand"));function Ud(s,e,t,n){return["M",s[0],s[1],"A",t[2],t[2],0,0,n<0?0:1,e[0],e[1]].join(" ")}function ws(s,e){let{start:t,end:n}=s,o=Ee.default.dist(t.point,n.point),r=Ee.default.med(t.point,n.point),a=o/2*e,d=Ee.default.uni(Ee.default.vec(t.point,n.point));return Ee.default.toFixed(Math.abs(a)<10?r:Ee.default.add(r,Ee.default.mul(Ee.default.per(d),a)))}function _d(s,e,t,n,o,r){let a=zn.Utils.rng(s),d=Se(e).strokeWidth,i=o?Ee.default.nudge(t,n,d):t,c=r?Ee.default.nudge(n,t,d):n,u=(0,Wi.default)([i,c],{size:d,thinning:.618+a()*.2,easing:go.easeOutQuad,simulatePressure:!0,streamline:0,last:!0});return zn.Utils.getSvgPathFromStroke(u)}function Yd(s,e,t,n,o,r,a,d,i,c){let u=zn.Utils.rng(s),p=Se(e).strokeWidth,m=o?Ee.default.rotWith(t,a,p/i):t,h=r?Ee.default.rotWith(n,a,-(p/i)):n,g=Ee.default.angle(a,m),f=Ee.default.angle(a,h),T=[],w=8+Math.floor(Math.abs(i)/20*1+u()/2);for(let y=0;y<w;y++){let P=c(y/w),G=zn.Utils.lerpAngles(g,f,P);T.push(Ee.default.toFixed(Ee.default.nudgeAtAngle(a,G,d)))}let b=(0,Wi.default)([m,...T,h],{size:1+p,thinning:.618+u()*.2,easing:go.easeOutQuad,simulatePressure:!1,streamline:0,last:!0});return zn.Utils.getSvgPathFromStroke(b)}function On(s,e,t){return zn.Utils.circleFromThreePoints(s,t,e)}function vr(s,e,t,n,o){let r=(0,xr.intersectCircleCircle)(s,e*.618,t,n).points;if(!r)return v.warn("Could not find an intersection for the arrow head."),{left:s,right:s};let a=o?r[0]:r[1],d=a?Ee.default.nudge(Ee.default.rotWith(a,s,Math.PI/6),s,e*-.382):s,i=a?Ee.default.nudge(Ee.default.rotWith(a,s,-Math.PI/6),s,e*-.382):s;return{left:d,right:i}}function kr(s,e,t){let n=(0,xr.intersectCircleLineSegment)(s,t,s,e).points;if(!n)return v.warn("Could not find an intersection for the arrow head."),{left:s,right:s};let o=n[0],r=o?Ee.default.rotWith(o,s,Math.PI/6):s,a=o?Ee.default.rotWith(o,s,-Math.PI/6):s;return{left:r,right:a}}function Wd(s,e,t,n,o){let{left:r,right:a}=vr(s,e,t,n,o);return`M ${r} L ${s} ${a}`}function Kd(s,e,t){let{left:n,right:o}=kr(s,e,t);return`M ${n} L ${s} ${o}`}function Zd(s,e,t,n,o,r){let{strokeWidth:a}=Se(s,!1),d=Ee.default.dist(e,n),i=Math.min(d/3,a*8),c=[];if(Ee.default.dist(t,Ee.default.toFixed(Ee.default.med(e,n)))<1)c.push(`M ${e} L ${n}`),o&&c.push(Kd(e,n,i)),r&&c.push(Kd(n,e,i));else{let p=On(e,t,n),m=[p[0],p[1]],h=p[2],g=bo(m,h,e,n);c.push(`M ${e} A ${h} ${h} 0 0 ${g>0?"1":"0"} ${n}`),o&&c.push(Wd(e,i,m,h,g<0)),r&&c.push(Wd(n,i,m,h,g>=0))}return c.join(" ")}function xs(s,e,t){if(Ee.default.dist2(e,Ee.default.med(s,t))<=4)return[s,t];let n=[],o=On(s,e,t),r=[o[0],o[1]],a=o[2],d=Ee.default.angle(r,s),i=Ee.default.angle(r,t);for(let c=0;c<20;c++){let u=c/19,p=zn.Utils.lerpAngles(d,i,u);n.push(Ee.default.nudgeAtAngle(r,p,a))}return n}function Xd(s,e,t){if(t===s||t===e)return!0;let n=Math.PI*2,o=(e-s+n)%n,r=(t-s+n)%n;return o<=Math.PI!=r>o}function bo(s,e,t,n){let o=zn.Utils.getSweep(s,t,n);return e*(2*Math.PI)*(o/(2*Math.PI))}var Ki=require("@tldraw/core"),qd=z(require("@tldraw/vec")),xn=z(require("react"));var Ir=z(require("react"));function _o({left:s,middle:e,right:t,stroke:n,strokeWidth:o}){return Ir.createElement("g",null,Ir.createElement("path",{className:"tl-stroke-hitarea",d:`M ${s} L ${e} ${t}`}),Ir.createElement("path",{d:`M ${s} L ${e} ${t}`,fill:"none",stroke:n,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}))}var Jd=xn.memo(function({id:e,style:t,start:n,bend:o,end:r,arrowBend:a,decorationStart:d,decorationEnd:i,isDraw:c,isDarkMode:u}){let p=qd.default.dist(n,r);if(p<2)return null;let m=Se(t,u),{strokeWidth:h}=m,g=1+h*1.618,f=On(n,o,r),T=[f[0],f[1]],w=f[2],b=bo(T,w,n,r),y=Ki.Utils.rng(e),P=go[y()>0?"easeInOutSine":"easeInOutCubic"],G=c?Yd(e,t,n,r,d,i,T,w,b,P):Ud(n,r,f,a),{strokeDasharray:M,strokeDashoffset:k}=Ki.Utils.getPerfectDashProps(Math.abs(b),g,t.dash,2,!1),I=Math.min(p/3,h*8),Y=d?vr(n,I,T,w,b<0):null,le=i?vr(r,I,T,w,b>=0):null;return xn.createElement(xn.Fragment,null,xn.createElement("path",{className:"tl-stroke-hitarea",d:G}),xn.createElement("path",{d:G,fill:c?m.stroke:"none",stroke:m.stroke,strokeWidth:c?0:g,strokeDasharray:M,strokeDashoffset:k,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}),Y&&xn.createElement(_o,{left:Y.left,middle:n,right:Y.right,stroke:m.stroke,strokeWidth:g}),le&&xn.createElement(_o,{left:le.left,middle:r,right:le.right,stroke:m.stroke,strokeWidth:g}))});var Qd=require("@tldraw/core"),Cr=z(require("@tldraw/vec")),vn=z(require("react"));var ec=vn.memo(function({id:e,style:t,start:n,end:o,decorationStart:r,decorationEnd:a,isDraw:d,isDarkMode:i}){let c=Cr.default.dist(n,o);if(c<2)return null;let u=Se(t,i),{strokeWidth:p}=u,m=1+p*1.618,h=d?_d(e,t,n,o,r,a):"M"+Cr.default.toFixed(n)+"L"+Cr.default.toFixed(o),{strokeDasharray:g,strokeDashoffset:f}=Qd.Utils.getPerfectDashProps(c,p*1.618,t.dash,2,!1),T=Math.min(c/3,p*8),w=r?kr(n,o,T):null,b=a?kr(o,n,T):null;return vn.createElement(vn.Fragment,null,vn.createElement("path",{className:"tl-stroke-hitarea",d:h}),vn.createElement("path",{d:h,fill:u.stroke,stroke:u.stroke,strokeWidth:d?m/2:m,strokeDasharray:g,strokeDashoffset:f,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),w&&vn.createElement(_o,{left:w.left,middle:n,right:w.right,stroke:u.stroke,strokeWidth:m}),b&&vn.createElement(_o,{left:b.left,middle:o,right:b.right,stroke:u.stroke,strokeWidth:m}))});var Ui=class extends ye{constructor(){super(...arguments);l(this,"type","arrow");l(this,"hideBounds",!0);l(this,"canEdit",!0);l(this,"pathCache",new WeakMap);l(this,"getShape",e=>{var t,n,o,r;return S({id:"id",type:"arrow",name:"Arrow",parentId:"page",childIndex:1,point:[0,0],rotation:0,bend:0,handles:{start:S({id:"start",index:0,point:[0,0],canBind:!0},(t=e.handles)==null?void 0:t.start),end:S({id:"end",index:1,point:[1,1],canBind:!0},(n=e.handles)==null?void 0:n.end),bend:S({id:"bend",index:2,point:[.5,.5]},(o=e.handles)==null?void 0:o.bend)},decorations:(r=e.decorations)!=null?r:{end:"arrow"},style:S(x(S({},ht),{isFilled:!1}),e.style),label:"",labelPoint:[.5,.5]},e)});l(this,"Component",ye.Component(({shape:e,isEditing:t,isGhost:n,meta:o,events:r,onShapeChange:a,onShapeBlur:d},i)=>{var ae,Re;let{id:c,label:u="",handles:{start:p,bend:m,end:h},decorations:g={},style:f}=e,T=(Re=(ae=u==null?void 0:u.trim())==null?void 0:ae.length)!=null?Re:0>0,w=me.Vec.dist(m.point,me.Vec.toFixed(me.Vec.med(p.point,h.point)))<1,b=Dt(f),y=Se(f,o.isDarkMode),P=T||t?qn(u,b):[0,0],G=this.getBounds(e),M=Ze.useMemo(()=>{let{start:Ce,bend:De,end:Ne}=e.handles;if(w)return me.Vec.dist(Ce.point,Ne.point);let We=On(Ce.point,De.point,Ne.point),Wt=We.slice(0,2),hn=We[2],as=bo(Wt,hn,Ce.point,Ne.point);return Math.abs(as)},[e.handles]),k=Math.max(.5,Math.min(1,Math.max(M/(P[1]+128),M/(P[0]+128)))),I=Ze.useMemo(()=>{let Ce=this.getBounds(e);return me.Vec.sub(e.handles.bend.point,me.Vec.toFixed([Ce.width/2,Ce.height/2]))},[e,k]),Y=Ze.useCallback(Ce=>{a==null||a({id:c,label:Ce})},[a]),le=w?ec:Jd;return Ze.createElement(Aee,S({ref:i},r),Ze.createElement(Qn,{font:b,text:u,color:y.stroke,offsetX:I[0],offsetY:I[1],scale:k,isEditing:t,onChange:Y,onBlur:d}),Ze.createElement(At.SVGContainer,{id:e.id+"_svg"},Ze.createElement("defs",null,Ze.createElement("mask",{id:e.id+"_clip"},Ze.createElement("rect",{x:-100,y:-100,width:G.width+200,height:G.height+200,fill:"white"}),Ze.createElement("rect",{x:G.width/2-P[0]/2*k+I[0],y:G.height/2-P[1]/2*k+I[1],width:P[0]*k,height:P[1]*k,rx:4*k,ry:4*k,fill:"black",opacity:1}))),Ze.createElement("g",{pointerEvents:"none",opacity:n?.3:1,mask:T||t?`url(#${e.id}_clip)`:""},Ze.createElement(le,{id:c,style:f,start:p.point,end:h.point,bend:m.point,arrowBend:e.bend,decorationStart:g==null?void 0:g.start,decorationEnd:g==null?void 0:g.end,isDraw:f.dash==="draw",isDarkMode:o.isDarkMode}))))}));l(this,"Indicator",ye.Indicator(({shape:e,bounds:t})=>{var T,w;let{style:n,decorations:o,label:r,handles:{start:a,bend:d,end:i}}=e,c=(w=(T=r==null?void 0:r.trim())==null?void 0:T.length)!=null?w:0>0,u=Dt(n),p=c?qn(r,u):[0,0],m=me.Vec.dist(d.point,me.Vec.toFixed(me.Vec.med(a.point,i.point)))<1,h=Ze.useMemo(()=>{let{start:b,bend:y,end:P}=e.handles;if(m)return me.Vec.dist(b.point,P.point);let G=On(b.point,y.point,P.point),M=G.slice(0,2),k=G[2],I=bo(M,k,b.point,P.point);return Math.abs(I)},[e.handles]),g=Math.max(.5,Math.min(1,Math.max(h/(p[1]+128),h/(p[0]+128)))),f=Ze.useMemo(()=>{let b=this.getBounds(e);return me.Vec.sub(e.handles.bend.point,[b.width/2,b.height/2])},[e,g]);return Ze.createElement(Ze.Fragment,null,c&&Ze.createElement(Hd,{id:e.id,scale:g,offset:f,bounds:t,labelSize:p}),Ze.createElement("path",{d:Zd(n,a.point,d.point,i.point,o==null?void 0:o.start,o==null?void 0:o.end),mask:c?`url(#${e.id}_clip)`:""}),c&&Ze.createElement("rect",{x:t.width/2-p[0]/2*g+f[0],y:t.height/2-p[1]/2*g+f[1],width:p[0]*g,height:p[1]*g,rx:4*g,ry:4*g,fill:"transparent"}))}));l(this,"getBounds",e=>{let t=At.Utils.getFromCache(this.boundsCache,e,()=>{let{handles:{start:n,bend:o,end:r}}=e;return At.Utils.getBoundsFromPoints(xs(n.point,o.point,r.point))});return At.Utils.translateBounds(t,e.point)});l(this,"getRotatedBounds",e=>{let{handles:{start:t,bend:n,end:o}}=e,r=xs(t.point,n.point,o.point),{minX:a,minY:d,maxX:i,maxY:c}=At.Utils.getBoundsFromPoints(r);return e.rotation!==0&&(r=r.map(u=>me.Vec.rotWith(u,[(a+i)/2,(d+c)/2],e.rotation||0))),At.Utils.translateBounds(At.Utils.getBoundsFromPoints(r),e.point)});l(this,"getCenter",e=>{let{start:t,end:n}=e.handles;return me.Vec.add(e.point,me.Vec.med(t.point,n.point))});l(this,"shouldRender",(e,t)=>t.decorations!==e.decorations||t.handles!==e.handles||t.style!==e.style||t.label!==e.label);l(this,"hitTestPoint",(e,t)=>{let{handles:{start:n,bend:o,end:r}}=e,a=me.Vec.sub(t,e.point),d=xs(n.point,o.point,r.point);for(let i=1;i<d.length;i++)if(me.Vec.distanceToLineSegment(d[i-1],d[i],a)<1)return!0;return!1});l(this,"hitTestLineSegment",(e,t,n)=>{let{handles:{start:o,bend:r,end:a}}=e,d=me.Vec.sub(t,e.point),i=me.Vec.sub(n,e.point),c=xs(o.point,r.point,a.point);for(let u=1;u<c.length;u++)if((0,Yo.intersectLineSegmentLineSegment)(c[u-1],c[u],d,i).didIntersect)return!0;return!1});l(this,"hitTestBounds",(e,t)=>{let{start:n,end:o,bend:r}=e.handles,a=me.Vec.add(e.point,n.point),d=me.Vec.add(e.point,o.point);if(At.Utils.pointInBounds(a,t)||At.Utils.pointInBounds(d,t))return!0;if(me.Vec.isEqual(me.Vec.med(n.point,o.point),r.point))return(0,Yo.intersectLineSegmentBounds)(a,d,t).length>0;{let[i,c,u]=On(n.point,r.point,o.point),p=me.Vec.add(e.point,[i,c]);return(0,Yo.intersectArcBounds)(p,u,a,d,t).length>0}});l(this,"transform",(e,t,{initialShape:n,scaleX:o,scaleY:r})=>{let a=this.getBounds(n),d=["start","end"],i=S({},n.handles);d.forEach(p=>{if(p==="bend")return;let[m,h]=i[p].point,g=m/a.width,f=h/a.height;i[p]=x(S({},i[p]),{point:[t.width*(o<0?1-g:g),t.height*(r<0?1-f:f)]})});let c=o>0&&r<0||o<0&&r>0?-n.bend:n.bend,u=ws(i,c);return i.bend.point=u,{point:me.Vec.toFixed([t.minX,t.minY]),handles:i,bend:c}});l(this,"onDoubleClickHandle",(e,t)=>{var n,o;switch(t){case"bend":return{bend:0,handles:x(S({},e.handles),{bend:x(S({},e.handles.bend),{point:ws(e.handles,e.bend)})})};case"start":return{decorations:x(S({},e.decorations),{start:((n=e.decorations)==null?void 0:n.start)?void 0:"arrow"})};case"end":return{decorations:x(S({},e.decorations),{end:((o=e.decorations)==null?void 0:o.end)?void 0:"arrow"})}}return this});l(this,"onHandleChange",(e,t)=>{let n=At.Utils.deepMerge(e.handles,t),o=e.bend;if(n=At.Utils.deepMerge(n,{start:{point:me.Vec.toFixed(n.start.point)},end:{point:me.Vec.toFixed(n.end.point)}}),me.Vec.isEqual(n.start.point,n.end.point))return;if("bend"in t){let{start:c,end:u,bend:p}=n,m=me.Vec.dist(c.point,u.point),h=me.Vec.med(c.point,u.point),g=me.Vec.angle(c.point,u.point),f=me.Vec.uni(me.Vec.vec(c.point,u.point)),T=me.Vec.add(h,me.Vec.mul(me.Vec.per(f),m)),w=me.Vec.sub(h,me.Vec.mul(me.Vec.per(f),m)),b=me.Vec.nearestPointOnLineSegment(T,w,p.point,!0),P=me.Vec.dist(h,b)/(m/2);o=At.Utils.clamp(P,-.99,.99);let G=me.Vec.angle(c.point,b);me.Vec.isEqual(h,ws(n,o))?o=0:Xd(g,g+Math.PI,G)&&(o*=-1)}let r={point:e.point,bend:o,handles:x(S({},n),{bend:x(S({},n.bend),{point:ws(n,o)})})},a=e.point,d=this.getBounds(S({},r)),i=me.Vec.sub([d.minX,d.minY],a);return me.Vec.isEqual(i,[0,0])||(Object.values(r.handles).forEach(c=>{c.point=me.Vec.toFixed(me.Vec.sub(c.point,i))}),r.point=me.Vec.toFixed(me.Vec.add(r.point,i))),r});l(this,"getSvgElement",(e,t)=>{var r,a,d,i,c;let n=(r=document.getElementById(e.id+"_svg"))==null?void 0:r.cloneNode(!0);if(!n)return;if((i=(d=(a=e.label)==null?void 0:a.trim())==null?void 0:d.length)!=null?i:0>0){let u=e,p=document.createElementNS("http://www.w3.org/2000/svg","g"),m=Dt(e.style),h=qn(e.label,m),g=So(e.style.size,e.style.font)*((c=e.style.scale)!=null?c:1),f=yn(e.style.font).slice(1,-1),T=Jn(u.label,g,f,"start",h[0],!1),w,{start:b,bend:y,end:P}=e.handles;if(me.Vec.dist(y.point,me.Vec.toFixed(me.Vec.med(b.point,P.point)))<1)w=me.Vec.dist(b.point,P.point);else{let ae=On(b.point,y.point,P.point),Re=ae.slice(0,2),Ce=ae[2],De=bo(Re,Ce,b.point,P.point);w=Math.abs(De)}let M=Math.max(.5,Math.min(1,Math.max(w/(h[1]+128),w/(h[0]+128)))),k=this.getBounds(e),I=me.Vec.sub(e.handles.bend.point,[k.width/2,k.height/2]),Y=k.width/2-h[0]/2*M+I[0],le=k.height/2-h[1]/2*M+I[1];return T.setAttribute("transform",`translate(${Y}, ${le})`),T.setAttribute("fill",Se(e.style,t).stroke),T.setAttribute("transform-origin","center center"),p.setAttribute("text-align","center"),p.setAttribute("text-anchor","middle"),p.appendChild(n),p.appendChild(T),p}return n})}},Aee=E("div",{width:"100%",height:"100%"});var qe=require("@tldraw/core"),Fn=require("@tldraw/intersect"),kn=require("@tldraw/vec"),mt=z(require("react"));var Dr=require("@tldraw/core"),tc=z(require("@tldraw/vec")),vs=require("perfect-freehand");var Lee={easing:s=>Math.sin(s*Math.PI/2),simulatePressure:!0},Hee={easing:s=>s*s,simulatePressure:!1};function _i(s){let e=Se(s.style);return x(S({size:1+e.strokeWidth*1.5,thinning:.65,streamline:.65,smoothing:.65},s.points[1][2]===.5?Lee:Hee),{last:s.isComplete})}function nc(s){return s.points.length<2?"":Dr.Utils.getSvgPathFromStroke((0,vs.getStrokePoints)(s.points,_i(s)).map(e=>e.point))}function oc(s,e){return(0,vs.getStrokePoints)(s.points,e)}function sc(s){if(s.points.length<2)return"";let e=_i(s),t=oc(s,e);return Dr.Utils.getSvgPathFromStroke((0,vs.getStrokeOutlinePoints)(t,e))}function Yi(s){let{points:e}=s;if(e.length<2)return"M 0 0 L 0 0";let t=_i(s),n=oc(s,t),o=e[e.length-1];return tc.default.isEqual(n[0].point,o)||n.push({point:o}),Dr.Utils.getSvgPathFromStrokePoints(n)}var Zi=class extends ye{constructor(){super(...arguments);l(this,"type","draw");l(this,"pointsBoundsCache",new WeakMap([]));l(this,"shapeBoundsCache",new Map);l(this,"rotatedCache",new WeakMap([]));l(this,"pointCache",{});l(this,"canClone",!0);l(this,"getShape",e=>qe.Utils.deepMerge({id:"id",type:"draw",name:"Draw",parentId:"page",childIndex:1,point:[0,0],rotation:0,style:ht,points:[],isComplete:!1},e));l(this,"Component",ye.Component(({shape:e,meta:t,isSelected:n,isGhost:o,events:r},a)=>{let{points:d,style:i,isComplete:c}=e,u=mt.useMemo(()=>nc(e),[d,i.size]),p=mt.useMemo(()=>i.dash==="draw"?sc(e):Yi(e),[d,i.size,i.dash,c]),m=Se(i,t.isDarkMode),{stroke:h,fill:g,strokeWidth:f}=m,T=this.getBounds(e);if(T.width<=f/2&&T.height<=f/2){let M=1+f;return mt.createElement(qe.SVGContainer,S({ref:a,id:e.id+"_svg"},r),mt.createElement("circle",{r:M,fill:h,stroke:h,pointerEvents:"all",opacity:o?.3:1}))}let b=i.isFilled&&d.length>3&&kn.Vec.dist(d[0],d[d.length-1])<f*2;if(e.style.dash==="draw")return mt.createElement(qe.SVGContainer,S({ref:a,id:e.id+"_svg"},r),mt.createElement("g",{opacity:o?.3:1},mt.createElement("path",{className:b||n?"tl-fill-hitarea":"tl-stroke-hitarea",d:p}),b&&mt.createElement("path",{d:u,stroke:"none",fill:g,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),mt.createElement("path",{d:p,fill:h,stroke:h,strokeWidth:f/2,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})));let y={["draw"]:"none",["solid"]:"none",["dotted"]:`0.1 ${f*4}`,["dashed"]:`${f*4} ${f*4}`}[i.dash],P={["draw"]:"none",["solid"]:"none",["dotted"]:"0",["dashed"]:"0"}[i.dash],G=1+f*1.5;return mt.createElement(qe.SVGContainer,S({ref:a,id:e.id+"_svg"},r),mt.createElement("g",{opacity:o?.3:1},mt.createElement("path",{className:b&&n?"tl-fill-hitarea":"tl-stroke-hitarea",d:p}),mt.createElement("path",{d:p,fill:b?g:"none",stroke:"none",strokeWidth:Math.min(4,f*2),strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),mt.createElement("path",{d:p,fill:"none",stroke:h,strokeWidth:G,strokeDasharray:y,strokeDashoffset:P,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})))}));l(this,"Indicator",ye.Indicator(({shape:e})=>{let{points:t}=e,n=mt.useMemo(()=>Yi(e),[t]),o=this.getBounds(e);return o.width<4&&o.height<4?mt.createElement("circle",{x:o.width/2,y:o.height/2,r:1}):mt.createElement("path",{d:n})}));l(this,"transform",(e,t,{initialShape:n,scaleX:o,scaleY:r})=>{let a=qe.Utils.getFromCache(this.boundsCache,n,()=>qe.Utils.getBoundsFromPoints(n.points)),d=n.points.map(([u,p,m])=>[t.width*(o<0?1-u/a.width:u/a.width),t.height*(r<0?1-p/a.height:p/a.height),m]),i=qe.Utils.getBoundsFromPoints(e.points),c=kn.Vec.sub([t.minX,t.minY],[i.minX,i.minY]);return{points:d,point:c}});l(this,"getBounds",e=>{let t=!this.pointsBoundsCache.has(e.points),n=this.pointCache[e.id]!==e.point;if(t){let o=qe.Utils.getBoundsFromPoints(e.points);this.pointsBoundsCache.set(e.points,o),this.shapeBoundsCache.set(e.id,qe.Utils.translateBounds(o,e.point)),this.pointCache[e.id]=e.point}else n&&!t&&(this.pointCache[e.id]=e.point,this.shapeBoundsCache.set(e.id,qe.Utils.translateBounds(this.pointsBoundsCache.get(e.points),e.point)));return this.shapeBoundsCache.get(e.id)});l(this,"shouldRender",(e,t)=>t.points!==e.points||t.style!==e.style||t.isComplete!==e.isComplete);l(this,"hitTestPoint",(e,t)=>{let n=kn.Vec.sub(t,e.point);return qe.Utils.pointInPolyline(n,e.points)});l(this,"hitTestLineSegment",(e,t,n)=>{let{points:o,point:r}=e,a=kn.Vec.sub(t,r),d=kn.Vec.sub(n,r),i=this.getBounds(e);if(i.width<8&&i.height<8)return kn.Vec.distanceToLineSegment(t,n,qe.Utils.getBoundsCenter(i))<5;if((0,Fn.intersectLineSegmentBounds)(a,d,i)){for(let c=1;c<o.length;c++)if((0,Fn.intersectLineSegmentLineSegment)(o[c-1],o[c],a,d).didIntersect)return!0}return!1});l(this,"hitTestBounds",(e,t)=>{if(!e.rotation){let r=this.getBounds(e);return qe.Utils.boundsContain(t,r)||(qe.Utils.boundsContain(r,t)||(0,Fn.intersectBoundsBounds)(r,t).length>0)&&(0,Fn.intersectBoundsPolyline)(qe.Utils.translateBounds(t,kn.Vec.neg(e.point)),e.points).length>0}let n=this.getRotatedBounds(e),o=qe.Utils.getFromCache(this.rotatedCache,e,()=>{let r=qe.Utils.getBoundsCenter(qe.Utils.getBoundsFromPoints(e.points));return e.points.map(a=>kn.Vec.rotWith(a,r,e.rotation||0))});return qe.Utils.boundsContain(t,n)||(0,Fn.intersectBoundsPolyline)(qe.Utils.translateBounds(t,kn.Vec.neg(e.point)),o).length>0})}};var Zt=require("@tldraw/core"),oo=require("@tldraw/intersect"),vt=require("@tldraw/vec"),In=z(require("react"));var Xi=require("@tldraw/core"),no=z(require("react"));var rc=no.memo(function({radius:e,style:t,isSelected:n,isDarkMode:o}){let{stroke:r,strokeWidth:a,fill:d}=Se(t,o),i=1+a*1.618,c=Math.max(0,e[0]-i/2),u=Math.max(0,e[1]-i/2),p=Xi.Utils.perimeterOfEllipse(c,u),{strokeDasharray:m,strokeDashoffset:h}=Xi.Utils.getPerfectDashProps(p<64?p*2:p,a*1.618,t.dash,4);return no.createElement(no.Fragment,null,no.createElement("ellipse",{className:t.isFilled||n?"tl-fill-hitarea":"tl-stroke-hitarea",cx:e[0],cy:e[1],rx:e[0],ry:e[1]}),no.createElement("ellipse",{cx:e[0],cy:e[1],rx:c,ry:u,fill:d,stroke:r,strokeWidth:i,strokeDasharray:m,strokeDashoffset:h,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))});var jn=z(require("react"));var To=require("@tldraw/core"),Pr=require("perfect-freehand");function ic(s,e,t){let{strokeWidth:n}=Se(t),o=To.Utils.rng(s),r=e[0]+o()*n*2,a=e[1]+o()*n*2,d=To.Utils.perimeterOfEllipse(r,a),i=[],c=Math.PI+Math.PI*o(),u=Math.abs(o()),p=Math.max(16,d/10);for(let m=0;m<p;m++){let h=go.easeInOutSine(m/(p+1)),g=c*2+Math.PI*(2+u)*h,f=Math.cos(g),T=Math.sin(g);i.push([r*f+e[0],a*T+e[1],h+.5+o()/2])}return(0,Pr.getStrokePoints)(i,{size:1+n*2,thinning:.618,end:{taper:d/8},start:{taper:d/12},streamline:0,simulatePressure:!0})}function ac(s,e,t){let{strokeWidth:n}=Se(t),o=To.Utils.rng(s),r=e[0]+o()*n*2,a=e[1]+o()*n*2,d=To.Utils.perimeterOfEllipse(r,a);return To.Utils.getSvgPathFromStroke((0,Pr.getStrokeOutlinePoints)(ic(s,e,t),{size:2+n*2,thinning:.618,end:{taper:d/8},start:{taper:d/12},streamline:0,simulatePressure:!0}))}function Mr(s,e,t){return To.Utils.getSvgPathFromStrokePoints(ic(s,e,t))}var lc=jn.memo(function({id:e,radius:t,style:n,isSelected:o,isDarkMode:r}){let{stroke:a,strokeWidth:d,fill:i}=Se(n,r),c=ac(e,t,n);return jn.createElement(jn.Fragment,null,jn.createElement("ellipse",{className:n.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",cx:t[0],cy:t[1],rx:t[0],ry:t[1]}),n.isFilled&&jn.createElement("path",{d:Mr(e,t,n),stroke:"none",fill:i,pointerEvents:"none"}),jn.createElement("path",{d:c,fill:a,stroke:a,strokeWidth:d,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))});var qi=class extends ye{constructor(){super(...arguments);l(this,"type","ellipse");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"canEdit",!0);l(this,"getShape",e=>Zt.Utils.deepMerge({id:"id",type:"ellipse",name:"Ellipse",parentId:"page",childIndex:1,point:[0,0],radius:[1,1],rotation:0,style:ht,label:"",labelPoint:[.5,.5]},e));l(this,"Component",ye.Component(({shape:e,isGhost:t,isSelected:n,isBinding:o,isEditing:r,meta:a,bounds:d,events:i,onShapeChange:c,onShapeBlur:u},p)=>{let{id:m,radius:h,style:g,label:f="",labelPoint:T=Go}=e,w=Dt(e.style),b=Se(g,a.isDarkMode),y=b.strokeWidth,P=1+y*1.618,G=Math.max(0,h[0]-P/2),M=Math.max(0,h[1]-P/2),k=g.dash==="draw"?lc:rc,I=In.useCallback(Y=>c==null?void 0:c({id:m,label:Y}),[c]);return In.createElement(zee,S({ref:p},i),In.createElement(Qn,{isEditing:r,onChange:I,onBlur:u,font:w,text:f,color:b.stroke,offsetX:(T[0]-.5)*d.width,offsetY:(T[1]-.5)*d.height}),In.createElement(Zt.SVGContainer,{id:e.id+"_svg",opacity:t?.3:1},o&&In.createElement("ellipse",{className:"tl-binding-indicator",cx:h[0],cy:h[1],rx:G,ry:M,strokeWidth:this.bindingDistance}),In.createElement(k,{id:m,radius:h,style:g,isSelected:n,isDarkMode:a.isDarkMode})))}));l(this,"Indicator",ye.Indicator(({shape:e})=>{let{id:t,radius:n,style:o}=e,a=Se(o).strokeWidth,d=1+a*1.618,i=Math.max(0,n[0]-d/2),c=Math.max(0,n[1]-d/2);return o.dash==="draw"?In.createElement("path",{d:Mr(t,n,o)}):In.createElement("ellipse",{cx:n[0],cy:n[1],rx:i,ry:c})}));l(this,"hitTestPoint",(e,t)=>Zt.Utils.pointInBounds(t,this.getRotatedBounds(e))&&Zt.Utils.pointInEllipse(t,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0));l(this,"hitTestLineSegment",(e,t,n)=>(0,oo.intersectLineSegmentEllipse)(t,n,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0).didIntersect);l(this,"getBounds",e=>Zt.Utils.getFromCache(this.boundsCache,e,()=>Zt.Utils.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],0)));l(this,"getRotatedBounds",e=>Zt.Utils.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],e.rotation));l(this,"hitTestBounds",(e,t)=>{let n=this.getBounds(e);return Zt.Utils.boundsContained(n,t)||(0,oo.intersectEllipseBounds)(this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0,t).length>0});l(this,"shouldRender",(e,t)=>t.radius!==e.radius||t.style!==e.style||t.label!==e.label);l(this,"getCenter",e=>vt.Vec.add(e.point,e.radius));l(this,"getBindingPoint",(e,t,n,o,r,a)=>{{let d=this.getExpandedBounds(e),i=this.getCenter(e),c,u;if(!Zt.Utils.pointInEllipse(n,i,e.radius[0]+this.bindingDistance,e.radius[1]+this.bindingDistance))return;if(a)vt.Vec.dist(n,this.getCenter(e))<12?c=[.5,.5]:c=vt.Vec.divV(vt.Vec.sub(n,[d.minX,d.minY]),[d.width,d.height]),u=0;else{let p=(0,oo.intersectRayEllipse)(o,r,i,e.radius[0],e.radius[1],e.rotation||0).points.sort((h,g)=>vt.Vec.dist(h,o)-vt.Vec.dist(g,o))[0];if(p||(p=(0,oo.intersectLineSegmentEllipse)(n,i,i,e.radius[0],e.radius[1],e.rotation||0).points.sort((h,g)=>vt.Vec.dist(h,n)-vt.Vec.dist(g,n))[0]),!p)return;let m=vt.Vec.med(n,p);if(vt.Vec.distanceToLineSegment(n,m,this.getCenter(e))<12?c=[.5,.5]:c=vt.Vec.divV(vt.Vec.sub(m,[d.minX,d.minY]),[d.width,d.height]),Zt.Utils.pointInEllipse(n,i,e.radius[0],e.radius[1],e.rotation||0))u=this.bindingDistance/2;else{let h=(0,oo.intersectLineSegmentEllipse)(n,i,i,e.radius[0],e.radius[1],e.rotation||0).points[0];if(!h)return;u=Math.max(this.bindingDistance/2,vt.Vec.dist(n,h))}}return{point:c,distance:u}}});l(this,"transform",(e,t,{scaleX:n,scaleY:o,initialShape:r})=>{let{rotation:a=0}=r;return{point:[t.minX,t.minY],radius:[t.width/2,t.height/2],rotation:n<0&&o>=0||o<0&&n>=0?-(a||0):a||0}});l(this,"transformSingle",(e,t)=>({point:vt.Vec.toFixed([t.minX,t.minY]),radius:vt.Vec.div([t.width,t.height],2)}))}},zee=E("div",{width:"100%",height:"100%"});var Er=require("@tldraw/core"),Vn=z(require("react"));var Ji=class extends ye{constructor(){super(...arguments);l(this,"type","group");l(this,"canBind",!0);l(this,"getShape",e=>Er.Utils.deepMerge({id:"id",type:"group",name:"Group",parentId:"page",childIndex:1,point:[0,0],size:[100,100],rotation:0,children:[],style:ht},e));l(this,"Component",ye.Component(({shape:e,isBinding:t,isGhost:n,isHovered:o,isSelected:r,events:a},d)=>{let{id:i,size:c}=e,u=2,p=Math.max(0,c[0]-u/2),m=Math.max(0,c[1]-u/2),g=[[[u/2,u/2],[p,u/2],p-u/2],[[p,u/2],[p,m],m-u/2],[[p,m],[u/2,m],p-u/2],[[u/2,m],[u/2,u/2],m-u/2]].map(([f,T],w)=>Vn.createElement("line",{key:i+"_"+w,x1:f[0],y1:f[1],x2:T[0],y2:T[1]}));return Vn.createElement(Er.SVGContainer,S({ref:d},a),t&&Vn.createElement("rect",{className:"tl-binding-indicator",strokeWidth:this.bindingDistance}),Vn.createElement("g",{opacity:n?.3:1},Vn.createElement("rect",{x:0,y:0,width:c[0],height:c[1],fill:"transparent",pointerEvents:"all"}),Vn.createElement(dc,{stroke:"black",opacity:o||r?1:0,strokeLinecap:"round",pointerEvents:"stroke"},g)))}));l(this,"Indicator",ye.Indicator(({shape:e})=>{let{id:t,size:n}=e,o=2,r=Math.max(0,n[0]-o/2),a=Math.max(0,n[1]-o/2),i=[[[o/2,o/2],[r,o/2],r-o/2],[[r,o/2],[r,a],a-o/2],[[r,a],[o/2,a],r-o/2],[[o/2,a],[o/2,o/2],a-o/2]].map(([c,u],p)=>Vn.createElement("line",{key:t+"_"+p,x1:c[0],y1:c[1],x2:u[0],y2:u[1]}));return Vn.createElement(dc,{strokeLinecap:"round",pointerEvents:"stroke"},i)}));l(this,"getBounds",e=>_t(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style)}},dc=E("g",{strokeWidth:"calc(1.5px * var(--tl-scale))",strokeDasharray:"calc(1px * var(--tl-scale)), calc(3px * var(--tl-scale))"});var Qi=require("@stitches/react"),Br=require("@tldraw/core"),rn=z(require("react"));var ea=class extends ye{constructor(){super(...arguments);l(this,"type","image");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"isAspectRatioLocked",!0);l(this,"showCloneHandles",!1);l(this,"getShape",e=>Br.Utils.deepMerge({id:"image",type:"image",name:"Image",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:x(S({},ht),{isFilled:!0}),assetId:"assetId"},e));l(this,"Component",ye.Component(({shape:e,asset:t={src:""},isBinding:n,isGhost:o,meta:r,events:a,onShapeChange:d},i)=>{let{size:c,style:u}=e,{bindingDistance:p}=this,m=rn.useRef(null),h=rn.useRef(null);return rn.useLayoutEffect(()=>{let g=h.current;if(!g)return;let[f,T]=c;g.style.width=`${f}px`,g.style.height=`${T}px`},[c]),rn.createElement(Br.HTMLContainer,S({ref:i},a),n&&rn.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:`calc(${-p}px * var(--tl-zoom))`,left:`calc(${-p}px * var(--tl-zoom))`,width:`calc(100% + ${p*2}px * var(--tl-zoom))`,height:`calc(100% + ${p*2}px * var(--tl-zoom))`,backgroundColor:"var(--tl-selectFill)"}}),rn.createElement(Oee,{ref:h,isDarkMode:r.isDarkMode,isFilled:u.isFilled,isGhost:o},rn.createElement(Fee,{id:e.id+"_image",ref:m,src:t.src,alt:"tl_image_asset",draggable:!1})))}));l(this,"Indicator",ye.Indicator(({shape:e})=>{let{size:[t,n]}=e;return rn.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,n)})}));l(this,"getBounds",e=>_t(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style);l(this,"transform",eo);l(this,"transformSingle",to);l(this,"getSvgElement",e=>{let t=this.getBounds(e),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttribute("width",`${t.width}`),n.setAttribute("height",`${t.height}`),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n})}},Oee=(0,Qi.styled)("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),Fee=(0,Qi.styled)("img",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2});var Lr=require("@tldraw/core"),Dn=z(require("react"));var cc=z(require("react"));function pc({strokeWidth:s,size:e}){return cc.createElement("rect",{className:"tl-binding-indicator",x:s,y:s,width:Math.max(0,e[0]-s/2),height:Math.max(0,e[1]-s/2),strokeWidth:16*2})}var uc=require("@tldraw/core"),Cn=z(require("react"));var hc=Cn.memo(function({id:e,style:t,size:n,isSelected:o,isDarkMode:r}){let{stroke:a,strokeWidth:d,fill:i}=Se(t,r),c=1+d*1.618,u=Math.max(0,n[0]-c/2),p=Math.max(0,n[1]-c/2),h=[[[c/2,c/2],[u,c/2],u-c/2],[[u,c/2],[u,p],p-c/2],[[u,p],[c/2,p],u-c/2],[[c/2,p],[c/2,c/2],p-c/2]].map(([g,f,T],w)=>{let{strokeDasharray:b,strokeDashoffset:y}=uc.Utils.getPerfectDashProps(T,d*1.618,t.dash);return Cn.createElement("line",{key:e+"_"+w,x1:g[0],y1:g[1],x2:f[0],y2:f[1],strokeDasharray:b,strokeDashoffset:y})});return Cn.createElement(Cn.Fragment,null,Cn.createElement("rect",{className:o||t.isFilled?"tl-fill-hitarea":"tl-stroke-hitarea",x:c/2,y:c/2,width:u,height:p,strokeWidth:16}),t.isFilled&&Cn.createElement("rect",{x:c/2,y:c/2,width:u,height:p,fill:i,pointerEvents:"none"}),Cn.createElement("g",{pointerEvents:"none",stroke:a,strokeWidth:c,strokeLinecap:"round"},h))});var Gn=z(require("react"));var ks=require("@tldraw/core"),wt=z(require("@tldraw/vec")),Rr=z(require("perfect-freehand"));function jee(s,e,t){let n=Se(e),o=ks.Utils.rng(s),r=n.strokeWidth,a=Math.max(0,t[0]),d=Math.max(0,t[1]),i=Array.from(Array(4)).map(()=>[o()*r*.75,o()*r*.75]),c=wt.default.add([r/2,r/2],i[0]),u=wt.default.add([a-r/2,r/2],i[1]),p=wt.default.add([a-r/2,d-r/2],i[2]),m=wt.default.add([r/2,d-r/2],i[3]),h=Math.round(Math.abs(o()*2*4)),g=Math.min(a/4,r*2),f=Math.min(d/4,r*2),T=Math.max(8,Math.floor(a/16)),w=Math.max(8,Math.floor(d/16)),b=ks.Utils.rotateArray([wt.default.pointsBetween(wt.default.add(c,[g,0]),wt.default.sub(u,[g,0]),T),wt.default.pointsBetween(wt.default.add(u,[0,f]),wt.default.sub(p,[0,f]),w),wt.default.pointsBetween(wt.default.sub(p,[g,0]),wt.default.add(m,[g,0]),T),wt.default.pointsBetween(wt.default.sub(m,[0,f]),wt.default.add(c,[0,f]),w)],h);return{points:[...b.flat(),...b[0]].slice(5,Math.floor((h%2===0?T:w)/-2)+3)}}function mc(s,e,t){let{points:n}=jee(s,e,t),{strokeWidth:o}=Se(e);return{points:n,options:{size:o,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function gc(s,e,t){let{points:n,options:o}=mc(s,e,t),r=(0,Rr.default)(n,o);return ks.Utils.getSvgPathFromStroke(r)}function Ar(s,e,t){let{points:n,options:o}=mc(s,e,t);return ks.Utils.getSvgPathFromStrokePoints((0,Rr.getStrokePoints)(n,o))}var fc=Gn.memo(function({id:e,style:t,size:n,isSelected:o,isDarkMode:r}){let{isFilled:a}=t,{stroke:d,strokeWidth:i,fill:c}=Se(t,r),u=gc(e,t,n),p=Ar(e,t,n);return Gn.createElement(Gn.Fragment,null,Gn.createElement("path",{className:t.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",d:p}),a&&Gn.createElement("path",{d:p,fill:c,pointerEvents:"none"}),Gn.createElement("path",{d:u,fill:d,stroke:d,strokeWidth:i,pointerEvents:"none"}))});var ta=class extends ye{constructor(){super(...arguments);l(this,"type","rectangle");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"canEdit",!0);l(this,"getShape",e=>Lr.Utils.deepMerge({id:"id",type:"rectangle",name:"Rectangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:ht,label:"",labelPoint:[.5,.5]},e));l(this,"Component",ye.Component(({shape:e,isEditing:t,isBinding:n,isSelected:o,isGhost:r,meta:a,bounds:d,events:i,onShapeBlur:c,onShapeChange:u},p)=>{let{id:m,size:h,style:g,label:f="",labelPoint:T=Go}=e,w=Dt(g),b=Se(g,a.isDarkMode),y=g.dash==="draw"?fc:hc,P=Dn.useCallback(G=>u==null?void 0:u({id:m,label:G}),[u]);return Dn.createElement(Vee,S({ref:p},i),Dn.createElement(Qn,{isEditing:t,onChange:P,onBlur:c,font:w,text:f,color:b.stroke,offsetX:(T[0]-.5)*d.width,offsetY:(T[1]-.5)*d.height}),Dn.createElement(Lr.SVGContainer,{id:e.id+"_svg",opacity:r?.3:1},n&&Dn.createElement(pc,{strokeWidth:b.strokeWidth,size:h}),Dn.createElement(y,{id:m,style:g,size:h,isSelected:o,isDarkMode:a.isDarkMode})))}));l(this,"Indicator",ye.Indicator(({shape:e})=>{let{id:t,style:n,size:o}=e,a=Se(n,!1).strokeWidth;return n.dash==="draw"?Dn.createElement("path",{d:Ar(t,n,o)}):Dn.createElement("rect",{x:a,y:a,rx:1,ry:1,width:Math.max(1,o[0]-a*2),height:Math.max(1,o[1]-a*2)})}));l(this,"getBounds",e=>_t(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label);l(this,"transform",eo);l(this,"transformSingle",to)}},Vee=E("div",{width:"100%",height:"100%"});var Hr=require("@tldraw/core"),Sc=require("@tldraw/vec"),Je=z(require("react"));var oa=class extends ye{constructor(){super(...arguments);l(this,"type","sticky");l(this,"canBind",!0);l(this,"canEdit",!0);l(this,"canClone",!0);l(this,"hideResizeHandles",!0);l(this,"showCloneHandles",!0);l(this,"getShape",e=>Hr.Utils.deepMerge({id:"id",type:"sticky",name:"Sticky",parentId:"page",childIndex:1,point:[0,0],size:[200,200],text:"",rotation:0,style:Wo},e));l(this,"Component",ye.Component(({shape:e,meta:t,events:n,isGhost:o,isBinding:r,isEditing:a,onShapeBlur:d,onShapeChange:i},c)=>{let u=Vd(e.style),{color:p,fill:m}=$i(e.style,t.isDarkMode),h=Je.useRef(null),g=Je.useRef(null),f=Je.useRef(null),T=Je.useRef(!1),w=Je.useCallback(I=>{I.stopPropagation()},[]),b=Je.useCallback(I=>{i==null||i({id:e.id,type:e.type,text:v.normalizeText(I)})},[e.id]),y=Je.useCallback(I=>{b(I.currentTarget.value)},[i,b]),P=Je.useCallback(I=>{if(I.key==="Escape"){I.preventDefault(),I.stopPropagation(),d==null||d();return}if(I.key==="Tab"&&e.text.length===0){I.preventDefault();return}if(!(I.key==="Meta"||I.metaKey))I.stopPropagation();else if(I.key==="z"&&I.metaKey){I.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),I.stopPropagation(),I.preventDefault();return}(I.metaKey||I.ctrlKey)&&I.key==="="&&I.preventDefault(),I.key==="Tab"&&(I.preventDefault(),I.shiftKey?lt.unindent(I.currentTarget):lt.indent(I.currentTarget),i==null||i(x(S({},e),{text:v.normalizeText(I.currentTarget.value)})))},[e,i]),G=Je.useCallback(I=>{I.currentTarget.setSelectionRange(0,0),d==null||d()},[]),M=Je.useCallback(I=>{!a||!T.current||I.currentTarget.select()},[a]);Je.useEffect(()=>{if(a){T.current=!0;let I=g.current;I.focus(),I.select()}},[a]),Je.useEffect(()=>{let I=f.current,{size:Y}=e,{offsetHeight:le}=I,ae=na-Pn*2,Re=Y[1]-Pn*2;if(le===Re)return;if(le>ae){i==null||i({id:e.id,size:[Y[0],le+Pn*2]});return}if(le<ae&&Y[1]>na){i==null||i({id:e.id,size:[Y[0],na]});return}let Ce=g.current;Ce==null||Ce.focus()},[e.text,e.size[1],e.style]);let k={font:u,color:p,textShadow:t.isDarkMode?"0.5px 0.5px 2px rgba(255, 255, 255,.25)":"0.5px 0.5px 2px rgba(255, 255, 255,.5)"};return Je.createElement(Hr.HTMLContainer,S({ref:c},n),Je.createElement(Gee,{ref:h,isDarkMode:t.isDarkMode,isGhost:o,style:S({backgroundColor:m},k)},r&&Je.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),Je.createElement($ee,{ref:f,isEditing:a,alignment:e.style.textAlign},e.text,"\u200B"),a&&Je.createElement(Nee,{ref:g,onPointerDown:w,value:e.text,onChange:y,onKeyDown:P,onFocus:M,onBlur:G,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,spellCheck:!0,alignment:e.style.textAlign,onContextMenu:Tt,onCopy:Tt,onPaste:Tt,onCut:Tt})))}));l(this,"Indicator",ye.Indicator(({shape:e})=>{let{size:[t,n]}=e;return Je.createElement("rect",{x:0,y:0,rx:3,ry:3,width:Math.max(1,t),height:Math.max(1,n)})}));l(this,"getBounds",e=>_t(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.text!==e.text);l(this,"transform",(e,t,{scaleX:n,scaleY:o,transformOrigin:r})=>({point:Sc.Vec.toFixed([t.minX+(t.width-e.size[0])*(n<0?1-r[0]:r[0]),t.minY+(t.height-e.size[1])*(o<0?1-r[1]:r[1])])}));l(this,"transformSingle",e=>e);l(this,"getSvgElement",(e,t)=>{var p,m;let n=this.getBounds(e),o=$i(e.style,t),r=Gi(e.style.size)*((p=e.style.scale)!=null?p:1),a=yn(e.style.font).slice(1,-1),d=(m=e.style.textAlign)!=null?m:"start",i=Jn(e.text,r,a,d,n.width-Pn*2,!0);i.setAttribute("fill",o.color),i.setAttribute("transform",`translate(${Pn}, ${Pn})`);let c=document.createElementNS("http://www.w3.org/2000/svg","g"),u=document.createElementNS("http://www.w3.org/2000/svg","rect");return u.setAttribute("width",n.width+""),u.setAttribute("height",n.height+""),u.setAttribute("fill",o.fill),u.setAttribute("rx","3"),u.setAttribute("ry","3"),c.appendChild(u),c.appendChild(i),c})}},Pn=16,na=200,Gee=E("div",{pointerEvents:"all",position:"relative",backgroundColor:"rgba(255, 220, 100)",fontFamily:"sans-serif",height:"100%",width:"100%",padding:Pn+"px",borderRadius:"3px",perspective:"800px",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isDarkMode:{true:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"},false:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}}}),bc={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:Ut},$ee=E("div",S({position:"absolute",top:Pn,left:Pn,width:`calc(100% - ${Pn*2}px)`,height:"fit-content",font:"inherit",pointerEvents:"none",userSelect:"none",variants:{isEditing:{true:{opacity:1},false:{opacity:1}},alignment:{["start"]:{textAlign:"left"},["middle"]:{textAlign:"center"},["end"]:{textAlign:"right"},["justify"]:{textAlign:"justify"}}}},bc)),Nee=E("textarea",x(S({width:"100%",height:"100%",border:"none",overflow:"hidden",background:"none",outline:"none",textAlign:"left",font:"inherit",padding:0,color:"transparent",verticalAlign:"top",resize:"none",caretColor:"black"},bc),{variants:{alignment:{["start"]:{textAlign:"left"},["middle"]:{textAlign:"center"},["end"]:{textAlign:"right"},["justify"]:{textAlign:"justify"}}},"&:focus":{outline:"none",border:"none"}}));var Zo=require("@tldraw/core"),$n=require("@tldraw/vec"),Qe=z(require("react"));var sa=class extends ye{constructor(){super(...arguments);l(this,"type","text");l(this,"isAspectRatioLocked",!0);l(this,"canEdit",!0);l(this,"canBind",!0);l(this,"canClone",!0);l(this,"bindingDistance",16/2);l(this,"getShape",e=>Zo.Utils.deepMerge({id:"id",type:"text",name:"Text",parentId:"page",childIndex:1,point:[0,0],rotation:0,text:" ",style:Wo},e));l(this,"texts",new Map);l(this,"Component",ye.Component(({shape:e,isBinding:t,isGhost:n,isEditing:o,onShapeBlur:r,onShapeChange:a,meta:d,events:i},c)=>{let{text:u,style:p}=e,m=Se(p,d.isDarkMode),h=Dt(e.style),g=Qe.useRef(null),f=Qe.useRef(!1),T=Qe.useRef(u);Qe.useLayoutEffect(()=>{if(u!==T.current){let k=[0,0];this.texts.set(e.id,u);let I=this.getBounds(e),Y=this.getBounds(e);switch(e.style.textAlign){case"start":break;case"middle":{k=$n.Vec.div([Y.width-I.width,0],2);break}case"end":{k=[Y.width-I.width,0];break}}T.current=u,a==null||a(x(S({},e),{id:e.id,point:$n.Vec.sub(e.point,k),text:u}))}},[u]);let w=Qe.useCallback(k=>{let I=[0,0],Y=v.normalizeText(k.currentTarget.value),le=this.getBounds(e);this.texts.set(e.id,Y);let ae=this.getBounds(x(S({},e),{text:Y}));switch(e.style.textAlign){case"start":break;case"middle":{I=$n.Vec.div([ae.width-le.width,0],2);break}case"end":{I=[ae.width-le.width,0];break}}T.current=Y,a==null||a(x(S({},e),{id:e.id,point:$n.Vec.sub(e.point,I),text:Y}))},[e.id,e.point]),b=Qe.useCallback(k=>{if(k.key==="Escape"){k.preventDefault(),k.stopPropagation(),r==null||r();return}if(k.key==="Tab"&&e.text.length===0){k.preventDefault();return}if(k.key==="Enter"&&(k.metaKey||k.ctrlKey)){k.preventDefault(),k.stopPropagation(),g.current.blur();return}if(!(k.key==="Meta"||k.metaKey))k.stopPropagation();else if(k.key==="z"&&k.metaKey){k.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),k.stopPropagation(),k.preventDefault();return}(k.metaKey||k.ctrlKey)&&k.key==="="&&k.preventDefault(),k.key==="Tab"&&(k.preventDefault(),k.shiftKey?lt.unindent(k.currentTarget):lt.indent(k.currentTarget),a==null||a(x(S({},e),{text:v.normalizeText(k.currentTarget.value)})))},[e,a]),y=Qe.useCallback(k=>{k.currentTarget.setSelectionRange(0,0),r==null||r()},[]),P=Qe.useCallback(k=>{!o||!f.current||document.activeElement===k.currentTarget&&k.currentTarget.select()},[o]),G=Qe.useCallback(k=>{o&&k.stopPropagation()},[o]),M=Qe.useRef(o);return Qe.useEffect(()=>{o?(M.current=!0,this.texts.set(e.id,u),requestAnimationFrame(()=>{f.current=!0;let k=g.current;k&&(k.focus(),k.select())})):M.current&&(M.current=!1,r==null||r())},[o]),Qe.createElement(Zo.HTMLContainer,S({ref:c},i),Qe.createElement(Kee,{isGhost:n,isEditing:o,onPointerDown:G},Qe.createElement(Uee,{style:{font:h,color:m.stroke,textAlign:Rd(p.textAlign)}},t&&Qe.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),o?Qe.createElement(_ee,{ref:g,style:{font:h,color:m.stroke},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:u,color:m.stroke,onFocus:P,onChange:w,onKeyDown:b,onBlur:y,onPointerDown:G,onContextMenu:Tt,onCopy:Tt,onPaste:Tt,onCut:Tt}):u,"\u200B")))}));l(this,"Indicator",ye.Indicator(({shape:e})=>{let{width:t,height:n}=this.getBounds(e);return Qe.createElement("rect",{x:0,y:0,width:t,height:n})}));l(this,"getBounds",e=>{let t=Zo.Utils.getFromCache(this.boundsCache,e,()=>{var r;if(!so)return{minX:0,minY:0,maxX:10,maxY:10,width:10,height:10};so.parentNode||document.body.appendChild(so),so.style.font=Dt(e.style),so.textContent=(r=this.texts.get(e.id))!=null?r:e.text;let n=so.offsetWidth||1,o=so.offsetHeight||1;return{minX:0,maxX:n,minY:0,maxY:o,width:n,height:o}});return Zo.Utils.translateBounds(t,e.point)});l(this,"shouldRender",(e,t)=>t.text!==e.text||t.style.scale!==e.style.scale||t.style!==e.style);l(this,"transform",(e,t,{initialShape:n,scaleX:o,scaleY:r})=>{let{rotation:a=0,style:{scale:d=1}}=n,i=d*Math.abs(Math.min(o,r));return{point:[t.minX,t.minY],rotation:o<0&&r>=0||r<0&&o>=0?-(a||0):a,style:x(S({},n.style),{scale:i})}});l(this,"transformSingle",(e,t,{initialShape:n,scaleX:o,scaleY:r})=>{let{style:{scale:a=1}}=n;return{point:$n.Vec.toFixed([t.minX,t.minY]),style:x(S({},n.style),{scale:a*Math.max(Math.abs(r),Math.abs(o))})}});l(this,"onDoubleClickBoundsHandle",e=>{let t=this.getCenter(e),n=this.getCenter(x(S({},e),{style:x(S({},e.style),{scale:1})}));return{style:x(S({},e.style),{scale:1}),point:$n.Vec.toFixed($n.Vec.add(e.point,$n.Vec.sub(t,n)))}});l(this,"getSvgElement",(e,t)=>{var c,u;let n=this.getBounds(e),o=Se(e.style,t),r=So(e.style.size,e.style.font)*((c=e.style.scale)!=null?c:1),a=yn(e.style.font).slice(1,-1),d=(u=e.style.textAlign)!=null?u:"middle",i=Jn(e.text,r,a,d,n.width,!1);return i.setAttribute("fill",o.stroke),i})}},so;function Wee(){var e;(e=document.getElementById("__textMeasure"))==null||e.remove();let s=document.createElement("pre");return s.id="__textMeasure",Object.assign(s.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:Ut,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),s.tabIndex=-1,document.body.appendChild(s),s}typeof window!="undefined"&&(so=Wee());var Kee=E("div",{width:"100%",height:"100%",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isEditing:{false:{pointerEvents:"all",userSelect:"all"},true:{pointerEvents:"none",userSelect:"none"}}}}),Tc={whiteSpace:"pre-wrap",overflowWrap:"break-word"},Uee=E("div",S({position:"absolute",width:"100%",height:"100%",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:Ut,outline:0,fontWeight:"500",backfaceVisibility:"hidden",userSelect:"none",pointerEvents:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",isEditing:{false:{},true:{pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}},Tc)),_ee=E("textarea",x(S({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"},Tc),{"&:focus":{outline:"none",border:"none"}}));var ln=require("@tldraw/core"),Xo=require("@tldraw/intersect"),kt=z(require("@tldraw/vec")),dn=z(require("react"));var ia=require("@tldraw/core"),vc=z(require("@tldraw/vec")),Mn=z(require("react"));var Is=require("@tldraw/core"),ro=z(require("@tldraw/vec")),zr=z(require("perfect-freehand"));function an(s,e=0,t=0){let[n,o]=s,r=[[n/2,0],[n,o],[0,o]];return e&&(r=Fd(r,e)),t&&(r=r.map(a=>ro.default.rotWith(a,[n/2,o/2],t))),r}function ra(s){let[e,t]=s,n=[[e/2,0],[e,t],[0,t]];return[(n[0][0]+n[1][0]+n[2][0])/3,(n[0][1]+n[1][1]+n[2][1])/3]}function Yee(s,e,t){let[n,o]=e,r=Is.Utils.rng(s),a=Array.from(Array(3)).map(()=>[r()*t*.75,r()*t*.75]),d=[ro.default.add([n/2,0],a[0]),ro.default.add([n,o],a[1]),ro.default.add([0,o],a[2])],i=Math.round(Math.abs(r()*2*3)),c=Is.Utils.rotateArray([ro.default.pointsBetween(d[0],d[1],32),ro.default.pointsBetween(d[1],d[2],32),ro.default.pointsBetween(d[2],d[0],32)],i);return{points:[...c.flat(),...c[0]]}}function yc(s,e,t){let{strokeWidth:n}=Se(t),{points:o}=Yee(s,e,n);return{points:o,options:{size:n,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function wc(s,e,t){let{points:n,options:o}=yc(s,e,t),r=(0,zr.default)(n,o);return Is.Utils.getSvgPathFromStroke(r)}function xc(s,e,t){let{points:n,options:o}=yc(s,e,t);return Is.Utils.getSvgPathFromStrokePoints((0,zr.getStrokePoints)(n,o))}var kc=Mn.memo(function({id:e,size:t,style:n,isSelected:o,isDarkMode:r}){let{stroke:a,strokeWidth:d,fill:i}=Se(n,r),c=1+d*1.618,u=an(t),m=ia.Utils.pointsToLineSegments(u,!0).map(([g,f],T)=>{let{strokeDasharray:w,strokeDashoffset:b}=ia.Utils.getPerfectDashProps(vc.default.dist(g,f),d*1.618,n.dash);return Mn.createElement("line",{key:e+"_"+T,x1:g[0],y1:g[1],x2:f[0],y2:f[1],stroke:a,strokeWidth:c,strokeLinecap:"round",strokeDasharray:w,strokeDashoffset:b})}),h=u.join();return Mn.createElement(Mn.Fragment,null,Mn.createElement("polygon",{className:n.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",points:h}),n.isFilled&&Mn.createElement("polygon",{fill:i,points:h,pointerEvents:"none"}),Mn.createElement("g",{pointerEvents:"stroke"},m))});var Nn=z(require("react"));var Ic=Nn.memo(function({id:e,size:t,style:n,isSelected:o,isDarkMode:r}){let{stroke:a,strokeWidth:d,fill:i}=Se(n,r),c=wc(e,t,n),u=xc(e,t,n);return Nn.createElement(Nn.Fragment,null,Nn.createElement("path",{className:n.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",d:u}),n.isFilled&&Nn.createElement("path",{d:u,fill:i,pointerEvents:"none"}),Nn.createElement("path",{d:c,fill:a,stroke:a,strokeWidth:d,pointerEvents:"none"}))});var Cc=z(require("react"));function Dc({size:s}){let e=an(s).join();return Cc.createElement("polygon",{className:"tl-binding-indicator",points:e,strokeWidth:16*2})}var aa=class extends ye{constructor(){super(...arguments);l(this,"type","triangle");l(this,"canBind",!0);l(this,"canClone",!0);l(this,"canEdit",!0);l(this,"getShape",e=>ln.Utils.deepMerge({id:"id",type:"triangle",name:"Triangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:ht,label:"",labelPoint:[.5,.5]},e));l(this,"Component",ye.Component(({shape:e,bounds:t,isBinding:n,isEditing:o,isSelected:r,isGhost:a,meta:d,events:i,onShapeChange:c,onShapeBlur:u},p)=>{let{id:m,label:h="",size:g,style:f,labelPoint:T=Go}=e,w=Dt(f),b=Se(f,d.isDarkMode),y=f.dash==="draw"?Ic:kc,P=dn.useCallback(M=>c==null?void 0:c({id:m,label:M}),[c]),G=dn.useMemo(()=>{let M=kt.default.div(g,2);return(ra(g)[1]-M[1])*.72},[g]);return dn.createElement(Zee,S({ref:p},i),dn.createElement(Qn,{font:w,text:h,color:b.stroke,offsetX:(T[0]-.5)*t.width,offsetY:G+(T[1]-.5)*t.height,isEditing:o,onChange:P,onBlur:u}),dn.createElement(ln.SVGContainer,{id:e.id+"_svg",opacity:a?.3:1},n&&dn.createElement(Dc,{size:g}),dn.createElement(y,{id:m,style:f,size:g,isSelected:r,isDarkMode:d.isDarkMode})))}));l(this,"Indicator",ye.Indicator(({shape:e})=>{let{size:t}=e;return dn.createElement("polygon",{points:an(t).join()})}));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label);l(this,"getBounds",e=>_t(e,this.boundsCache));l(this,"getExpandedBounds",e=>ln.Utils.getBoundsFromPoints(an(e.size,this.bindingDistance).map(t=>kt.default.add(t,e.point))));l(this,"hitTestLineSegment",(e,t,n)=>(0,Xo.intersectLineSegmentPolyline)(t,n,this.getPoints(e)).didIntersect);l(this,"hitTestBounds",(e,t)=>ln.Utils.boundsContained(this.getBounds(e),t)||(0,Xo.intersectBoundsPolygon)(t,this.getPoints(e)).length>0);l(this,"getBindingPoint",(e,t,n,o,r,a)=>{let d=this.getExpandedBounds(e);if(!ln.Utils.pointInBounds(n,d))return;let i=an(e.size).map(b=>kt.default.add(b,e.point)),c=an(e.size,this.bindingDistance).map(b=>kt.default.add(b,e.point)),u=ln.Utils.pointsToLineSegments(i,!0).map(([b,y])=>kt.default.distanceToLineSegment(b,y,n)).sort((b,y)=>b-y)[0];if(!(ln.Utils.pointInPolygon(n,c)||u<this.bindingDistance))return;let p=ln.Utils.pointsToLineSegments(c.concat([c[0]])).map(b=>(0,Xo.intersectRayLineSegment)(o,r,b[0],b[1])).filter(b=>b.didIntersect).flatMap(b=>b.points);if(!p.length)return;let m=kt.default.add(ra(e.size),e.point),h=p.sort((b,y)=>kt.default.dist(y,o)-kt.default.dist(b,o))[0],g=kt.default.med(n,h),f,T;a?(f=kt.default.dist(n,m)<16/2?m:n,T=0):(kt.default.distanceToLineSegment(n,g,m)<16/2?f=m:f=g,ln.Utils.pointInPolygon(n,i)?T=this.bindingDistance:T=Math.max(this.bindingDistance,u));let w=kt.default.divV(kt.default.sub(f,[d.minX,d.minY]),[d.width,d.height]);return{point:kt.default.clampV(w,0,1),distance:T}});l(this,"transform",eo);l(this,"transformSingle",to)}getPoints(e){let{rotation:t=0,point:[n,o],size:[r,a]}=e;return[[n+r/2,o],[n,o+a],[n+r,o+a]].map(d=>kt.default.rotWith(d,this.getCenter(e),t))}},Zee=E("div",{width:"100%",height:"100%"});var la=require("@stitches/react"),Or=require("@tldraw/core"),bt=z(require("react"));var da=class extends ye{constructor(){super(...arguments);l(this,"type","video");l(this,"canBind",!0);l(this,"canEdit",!0);l(this,"canClone",!0);l(this,"isAspectRatioLocked",!0);l(this,"showCloneHandles",!1);l(this,"isStateful",!0);l(this,"getShape",e=>Or.Utils.deepMerge({id:"video",type:"video",name:"Video",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:ht,assetId:"assetId",isPlaying:!0,currentTime:0},e));l(this,"Component",ye.Component(({shape:e,asset:t={src:""},isBinding:n,isEditing:o,isGhost:r,meta:a,events:d,onShapeChange:i},c)=>{let u=bt.useRef(null),p=bt.useRef(null),{currentTime:m=0,size:h,isPlaying:g,style:f}=e;bt.useLayoutEffect(()=>{let y=p.current;if(!y)return;let[P,G]=h;y.style.width=`${P}px`,y.style.height=`${G}px`},[h]),bt.useLayoutEffect(()=>{let y=u.current;!y||(g?y.play():y.pause())},[g]),bt.useLayoutEffect(()=>{let y=u.current;!y||m!==y.currentTime&&(y.currentTime=m)},[m]);let T=bt.useCallback(()=>{i==null||i({id:e.id,isPlaying:!0})},[]),w=bt.useCallback(()=>{i==null||i({id:e.id,isPlaying:!1})},[]),b=bt.useCallback(()=>{let y=u.current;!y||!o||i==null||i({id:e.id,currentTime:y.currentTime})},[o]);return bt.createElement(Or.HTMLContainer,S({ref:c},d),n&&bt.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),bt.createElement(Xee,{ref:p,isDarkMode:a.isDarkMode,isGhost:r,isFilled:f.isFilled},bt.createElement(qee,{ref:u,id:e.id+"_video",muted:!0,loop:!0,playsInline:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:o,autoPlay:g,onPlay:T,onPause:w,onTimeUpdate:b},bt.createElement("source",{src:t.src}))))}));l(this,"Indicator",ye.Indicator(({shape:e})=>{let{size:[t,n]}=e;return bt.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,n)})}));l(this,"getBounds",e=>_t(e,this.boundsCache));l(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.isPlaying!==e.isPlaying);l(this,"getSvgElement",e=>{let t=this.getBounds(e),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttribute("width",`${t.width}`),n.setAttribute("height",`${t.height}`),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n});l(this,"transform",eo);l(this,"transformSingle",to)}},Xee=(0,la.styled)("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),qee=(0,la.styled)("video",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2});var Fr=new ta,jr=new aa,Vr=new qi,Gr=new Zi,qo=new Ui,Pc=new sa,Mc=new Ji,Cs=new oa,Ec=new ea,Bc=new da,En={["rectangle"]:Fr,["triangle"]:jr,["ellipse"]:Vr,["draw"]:Gr,["arrow"]:qo,["text"]:Pc,["group"]:Mc,["sticky"]:Cs,["image"]:Ec,["video"]:Bc},ca=s=>typeof s=="string"?En[s]:En[s.type];var Rc=!1,pe=class{static getShapeUtil(e){return ca(e)}static getSelectedShapes(e,t){let n=pe.getPage(e,t);return pe.getSelectedIds(e,t).map(r=>n.shapes[r])}static screenToWorld(e,t){let n=pe.getPageState(e,e.appState.currentPageId).camera;return ge.Vec.sub(ge.Vec.div(t,n.zoom),n.point)}static getCameraZoom(e){return Lt.Utils.clamp(e,.1,5)}static getPage(e,t){return e.document.pages[t]}static getPageState(e,t){return e.document.pageStates[t]}static getSelectedIds(e,t){return pe.getPageState(e,t).selectedIds}static getShapes(e,t){return Object.values(pe.getPage(e,t).shapes)}static getCamera(e,t){return pe.getPageState(e,t).camera}static getShape(e,t,n){return pe.getPage(e,n).shapes[t]}static getCenter(e){return pe.getShapeUtil(e).getCenter(e)}static getBounds(e){return pe.getShapeUtil(e).getBounds(e)}static getRotatedBounds(e){return pe.getShapeUtil(e).getRotatedBounds(e)}static getSelectedBounds(e){return Lt.Utils.getCommonBounds(pe.getSelectedShapes(e,e.appState.currentPageId).map(t=>pe.getShapeUtil(t).getBounds(t)))}static getParentId(e,t,n){return pe.getShape(e,t,n).parentId}static getDocumentBranch(e,t,n){let o=pe.getShape(e,t,n);return o.children===void 0?[t]:[t,...o.children.flatMap(r=>pe.getDocumentBranch(e,r,n))]}static getSelectedBranchSnapshot(e,t,n){let o=pe.getPage(e,t),r=pe.getSelectedIds(e,t).flatMap(a=>pe.getDocumentBranch(e,a,t).map(d=>o.shapes[d])).filter(a=>!a.isLocked).map(Lt.Utils.deepClone);return n!==void 0?r.map(a=>S({id:a.id},n(a))):r}static getSelectedShapeSnapshot(e,t,n){let o=pe.getSelectedShapes(e,t).filter(r=>!r.isLocked).map(Lt.Utils.deepClone);return n!==void 0?o.map(r=>S({id:r.id},n(r))):o}static getAllEffectedShapeIds(e,t,n){let o=pe.getPage(e,n),r=new Set(t);return t.forEach(a=>{let d=o.shapes[a];function i(u){u.children!==void 0&&u.children.filter(p=>!r.has(p)).forEach(p=>{r.add(p),i(o.shapes[p])})}i(d);function c(u){let p=u.parentId;p!==o.id&&(r.has(p)||(r.add(p),c(o.shapes[p])))}c(d),r.forEach(u=>{Object.values(o.bindings).filter(p=>p.fromId===u||p.toId===u).forEach(p=>r.add(p.fromId===u?p.toId:p.fromId))})}),Array.from(r.values())}static getLinkedShapeIds(e,t,n,o=!0){let r=pe.getSelectedIds(e,t),a=pe.getPage(e,t),d=new Set(r),i=new Set,c=[...r],u=new Set(Object.values(a.shapes).filter(p=>{var m;return p.type==="arrow"&&(p.handles.start.bindingId||((m=p.handles)==null?void 0:m.end.bindingId))}));for(;c.length;){let p=c.pop();if(!(p&&u.size))break;i.has(p)||(i.add(p),u.forEach(m=>{var b,y;let{handles:{start:{bindingId:h},end:{bindingId:g}}}=m,f=h?a.bindings[h]:null,T=g?a.bindings[g]:null,w=!1;f&&f.toId===p?(n==="center"?w=!0:((b=m.decorations)==null?void 0:b.start)&&T?w=n==="left":w=n==="right",w&&(o&&d.add(m.id),d.add(p),T&&(d.add(T.toId),c.push(T.toId)))):T&&T.toId===p&&(n==="center"?w=!0:((y=m.decorations)==null?void 0:y.end)&&f?w=n==="left":w=n==="right",w&&(o&&d.add(m.id),d.add(p),f&&(d.add(f.toId),c.push(f.toId)))),(!f||d.has(f.toId))&&(!T||d.has(T.toId))&&u.delete(m)}))}return Array.from(d.values())}static getChildIndexAbove(e,t,n){let o=e.document.pages[n],r=o.shapes[t],a;if(r.parentId===o.id)a=Object.values(o.shapes).filter(c=>c.parentId===o.id).sort((c,u)=>c.childIndex-u.childIndex);else{let c=o.shapes[r.parentId];if(!c.children)throw Error("No children in parent!");a=c.children.map(u=>o.shapes[u]).sort((u,p)=>u.childIndex-p.childIndex)}let d=a.indexOf(r),i=a[d+1];return i?i.childIndex:r.childIndex+1}static getBeforeShape(e,t){return Object.fromEntries(Object.keys(t).map(n=>[n,e[n]]))}static mutateShapes(e,t,n,o,r=!1){let a={},d={};t.forEach((c,u)=>{let p=pe.getShape(e,c,o);if(p.isLocked)return;(p==null?void 0:p.type)==="group"&&(t.length===1||r)&&p.children.forEach((h,g)=>{let f=pe.getShape(e,h,o);if(f.isLocked)return;let T=n(f,g);T&&(a[h]=pe.getBeforeShape(f,T),d[h]=T)});let m=n(p,u);m&&(a[c]=pe.getBeforeShape(p,m),d[c]=m)});let i=Lt.Utils.deepMerge(e,{document:{pages:{[e.appState.currentPageId]:{shapes:d}}}});return{before:a,after:d,data:i}}static createShapes(e,t,n){let o={document:{pages:{[n]:{shapes:S({},Object.fromEntries(t.flatMap(a=>{let d=[[a.id,void 0]];if(a.parentId!==n){let i=pe.getShape(e,a.parentId,n);if(!i.children)throw Error("No children in parent!");d.push([i.id,{children:i.children}])}return d})))}}}},r={document:{pages:{[n]:{shapes:{shapes:S({},Object.fromEntries(t.flatMap(a=>{let d=[[a.id,a]];if(a.parentId!==n){let i=pe.getShape(e,a.parentId,n);if(!i.children)throw Error("No children in parent!");d.push([i.id,{children:[...i.children,a.id]}])}return d})))}}}}};return{before:o,after:r}}static deleteShapes(e,t,n){n=n||e.appState.currentPageId;let o=pe.getPage(e,n),r=typeof t[0]=="string"?t:t.map(i=>i.id),a={document:{pages:{[n]:{shapes:S({},Object.fromEntries(r.flatMap(i=>{let c=o.shapes[i],u=[[c.id,c]];if(c.parentId!==n){let p=o.shapes[c.parentId];if(!p.children)throw Error("No children in parent!");u.push([p.id,{children:p.children}])}return u}))),bindings:S({},Object.fromEntries(Object.values(o.bindings).filter(i=>r.includes(i.fromId)||r.includes(i.toId)).map(i=>[i.id,i])))}}}},d={document:{pages:{[n]:{shapes:S({},Object.fromEntries(r.flatMap(i=>{let c=o.shapes[i],u=[[c.id,void 0]];if(c.parentId!==o.id){let p=o.shapes[c.parentId];if(!p.children)throw Error("No children in parent!");u.push([p.id,{children:p.children.filter(m=>m!==c.id)}])}return u})))}}}};return{before:a,after:d}}static onSessionComplete(e){var n,o;let t=(o=(n=pe.getShapeUtil(e)).onSessionComplete)==null?void 0:o.call(n,e);return t?S(S({},e),t):e}static onChildrenChange(e,t,n){var r,a;if(!t.children)return;let o=(a=(r=pe.getShapeUtil(t)).onChildrenChange)==null?void 0:a.call(r,t,t.children.map(d=>pe.getShape(e,d,n)));return o?S(S({},t),o):t}static updateArrowBindings(e,t){var a,d,i,c,u,p;let n={start:yt(t.handles.start),end:yt(t.handles.end)},o={isBound:!1,handle:t.handles.start,point:ge.Vec.add(t.handles.start.point,t.point)},r={isBound:!1,handle:t.handles.end,point:ge.Vec.add(t.handles.end.point,t.point)};if(t.handles.start.bindingId){let m=((a=t.decorations)==null?void 0:a.start)!==void 0,h=t.handles.start,g=e.bindings[t.handles.start.bindingId];if(!g)throw Error("Could not find a binding to match the start handle's bindingId: "+t.handles.start.bindingId);let f=e.shapes[g.toId],T=pe.getShapeUtil(f),w=T.getBounds(f),b=T.getExpandedBounds(f),y=m?Lt.Utils.expandBounds(w,g.distance):w,{minX:P,minY:G,width:M,height:k}=b,I=ge.Vec.add([P,G],ge.Vec.mulV([M,k],ge.Vec.rotWith(g.point,[.5,.5],f.rotation||0)));o={isBound:!0,hasDecoration:m,binding:g,handle:h,point:I,util:T,target:f,bounds:w,expandedBounds:b,intersectBounds:y,center:T.getCenter(f)}}if(t.handles.end.bindingId){let m=((d=t.decorations)==null?void 0:d.end)!==void 0,h=t.handles.end,g=e.bindings[t.handles.end.bindingId];if(!g)throw Error("Could not find a binding to match the end handle's bindingId");let f=e.shapes[g.toId],T=pe.getShapeUtil(f),w=T.getBounds(f),b=T.getExpandedBounds(f),y=m?Lt.Utils.expandBounds(w,g.distance):w,{minX:P,minY:G,width:M,height:k}=b,I=ge.Vec.add([P,G],ge.Vec.mulV([M,k],ge.Vec.rotWith(g.point,[.5,.5],f.rotation||0)));r={isBound:!0,hasDecoration:m,binding:g,handle:h,point:I,util:T,target:f,bounds:w,expandedBounds:b,intersectBounds:y,center:T.getCenter(f)}}for(let m of["end","start"]){let h=m==="start"?o:r,g=m==="start"?r:o;if(h.isBound)if(!h.binding.distance)n[m].point=ge.Vec.sub(h.point,t.point);else{let f=ge.Vec.uni(ge.Vec.sub(h.point,g.point));switch(h.target.type){case"ellipse":{let T=(0,io.intersectRayEllipse)(g.point,f,h.center,h.target.radius[0]+(h.hasDecoration?h.binding.distance:0),h.target.radius[1]+(h.hasDecoration?h.binding.distance:0),h.target.rotation||0).points.sort((w,b)=>ge.Vec.dist(w,g.point)-ge.Vec.dist(b,g.point));T[0]!==void 0&&(n[m].point=ge.Vec.toFixed(ge.Vec.sub(T[0],t.point)));break}case"triangle":{let T=h.target.point,w=an(h.target.size,h.hasDecoration?16:0,h.target.rotation).map(y=>ge.Vec.add(y,T)),b=Lt.Utils.pointsToLineSegments(w,!0).map(([y,P])=>(0,io.intersectRayLineSegment)(g.point,f,y,P)).filter(y=>y.didIntersect).flatMap(y=>y.points).sort((y,P)=>ge.Vec.dist(y,g.point)-ge.Vec.dist(P,g.point));b[0]!==void 0&&(n[m].point=ge.Vec.toFixed(ge.Vec.sub(b[0],t.point)));break}default:{let T=(0,io.intersectRayBounds)(g.point,f,h.intersectBounds,h.target.rotation).filter(b=>b.didIntersect).map(b=>b.points[0]).sort((b,y)=>ge.Vec.dist(b,g.point)-ge.Vec.dist(y,g.point));if(!T[0])continue;let w;if(g.isBound&&(w=(0,io.intersectRayBounds)(g.point,f,g.intersectBounds,g.target.rotation).filter(y=>y.didIntersect).map(y=>y.points[0]).sort((y,P)=>ge.Vec.dist(y,g.point)-ge.Vec.dist(P,g.point))[0]),g.isBound&&(T.length<2||w&&T[0]&&Math.ceil(ge.Vec.dist(T[0],w))<16*2.5||Lt.Utils.boundsContain(h.expandedBounds,g.expandedBounds)||Lt.Utils.boundsCollide(h.expandedBounds,g.expandedBounds))){let b=ge.Vec.uni(ge.Vec.sub(g.point,h.point)),y=(0,io.intersectRayBounds)(h.point,b,h.bounds,h.target.rotation).filter(P=>P.didIntersect).map(P=>P.points[0]);if(!y[0])continue;n[m].point=ge.Vec.toFixed(ge.Vec.sub(y[0],t.point)),n[m==="start"?"end":"start"].point=ge.Vec.toFixed(ge.Vec.add(ge.Vec.sub(y[0],t.point),ge.Vec.mul(b,Math.min(ge.Vec.dist(y[0],g.point),16*2.5*(Lt.Utils.boundsContain(g.bounds,h.intersectBounds)?-1:1)))))}else if(!g.isBound&&(T[0]&&ge.Vec.dist(T[0],g.point)<16*2.5||Lt.Utils.pointInBounds(g.point,h.intersectBounds))){let b=ge.Vec.uni(ge.Vec.sub(h.center,g.point));return(c=(i=pe.getShapeUtil(t)).onHandleChange)==null?void 0:c.call(i,t,{[m]:x(S({},t.handles[m]),{point:ge.Vec.toFixed(ge.Vec.add(ge.Vec.sub(g.point,t.point),ge.Vec.mul(b,16*2.5)))})})}else T[0]&&(n[m].point=ge.Vec.toFixed(ge.Vec.sub(T[0],t.point)))}}}}return(p=(u=pe.getShapeUtil(t)).onHandleChange)==null?void 0:p.call(u,t,n)}static transform(e,t,n){let o=pe.getShapeUtil(e).transform(e,t,n);return o?S(S({},e),o):e}static transformSingle(e,t,n){let o=pe.getShapeUtil(e).transformSingle(e,t,n);return o?S(S({},e),o):e}static getRotatedShapeMutation(e,t,n,o){var c,u;let r=ge.Vec.sub(t,e.point),a=ge.Vec.rotWith(t,n,o),d=ge.Vec.toFixed(ge.Vec.sub(a,r));if(e.handles!==void 0)return(u=(c=this.getShapeUtil(e)).onHandleChange)==null?void 0:u.call(c,x(S({},e),{point:d}),Object.fromEntries(Object.entries(e.handles).map(([m,h])=>{let g=ge.Vec.toFixed(ge.Vec.rotWith(h.point,r,o));return[m,x(S({},h),{point:g})]})));let i=Lt.Utils.clampRadians((e.rotation||0)+o);return{point:d,rotation:i}}static updateParents(e,t,n){let o=pe.getPage(e,t);if(n.length===0)return;let{shapes:r}=pe.getPage(e,t),a=Array.from(new Set(n.map(d=>r[d].parentId).values())).filter(d=>d!==o.id);for(let d of a){let i=r[d];if(!i.children)throw Error("A shape is parented to a shape without a children array.");pe.onChildrenChange(e,i,t)}pe.updateParents(e,t,a)}static getBinding(e,t,n){return pe.getPage(e,n).bindings[t]}static getBindings(e,t){let n=pe.getPage(e,t);return Object.values(n.bindings)}static getBindableShapeIds(e){return pe.getShapes(e,e.appState.currentPageId).filter(t=>pe.getShapeUtil(t).canBind).sort((t,n)=>n.childIndex-t.childIndex).map(t=>t.id)}static getBindingsWithShapeIds(e,t,n){return Array.from(new Set(pe.getBindings(e,n).filter(o=>t.includes(o.toId)||t.includes(o.fromId))).values())}static getRelatedBindings(e,t,n){let o=new Set(t),r=pe.getPage(e,n),a=Object.values(r.bindings),d=new Set(a.filter(u=>o.has(u.toId)||o.has(u.fromId))),i=d.size,c=-1;for(;c!==0;)d.forEach(u=>{let p=u.fromId;for(let m of a)m.fromId===p&&d.add(m),m.toId===p&&d.add(m)}),c=d.size-i,i=d.size;return Array.from(d.values())}static normalizeText(e){return e.replace(pe.fixNewLines,`
`).split(`
`).map(t=>t||" ").join(`
`)}static assertShapeHasProperty(e,t){if(e[t]===void 0)throw new Error}static warn(e){Rc&&console.warn(e)}static error(e){Rc&&console.error(e)}static getSvgString(e,t=1){let n=e.cloneNode(!0);return e.setAttribute("width",+e.getAttribute("width")*t+""),e.setAttribute("height",+e.getAttribute("height")*t+""),new XMLSerializer().serializeToString(n).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1")}static getSvgAsDataUrl(e,t=1){let n=pe.getSvgString(e,t);return`data:image/svg+xml;base64,${window.btoa(unescape(n))}`}static getImageForSvg(o){return ce(this,arguments,function*(e,t="png",n={}){let{scale:r=2,quality:a=1}=n,d=pe.getSvgString(e,r),i=+e.getAttribute("width"),c=+e.getAttribute("height");if(!d)return;let u=yield new Promise(m=>{let h=new Image;h.crossOrigin="anonymous";let f=`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(d)))}`;h.onload=()=>{let T=document.createElement("canvas"),w=T.getContext("2d");T.width=i,T.height=c,w.drawImage(h,0,0,i,c),URL.revokeObjectURL(f),m(T)},h.onerror=()=>{console.warn("Could not convert that SVG to an image.")},h.src=f});return yield new Promise(m=>u.toBlob(h=>m(h),"image/"+t,a))})}},v=pe;l(v,"copyStringToClipboard",e=>{try{navigator.clipboard&&navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"})})])}catch(t){let n=document.createElement("textarea");n.setAttribute("position","fixed"),n.setAttribute("top","0"),n.setAttribute("readonly","true"),n.setAttribute("contenteditable","true"),n.style.position="fixed",n.value=e,document.body.appendChild(n),n.focus(),n.select();try{let o=document.createRange();o.selectNodeContents(n);let r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(o),n.setSelectionRange(0,n.value.length)),document.execCommand("copy")}catch(o){}finally{document.body.removeChild(n)}}}),l(v,"flattenShape",(e,t)=>{var n;return[t,...((n=t.children)!=null?n:[]).map(o=>pe.getShape(e,o,e.appState.currentPageId)).sort((o,r)=>o.childIndex-r.childIndex).flatMap(o=>pe.flattenShape(e,o))]}),l(v,"flattenPage",(e,t)=>Object.values(e.document.pages[t].shapes).sort((n,o)=>n.childIndex-o.childIndex).reduce((n,o)=>[...n,...pe.flattenShape(e,o)],[])),l(v,"getTopChildIndex",(e,t)=>{let n=pe.getShapes(e,t);return n.length===0?1:n.filter(o=>o.parentId===t).sort((o,r)=>r.childIndex-o.childIndex)[0].childIndex+1}),l(v,"fixNewLines",/\r?\n|\r/g);var Jee=s=>s.room,Lc=function(){let e=ue(),t=e.useStore(Jee),[n,o]=Be.useState(!1),r=Be.useRef(0),a=Be.useCallback(()=>{o(!0),v.copyStringToClipboard(window.location.href),clearTimeout(r.current),r.current=setTimeout(()=>o(!1),1200)},[]),d=Be.useCallback(()=>{o(!0);let u=window.location.href.split("/");u[u.length-2]="v",u[u.length-1]=$r.Utils.lns(u[u.length-1]),v.copyStringToClipboard(u.join("/")),clearTimeout(r.current),r.current=setTimeout(()=>o(!1),1200)},[]),i=Be.useCallback(()=>ce(this,null,function*(){e.isDirty?e.fileSystemHandle?window.confirm("Do you want to save changes to your current project?")&&(yield e.saveProject()):window.confirm("Do you want to save your current project?")&&(yield e.saveProject()):e.fileSystemHandle||window.confirm("Do you want to save your current project?")&&(yield e.saveProject())}),[]),c=Be.useCallback(()=>ce(this,null,function*(){var p;let u=$r.Utils.deepClone(e.document);e.setIsLoading(!0);try{if(e.callbacks.onAssetUpload)for(let h in u.assets){let g=u.assets[h];if(g.src.includes("base64")){let f=Qee(g.src,((p=g.fileName)!=null?p:g.type==="video")?"image.png":"image.mp4"),T=yield e.callbacks.onAssetUpload(e,f,h);T?g.src=T:g.src=""}}let m=yield fetch("/api/create",{method:"POST",mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({roomId:$r.Utils.uniqueId(),pageId:e.currentPageId,document:u})}).then(h=>h.json());(m==null?void 0:m.url)?window.location.href=m.url:v.warn(m==null?void 0:m.message)}catch(m){v.warn(m.message)}e.setIsLoading(!1)}),[]);return Be.createElement(Ac.Root,{dir:"ltr"},Be.createElement(hr,{id:"TD-MultiplayerMenuIcon",isActive:!!t},Be.createElement(Ed,null)),Be.createElement(Bt,{variant:"menu",id:"TD-MultiplayerMenu",side:"bottom",align:"start",sideOffset:4},Be.createElement(xe,{id:"TD-Multiplayer-CopyInviteLink",onClick:a,disabled:!t},Be.createElement(Ds.FormattedMessage,{id:"copy.invite.link"}),Be.createElement(ft,null,n?Be.createElement(Jo.CheckIcon,null):Be.createElement(Jo.ClipboardIcon,null))),Be.createElement(xe,{id:"TD-Multiplayer-CopyReadOnlyLink",onClick:d,disabled:!t},Be.createElement(Ds.FormattedMessage,{id:"copy.readonly.link"}),Be.createElement(ft,null,n?Be.createElement(Jo.CheckIcon,null):Be.createElement(Jo.ClipboardIcon,null))),Be.createElement(Pe,null),Be.createElement(xe,{id:"TD-Multiplayer-CreateMultiplayerProject",onClick:i},Be.createElement("a",{href:"https://tldraw.com/r"},Be.createElement(Ds.FormattedMessage,{id:"create.multiplayer.project"}))),Be.createElement(xe,{id:"TD-Multiplayer-CopyToMultiplayerProject",onClick:c},Be.createElement(Ds.FormattedMessage,{id:"copy.multiplayer.project"}))))};function Qee(s,e){var d,i;let t=s.split(","),n=(i=(d=t[0])==null?void 0:d.match(/:(.*?);/))==null?void 0:i[1],o=window.atob(t[1]),r=o.length,a=new Uint8Array(r);for(;r--;)a[r]=o.charCodeAt(r);return new File([a],e,{type:n})}var Xt=z(require("@radix-ui/react-dropdown-menu")),Wr=require("@radix-ui/react-icons"),we=z(require("react")),Ps=require("react-intl");var Ht=z(require("@radix-ui/react-alert-dialog")),Nr=require("@radix-ui/react-icons"),ke=z(require("react")),Qo=require("react-intl");var ete=s=>Object.keys(s.document.pages).length>1;function zc({page:s,onOpen:e,onClose:t}){let n=ue(),o=(0,Qo.useIntl)(),[r,a]=ke.useState(!1),[d,i]=ke.useState(s.name||"Page"),c=n.useStore(ete),u=ke.useRef(null),p=ke.useCallback(()=>{a(!1)},[]),m=ke.useCallback(()=>{n.duplicatePage(s.id)},[n]),h=ke.useCallback(()=>{window.confirm("Are you sure you want to delete this page?")&&n.deletePage(s.id)},[n]),g=ke.useCallback(M=>{if(a(M),M){e==null||e();return}},[n]);function f(M){M.stopPropagation()}let T=ke.useRef(s.name||"Page"),w=ke.useRef(T.current),b=ke.useCallback(M=>{let k=M.target.value.trimStart();w.current=k,i(k)},[]),y=ke.useCallback(M=>{switch(M.key){case"Enter":{w.current===T.current||(T.current=w.current,n.renamePage(s.id,w.current.trim())),a(!1);break}case"Escape":{if(w.current===T.current){a(!1);return}w.current=T.current,i(T.current),requestAnimationFrame(()=>{let k=u.current;k&&(k.focus(),k.setSelectionRange(0,k.value.length))});break}}},[]),P=ke.useRef(!1);ke.useEffect(()=>(r?(P.current=!0,T.current=s.name||"Page",w.current=T.current,requestAnimationFrame(()=>{let M=u.current;M&&(M.focus(),M.setSelectionRange(0,M.value.length))})):P.current&&(t==null||t()),()=>{w.current!==T.current&&(T.current=w.current,n.renamePage(s.id,w.current))}),[r]);let G=jt();return ke.createElement(Ht.Root,{open:r,onOpenChange:g},ke.createElement(Ht.Trigger,{asChild:!0,"data-shy":"true"},ke.createElement(Ao,{bp:nt},ke.createElement(ft,null,ke.createElement(Nr.MixerVerticalIcon,null)))),ke.createElement(Ht.Portal,{container:G.current},ke.createElement(nte,{onPointerDown:p}),ke.createElement(tte,{dir:"ltr",onKeyDown:f,onKeyUp:f},ke.createElement(cr,{ref:u,placeholder:o.formatMessage({id:"page.name"}),value:d,onChange:b,onKeyDown:y,icon:ke.createElement(Nr.Pencil1Icon,null)}),ke.createElement(Pe,null),ke.createElement(Hc,{onSelect:m},ke.createElement(Qo.FormattedMessage,{id:"duplicate"})),ke.createElement(Hc,{disabled:!c,onSelect:h},ke.createElement(Qo.FormattedMessage,{id:"delete"})),ke.createElement(Pe,null),ke.createElement(Ht.Cancel,{asChild:!0},ke.createElement(Ve,null,ke.createElement(Qo.FormattedMessage,{id:"cancel"}))))))}var tte=E(Ht.Content,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:240,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$1",borderRadius:"$2",font:"$ui",zIndex:999999,"&:focus":{outline:"none"}}),nte=E(Ht.Overlay,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0,zIndex:999998});function Hc(t){var n=t,{onSelect:s}=n,e=tt(n,["onSelect"]);return ke.createElement(Ht.Action,{asChild:!0,onClick:s,onSelect:s},ke.createElement(Ve,S({},e)))}var ote=s=>Object.values(s.document.pages).sort((e,t)=>(e.childIndex||0)-(t.childIndex||0)),ste=s=>s.document.pages[s.appState.currentPageId].name,rte=s=>s.document.pages[s.appState.currentPageId].id;function Oc(){let s=ue(),e=(0,Ps.useIntl)(),t=we.useRef(!1),[n,o]=we.useState(!1);we.useEffect(()=>{t.current!==n&&(t.current=n)},[n]);let r=we.useCallback(()=>{o(!1)},[o]),a=we.useCallback(i=>{t.current!==i&&o(i)},[o]),d=s.useStore(ste);return we.createElement(Xt.Root,{dir:"ltr",open:n,onOpenChange:a},we.createElement(Xt.Trigger,{dir:"ltr",asChild:!0,id:"TD-Page"},we.createElement(ve,{variant:"text"},d||e.formatMessage({id:"page"}))),we.createElement(Bt,{variant:"menu",align:"start",sideOffset:4},n&&we.createElement(ite,{onClose:r})))}function ite({onClose:s}){let e=ue(),t=(0,Ps.useIntl)(),n=e.useStore(ote),o=e.useStore(rte),r=t.formatMessage({id:"page"}),a=we.useCallback(()=>{let f=r+" "+(Object.keys(e.document.pages).length+1);e.createPage(void 0,f)},[e]),d=we.useCallback(f=>{s(),e.changePage(f)},[e]),[i,c]=we.useState(null),[u,p]=we.useState(null),m=we.useCallback(f=>{c(f.currentTarget.id),p(n.findIndex(T=>T.id===f.currentTarget.id)),f.dataTransfer.effectAllowed="move"},[]),h=we.useCallback(f=>{f.preventDefault();let T=n.findIndex(y=>y.id===f.currentTarget.id),w=f.currentTarget.getBoundingClientRect();T=(f.clientY-w.top)/w.height<.5?T:T+1,p(T)},[i,n]),g=we.useCallback(()=>{i!==null&&u!==null&&e.movePage(i,u),c(null),p(null)},[i,u]);return we.createElement(we.Fragment,null,we.createElement(Xt.RadioGroup,{dir:"ltr",value:o,onValueChange:d},n.map((f,T)=>we.createElement(ate,{key:f.id,isDropAbove:T===u&&T===0,isDropBelow:u!==null&&T===u-1},we.createElement(Xt.RadioItem,{title:f.name||r,value:f.id,key:f.id,id:f.id,asChild:!0,onDragOver:h,onDragStart:m,onDrop:g,draggable:!0},we.createElement(lte,null,we.createElement("span",{id:f.id},f.name||r),we.createElement(Xt.ItemIndicator,null,we.createElement(ft,null,we.createElement(Wr.CheckIcon,null))))),we.createElement(zc,{page:f,onClose:s})))),we.createElement(Pe,null),we.createElement(Xt.Item,{onSelect:a,asChild:!0},we.createElement(Ve,null,we.createElement("span",null,we.createElement(Ps.FormattedMessage,{id:"create.page"})),we.createElement(ft,null,we.createElement(Wr.PlusIcon,null)))))}var ate=E("div",{position:"relative",display:"grid",gridTemplateColumns:"1fr auto",gridAutoFlow:"column",margin:0,'& > *[data-shy="true"]':{opacity:0},'&:hover > *[data-shy="true"]':{opacity:1},variants:{isDropAbove:{true:{"&::after":{content:"",display:"block",position:"absolute",top:0,width:"100%",height:"1px",backgroundColor:"$selected",zIndex:999,pointerEvents:"none"}}},isDropBelow:{true:{"&::after":{content:"",display:"block",position:"absolute",width:"100%",height:"1px",top:"100%",backgroundColor:"$selected",zIndex:999,pointerEvents:"none"}}}}}),lte=E(Ve,{minWidth:128});var ao=z(require("@radix-ui/react-dropdown-menu")),lo=require("@radix-ui/react-icons"),de=z(require("react")),cn=require("react-intl");var dte=s=>s.appState.currentStyle,cte=s=>s.document.pageStates[s.appState.currentPageId].selectedIds,pte=Object.keys(Wo),Fc={["draw"]:de.createElement(ed,null),["solid"]:de.createElement(td,null),["dashed"]:de.createElement(Jl,null),["dotted"]:de.createElement(Ql,null)},ute={["small"]:de.createElement(od,null),["medium"]:de.createElement(sd,null),["large"]:de.createElement(rd,null)},hte={["start"]:de.createElement(lo.TextAlignLeftIcon,null),["middle"]:de.createElement(lo.TextAlignCenterIcon,null),["end"]:de.createElement(lo.TextAlignRightIcon,null),["justify"]:de.createElement(lo.TextAlignJustifyIcon,null)},mte=s=>s.settings.isDarkMode?"dark":"light",gte=s=>s.settings.keepStyleMenuOpen,fte=s=>{let{activeTool:e,currentPageId:t}=s.appState;switch(e){case"select":{let n=s.document.pages[t],o=!1,r=!1;for(let a of s.document.pageStates[t].selectedIds)"text"in n.shapes[a]&&(o=!0),"label"in n.shapes[a]&&(r=!0);return o?"text":r?"label":""}case"text":return"text";case"rectangle":return"label";case"ellipse":return"label";case"triangle":return"label";case"arrow":return"label";case"line":return"label"}return!1},jc=de.memo(function(){let e=ue(),t=(0,cn.useIntl)(),n=e.useStore(mte),o=e.useStore(gte),r=e.useStore(fte),a=e.useStore(dte),d=e.useStore(cte),[i,c]=de.useState(a),u=de.useRef(a);de.useEffect(()=>{let{appState:{currentStyle:b},page:y,selectedIds:P}=e,G={};if(P.length<=0)G=b;else{let M=new Set([]);e.selectedIds.map(k=>y.shapes[k]).forEach(k=>{pte.forEach(I=>{if(!M.has(I))if(G[I]===void 0)G[I]=k.style[I];else{if(G[I]===k.style[I])return;G[I]=k.style[I],M.add(I)}})})}JSON.stringify(G)!==JSON.stringify(u.current)&&(u.current=G,c(G))},[a,d]);let p=de.useCallback(b=>{e.setSetting("keepStyleMenuOpen",b)},[]),m=de.useCallback(b=>{e.style({isFilled:b})},[]),h=de.useCallback(b=>{e.style({dash:b})},[]),g=de.useCallback(b=>{e.style({size:b})},[]),f=de.useCallback(b=>{e.style({font:b})},[]),T=de.useCallback(b=>{e.style({textAlign:b})},[]),w=de.useCallback(b=>{e.setMenuOpen(b)},[e]);return de.createElement(ao.Root,{dir:"ltr",onOpenChange:w,open:o?!0:void 0,modal:!1},de.createElement(ao.Trigger,{asChild:!0,id:"TD-Styles"},de.createElement(ve,{"aria-label":t.formatMessage({id:"styles"}),variant:"text"},de.createElement(cn.FormattedMessage,{id:"styles"}),de.createElement(bte,{style:{color:No[n][i.color]}},i.isFilled&&de.createElement(Ti,{size:16,stroke:"none",fill:wr[n][i.color]}),Fc[i.dash]))),de.createElement(Bt,{id:"TD-StylesMenu",side:"bottom",align:"end",sideOffset:4,alignOffset:4},de.createElement(Ms,{variant:"tall",id:"TD-Styles-Color-Container"},de.createElement("span",null,de.createElement(cn.FormattedMessage,{id:"style.menu.color"})),de.createElement(Ste,null,Object.keys(No.light).map(b=>de.createElement(ao.Item,{key:b,onSelect:Le,asChild:!0,id:`TD-Styles-Color-Swatch-${b}`},de.createElement(ve,{variant:"icon",isActive:i.color===b,onClick:()=>e.style({color:b}),"aria-label":t.formatMessage({id:b})},de.createElement(Ti,{size:18,strokeWidth:2.5,fill:i.isFilled?wr[n][b]:"transparent",stroke:No.light[b]})))))),de.createElement(Et,{variant:"styleMenu",checked:!!i.isFilled,onCheckedChange:m,id:"TD-Styles-Fill"},de.createElement(cn.FormattedMessage,{id:"style.menu.fill"})),de.createElement(Ms,{id:"TD-Styles-Dash-Container"},de.createElement(cn.FormattedMessage,{id:"style.menu.dash"}),de.createElement(Kr,{dir:"ltr",value:i.dash,onValueChange:h},Object.values(gn).map(b=>de.createElement(Ss,{key:b,isActive:b===i.dash,value:b,onSelect:Le,bp:nt,id:`TD-Styles-Dash-${b}`,"aria-label":t.formatMessage({id:b})},Fc[b])))),de.createElement(Ms,{id:"TD-Styles-Size-Container"},de.createElement(cn.FormattedMessage,{id:"style.menu.size"}),de.createElement(Kr,{dir:"ltr",value:i.size,onValueChange:g},Object.values(gs).map(b=>de.createElement(Ss,{key:b,isActive:b===i.size,value:b,onSelect:Le,bp:nt,id:`TD-Styles-Dash-${b}`,"aria-label":t.formatMessage({id:b})},ute[b])))),(r==="text"||r==="label")&&de.createElement(de.Fragment,null,de.createElement(Pe,null),de.createElement(Ms,{id:"TD-Styles-Font-Container"},de.createElement(cn.FormattedMessage,{id:"style.menu.font"}),de.createElement(Kr,{dir:"ltr",value:i.font,onValueChange:f},Object.values(Eo).map(b=>de.createElement(Ss,{key:b,isActive:b===i.font,value:b,onSelect:Le,bp:nt,id:`TD-Styles-Font-${b}`},de.createElement(Tte,{fontStyle:b},"Aa"))))),r==="text"&&de.createElement(Ms,{id:"TD-Styles-Align-Container"},de.createElement(cn.FormattedMessage,{id:"style.menu.align"}),de.createElement(Kr,{dir:"ltr",value:i.textAlign,onValueChange:T},Object.values(Ft).map(b=>de.createElement(Ss,{key:b,isActive:b===i.textAlign,value:b,onSelect:Le,bp:nt,id:`TD-Styles-Align-${b}`},hte[b]))))),de.createElement(Pe,null),de.createElement(Et,{variant:"styleMenu",checked:o,onCheckedChange:p,id:"TD-Styles-Keep-Open"},de.createElement(cn.FormattedMessage,{id:"style.menu.keep.open"}))))}),Ste=E("div",{display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:0}),Ms=E("div",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",minHeight:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",padding:"$2 0 $2 $3",borderRadius:4,userSelect:"none",margin:0,display:"flex",gap:"$3",flexDirection:"row",alignItems:"center",justifyContent:"space-between",variants:{variant:{tall:{alignItems:"flex-start",padding:"0 0 0 $3","& > span":{paddingTop:"$4"}}}}}),Kr=E(ao.DropdownMenuRadioGroup,{display:"flex",flexDirection:"row",gap:"$1"}),bte=E("div",{display:"grid","& > *":{gridColumn:1,gridRow:1}}),Tte=E("div",{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"$3",variants:{fontStyle:{["script"]:{fontFamily:"Caveat Brush"},["sans"]:{fontFamily:"Recursive"},["serif"]:{fontFamily:"Georgia"},["mono"]:{fontFamily:"Recursive Mono"}}}});var Ur=z(require("@radix-ui/react-dropdown-menu")),Pt=z(require("react")),es=require("react-intl");var yte=s=>s.document.pageStates[s.appState.currentPageId].camera.zoom,Vc=function(){let e=ue(),t=e.useStore(yte);return Pt.createElement(Ur.Root,{dir:"ltr"},Pt.createElement(Ur.Trigger,{dir:"ltr",asChild:!0,id:"TD-Zoom"},Pt.createElement(wte,{onDoubleClick:e.resetZoom,variant:"text"},Math.round(t*100),"%")),Pt.createElement(Bt,{align:"end"},Pt.createElement(xe,{onSelect:Le,onClick:e.zoomIn,kbd:"#+",id:"TD-Zoom-Zoom_In"},Pt.createElement(es.FormattedMessage,{id:"zoom.in"})),Pt.createElement(xe,{onSelect:Le,onClick:e.zoomOut,kbd:"#\u2212",id:"TD-Zoom-Zoom_Out"},Pt.createElement(es.FormattedMessage,{id:"zoom.out"})),Pt.createElement(xe,{onSelect:Le,onClick:e.resetZoom,kbd:"\u21E70",id:"TD-Zoom-Zoom_To_100%"},Pt.createElement(es.FormattedMessage,{id:"zoom.to"})," 100%"),Pt.createElement(xe,{onSelect:Le,onClick:e.zoomToFit,kbd:"\u21E71",id:"TD-Zoom-To_Fit"},Pt.createElement(es.FormattedMessage,{id:"zoom.to.fit"})),Pt.createElement(xe,{onSelect:Le,onClick:e.zoomToSelection,kbd:"\u21E72",id:"TD-Zoom-To_Selection"},Pt.createElement(es.FormattedMessage,{id:"zoom.to.selection"}))))},wte=E(ve,{minWidth:56});function xte({readOnly:s,showPages:e,showMenu:t,showStyles:n,showZoom:o,showMultiplayerMenu:r}){let a=ue(),d=(0,Gc.useIntl)();return ct.createElement(vte,null,(t||e)&&ct.createElement(mo,{side:"left",id:"TD-MenuPanel"},t&&ct.createElement(Md,{readOnly:s}),r&&ct.createElement(Lc,null),e&&ct.createElement(Oc,null)),ct.createElement(kte,null),(n||o)&&ct.createElement(mo,{side:"right"},a.readOnly?ct.createElement(Ite,null,"Read Only"):ct.createElement(ct.Fragment,null,ct.createElement(tn,{kbd:"#Z",label:d.formatMessage({id:"undo"}),onClick:a.undo,id:"TD-TopPanel-Undo"},ct.createElement(Ii,null)),ct.createElement(tn,{kbd:"#\u21E7Z",label:d.formatMessage({id:"redo"}),onClick:a.redo,id:"TD-TopPanel-Redo"},ct.createElement(Ii,{flipHorizontal:!0}))),o&&ct.createElement(Vc,null),n&&!s&&ct.createElement(jc,null)))}var vte=E("div",{width:"100%",position:"absolute",top:0,left:0,right:0,display:"flex",flexDirection:"row",pointerEvents:"none","& > *":{pointerEvents:"all"}}),kte=E("div",{flexGrow:2,pointerEvents:"none"}),Ite=E("div",{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",fontSize:"$1",paddingLeft:"$4",paddingRight:"$1",userSelect:"none"}),$c=ct.memo(xte);var Nc=z(require("react"));function Wc(s){Nc.default.useEffect(()=>{let e=!1,t=!1,n=s.current;if(!n)return;let o=i=>{i.key===" "&&!t&&(t=!0,e?n.setAttribute("style","cursor: grabbing !important"):n.setAttribute("style","cursor: grab !important"))},r=i=>{i.key===" "&&(t=!1,n.setAttribute("style","cursor: initial"))},a=i=>{e=!0,i.button===1&&n.setAttribute("style","cursor: grabbing !important"),i.button===0&&t&&n.setAttribute("style","cursor: grabbing !important")},d=()=>{e=!1,t?n.setAttribute("style","cursor: grab !important"):n.setAttribute("style","cursor: initial")};return n.addEventListener("keydown",o),n.addEventListener("keyup",r),n.addEventListener("pointerdown",a),n.addEventListener("pointerup",d),()=>{n.removeEventListener("keydown",o),n.removeEventListener("keyup",r),n.removeEventListener("pointerdown",a),n.removeEventListener("pointerup",d)}},[s.current])}var It=require("@tldraw/core"),Te=require("@tldraw/vec");var Es=require("idb-keyval"),Kc="tldraw_clipboard";function Uc(){return ce(this,null,function*(){return(0,Es.get)(Kc)})}function _c(s){return ce(this,null,function*(){return(0,Es.set)(Kc,s)})}var Yc=require("@tldraw/core"),yo=z(require("idb-keyval")),Zc=z(require("zustand")),Xc=z(require("zustand/vanilla"));var pa=class{constructor(e,t,n,o){l(this,"_idbId");l(this,"initialState");l(this,"store");l(this,"pointer",-1);l(this,"_state");l(this,"_status","loading");l(this,"stack",[]);l(this,"_snapshot");l(this,"useStore");l(this,"ready");l(this,"isPaused",!1);l(this,"persist",(e,t)=>{if(this._status==="ready"&&(this.onPersist&&this.onPersist(this._state,e,t),this._idbId))return yo.set(this._idbId,this._state).catch(n=>console.error(n))});l(this,"applyPatch",(e,t)=>{let n=this._state,o=Yc.Utils.deepMerge(this._state,e),r=this.cleanup(o,n,e,t);return this.onStateWillChange&&this.onStateWillChange(r,t),this._state=r,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,t),this});l(this,"migrate",e=>e);l(this,"cleanup",(e,t,n,o)=>e);l(this,"onStateWillChange");l(this,"onStateDidChange");l(this,"patchState",(e,t)=>(this.applyPatch(e,t),this.onPatch&&this.onPatch(this._state,e,t),this));l(this,"replaceState",(e,t)=>{let n=this.cleanup(e,this._state,e,t);return this.onStateWillChange&&this.onStateWillChange(n,"replace"),this._state=n,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,"replace"),this});l(this,"setState",(e,t=e.id)=>(this.pointer<this.stack.length-1&&(this.stack=this.stack.slice(0,this.pointer+1)),this.stack.push(x(S({},e),{id:t})),this.pointer=this.stack.length-1,this.applyPatch(e.after,t),this.onCommand&&this.onCommand(this._state,e,t),this.persist(e.after,t),this));l(this,"onReady");l(this,"onPatch");l(this,"onCommand");l(this,"onPersist");l(this,"onReplace");l(this,"onReset");l(this,"onResetHistory");l(this,"onUndo");l(this,"onRedo");l(this,"reset",()=>(this.onStateWillChange&&this.onStateWillChange(this.initialState,"reset"),this._state=this.initialState,this.store.setState(this._state,!0),this.resetHistory(),this.persist({},"reset"),this.onStateDidChange&&this.onStateDidChange(this._state,"reset"),this.onReset&&this.onReset(this._state),this));l(this,"replaceHistory",(e,t=e.length-1)=>(this.stack=e,this.pointer=t,this.onReplace&&this.onReplace(this._state),this));l(this,"resetHistory",()=>(this.stack=[],this.pointer=-1,this.onResetHistory&&this.onResetHistory(this._state),this));l(this,"undo",()=>{if(!this.isPaused){if(!this.canUndo)return this;let e=this.stack[this.pointer];this.pointer--,this.applyPatch(e.before,"undo"),this.persist(e.before,"undo")}return this.onUndo&&this.onUndo(this._state),this});l(this,"redo",()=>{if(!this.isPaused){if(!this.canRedo)return this;this.pointer++;let e=this.stack[this.pointer];this.applyPatch(e.after,"redo"),this.persist(e.after,"undo")}return this.onRedo&&this.onRedo(this._state),this});l(this,"setSnapshot",()=>(this._snapshot=S({},this._state),this));l(this,"forceUpdate",()=>{this.store.setState(this._state,!0)});this._idbId=t,this._state=yt(e),this._snapshot=yt(e),this.initialState=yt(e),this.store=(0,Xc.default)(()=>this._state),this.useStore=(0,Zc.default)(this.store),this.ready=new Promise(r=>{let a="none";this._idbId?(a="restored",yo.get(this._idbId).then(d=>ce(this,null,function*(){if(d){let i=d;if(n){let u=yield yo.get(t+"_version");u&&u<n&&(i=o?o(d,e,u):e,a="migrated")}yield yo.set(t+"_version",n||-1);let c=this._state.appState.isEmptyCanvas;i=this.migrate(i),this._state=yt(i),this._snapshot=yt(i),this._state.appState.isEmptyCanvas=c,this.store.setState(this._state,!0)}else yield yo.set(t+"_version",n||-1);this._status="ready",r(a)})).catch(d=>console.error(d))):(this._status="ready",r(a))}).then(r=>(this.onReady&&this.onReady(r),r))}pause(){this.isPaused=!0}resume(){this.isPaused=!1}get canUndo(){return this.pointer>-1}get canRedo(){return this.pointer<this.stack.length-1}get state(){return this._state}get status(){return this._status}get snapshot(){return this._snapshot}};var qc=require("@tldraw/core"),ua=require("@tldraw/vec");function Jc(s,e,t){let{currentPageId:n}=s,o=e.map(m=>s.getShape(m)),r=o.map(m=>({id:m.id,point:[...m.point],bounds:v.getBounds(m)})),a=qc.Utils.getCommonBounds(r.map(({bounds:m})=>m)),d=a.minX+a.width/2,i=a.minY+a.height/2,c=Object.fromEntries(r.map(({id:m,point:h,bounds:g})=>[m,{prev:h,next:{["top"]:[h[0],a.minY],["centerVertical"]:[h[0],i-g.height/2],["bottom"]:[h[0],a.maxY-g.height],["left"]:[a.minX,h[1]],["centerHorizontal"]:[d-g.width/2,h[1]],["right"]:[a.maxX-g.width,h[1]]}[t]}])),{before:u,after:p}=v.mutateShapes(s.state,e,m=>c[m.id]?{point:c[m.id].next}:m,n,!1);return o.forEach(m=>{if(m.type==="group"){let h=ua.Vec.sub(p[m.id].point,u[m.id].point);m.children.forEach(g=>{let f=s.getShape(g);u[f.id]={point:f.point},p[f.id]={point:ua.Vec.add(f.point,h)}}),delete u[m.id],delete p[m.id]}}),{id:"align",before:{document:{pages:{[n]:{shapes:u}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:p}},pageStates:{[n]:{selectedIds:e}}}}}}function Qc(s,e){return{id:"change_page",before:{appState:{currentPageId:s.currentPageId}},after:{appState:{currentPageId:e}}}}var np=require("@tldraw/core");function ep(s,e){var o;let t=s,n=new Set(e);for(;n.has(t);)t=((o=/^.*(\d+)$/.exec(t))==null?void 0:o[1])?t.replace(/(\d+)(?=\D?)$/,r=>(+r+1).toString()):`${t} 1`;return t}function tp(s,e,t){let n={shapes:{},bindings:{}},o={shapes:{},bindings:{}},r=[],a=new Set,d=new Set;e.filter(c=>!v.getShape(s,c,t).isLocked).forEach(c=>{a.add(c);let u=v.getShape(s,c,t);n.shapes[c]=u,o.shapes[c]=void 0,u.children!==void 0&&u.children.forEach(p=>{a.add(p);let m=v.getShape(s,p,t);n.shapes[p]=m,o.shapes[p]=void 0}),u.parentId!==t&&r.push(v.getShape(s,u.parentId,t)),u.assetId&&d.add(u.assetId)}),r.forEach(c=>{var u;e.includes(c.id)||(a.add(c.id),n.shapes[c.id]={children:c.children},o.shapes[c.id]={children:c.children.filter(p=>!e.includes(p))},((u=o.shapes[c.id])==null?void 0:u.children.length)===0&&(o.shapes[c.id]=void 0,n.shapes[c.id]=v.getShape(s,c.id,t)))});let i=v.getPage(s,t);return Object.values(i.bindings).filter(c=>a.has(c.fromId)||a.has(c.toId)).forEach(c=>{for(let u of[c.toId,c.fromId])if(o.shapes[u]===void 0){n.bindings[c.id]=c,o.bindings[c.id]=void 0;let p=i.shapes[u];p&&p.handles&&Object.values(p.handles).filter(m=>m.bindingId===c.id).forEach(m=>{var h,g,f,T,w,b;n.shapes[u]=x(S({},n.shapes[u]),{handles:x(S({},(h=n.shapes[u])==null?void 0:h.handles),{[m.id]:x(S({},(f=(g=n.shapes[u])==null?void 0:g.handles)==null?void 0:f[m.id]),{bindingId:c.id})})}),a.has(u)||(o.shapes[u]=x(S({},o.shapes[u]),{handles:x(S({},(T=o.shapes[u])==null?void 0:T.handles),{[m.id]:x(S({},(b=(w=o.shapes[u])==null?void 0:w.handles)==null?void 0:b[m.id]),{bindingId:void 0})})}))})}}),Object.values(s.document.pages).flatMap(c=>Object.values(c.shapes)).forEach(c=>{"assetId"in c&&c.assetId&&!a.has(c.id)&&d.delete(c.assetId)}),{before:n,after:o,assetsToRemove:Array.from(d)}}function op(s,e,t=np.Utils.uniqueId(),n="Page"){let{currentPageId:o}=s,r=Object.values(s.state.document.pages).sort((u,p)=>{var m,h;return((m=u.childIndex)!=null?m:0)-((h=p.childIndex)!=null?h:0)}),a=r[r.length-1],d=(a==null?void 0:a.childIndex)?(a==null?void 0:a.childIndex)+1:1,i={id:t,name:ep(n,r.map(u=>{var p;return(p=u.name)!=null?p:""})),childIndex:d,shapes:{},bindings:{}},c={id:t,selectedIds:[],camera:{point:e,zoom:1},editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0};return{id:"create_page",before:{appState:{currentPageId:o},document:{pages:{[t]:void 0},pageStates:{[t]:void 0}}},after:{appState:{currentPageId:i.id},document:{pages:{[t]:i},pageStates:{[t]:c}}}}}function ha(s,e,t=[]){let{currentPageId:n}=s,o={},r={};e.forEach(i=>{o[i.id]=void 0,r[i.id]=i});let a={},d={};return t.forEach(i=>{a[i.id]=void 0,d[i.id]=i}),{id:"create",before:{document:{pages:{[n]:{shapes:o,bindings:a}},pageStates:{[n]:{selectedIds:[...s.selectedIds]}}}},after:{document:{pages:{[n]:{shapes:r,bindings:d}},pageStates:{[n]:{selectedIds:e.map(i=>i.id)}}}}}}function sp(s,e){let{currentPageId:t,document:{pages:n,pageStates:o}}=s,r=Object.values(n).sort((i,c)=>(i.childIndex||0)-(c.childIndex||0)),a=r.findIndex(i=>i.id===e),d;return e===t?a===r.length-1?d=r[r.length-2].id:d=r[a+1].id:d=t,{id:"delete_page",before:{appState:{currentPageId:e},document:{pages:{[e]:S({},n[e])},pageStates:{[e]:S({},o[e])}}},after:{appState:{currentPageId:d},document:{pages:{[e]:void 0},pageStates:{[e]:void 0}}}}}var Cte=(s,e)=>{let t=S({},s);return e.forEach(n=>t[n]=void 0),t};function ma(s,e,t=s.currentPageId){let{pageState:n,selectedIds:o,document:{assets:r}}=s,{before:a,after:d,assetsToRemove:i}=tp(s.state,e,t),c=Cte(r,i);return{id:"delete",before:{document:{assets:r,pages:{[t]:a},pageStates:{[t]:{selectedIds:[...s.selectedIds]}}}},after:{document:{assets:c,pages:{[t]:d},pageStates:{[t]:{selectedIds:o.filter(u=>!e.includes(u)),hoveredId:n.hoveredId&&e.includes(n.hoveredId)?void 0:n.hoveredId}}}}}}var rp=require("@tldraw/core"),ga=z(require("@tldraw/vec"));function ip(s,e,t){let{currentPageId:n}=s,o=e.map(i=>s.getShape(i)),r=Object.fromEntries(Dte(o,t).map(i=>[i.id,i])),{before:a,after:d}=v.mutateShapes(s.state,e.filter(i=>r[i]!==void 0),i=>{var c;return{point:(c=r[i.id])==null?void 0:c.next}},n);return o.forEach(i=>{if(i.type==="group"){let c=ga.default.sub(d[i.id].point,a[i.id].point);i.children.forEach(u=>{let p=s.getShape(u);a[p.id]={point:p.point},d[p.id]={point:ga.default.add(p.point,c)}}),delete a[i.id],delete d[i.id]}}),{id:"distribute",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:e}}}}}}function Dte(s,e){let t=s.map(a=>{let d=v.getShapeUtil(a);return{id:a.id,point:[...a.point],bounds:d.getBounds(a),center:d.getCenter(a)}}),n=t.length,o=rp.Utils.getCommonBounds(t.map(({bounds:a})=>a)),r=[];switch(e){case"horizontal":{let a=t.reduce((d,i)=>d+i.bounds.width,0);if(a>o.width){let d=t.sort((m,h)=>m.bounds.minX-h.bounds.minX)[0],i=t.sort((m,h)=>h.bounds.maxX-m.bounds.maxX)[0],c=t.filter(m=>m!==d&&m!==i).sort((m,h)=>m.center[0]-h.center[0]),u=(i.center[0]-d.center[0])/(n-1),p=d.center[0]+u;c.forEach(({id:m,point:h,bounds:g},f)=>{r.push({id:m,prev:h,next:[p+u*f-g.width/2,g.minY]})})}else{let d=t.sort((u,p)=>u.center[0]-p.center[0]),i=o.minX,c=(o.width-a)/(n-1);d.forEach(({id:u,point:p,bounds:m})=>{r.push({id:u,prev:p,next:[i,m.minY]}),i+=m.width+c})}break}case"vertical":{let a=t.reduce((d,i)=>d+i.bounds.height,0);if(a>o.height){let d=t.sort((m,h)=>m.bounds.minY-h.bounds.minY)[0],i=t.sort((m,h)=>h.bounds.maxY-m.bounds.maxY)[0],c=t.filter(m=>m!==d&&m!==i).sort((m,h)=>m.center[1]-h.center[1]),u=(i.center[1]-d.center[1])/(n-1),p=d.center[1]+u;c.forEach(({id:m,point:h,bounds:g},f)=>{r.push({id:m,prev:h,next:[g.minX,p+u*f-g.height/2]})})}else{let d=t.sort((u,p)=>u.center[1]-p.center[1]),i=o.minY,c=(o.height-a)/(n-1);d.forEach(({id:u,point:p,bounds:m})=>{r.push({id:u,prev:p,next:[m.minX,i]}),i+=m.height+c})}break}}return r}var ts=require("@tldraw/core");function ap(s,e){let{currentPageId:t,pageState:{camera:n}}=s,o=s.document.pages[e],r=ts.Utils.uniqueId(),a=Object.fromEntries([[o.id,r],...Object.keys(o.shapes).map(u=>[u,ts.Utils.uniqueId()]),...Object.keys(o.bindings).map(u=>[u,ts.Utils.uniqueId()])]),d=Object.fromEntries(Object.entries(o.shapes).map(([u,p])=>[a[u],x(S({},ts.Utils.deepClone(p)),{id:a[u],parentId:a[p.parentId]})])),i=Object.fromEntries(Object.entries(o.bindings).map(([u,p])=>[a[u],x(S({},ts.Utils.deepClone(p)),{id:a[p.id],fromId:a[p.fromId],toId:a[p.toId]})]));Object.values(o.bindings).forEach(u=>{let p=a[u.fromId],m=d[p].handles;m&&Object.values(m).forEach(f=>{f.bindingId===u.id&&(f.bindingId=a[u.id])});let h=a[u.toId],g=d[h].handles;g&&Object.values(g).forEach(f=>{f.bindingId===u.id&&(f.bindingId=a[u.id])})});let c=x(S({},o),{id:a[o.id],name:o.name+" Copy",shapes:d,bindings:i});return{id:"duplicate_page",before:{appState:{currentPageId:t},document:{pages:{[r]:void 0},pageStates:{[r]:void 0}}},after:{appState:{currentPageId:r},document:{pages:{[r]:c},pageStates:{[r]:x(S({},o),{id:r,selectedIds:[],camera:S({},n),editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0})}}}}}var Wn=require("@tldraw/core"),_r=require("@tldraw/vec");function lp(s,e,t){let{selectedIds:n,currentPageId:o,page:r,shapes:a}=s,d={shapes:{},bindings:{}},i={shapes:{},bindings:{}},c={},u=e.map(h=>s.getShape(h)).filter(h=>!e.includes(h.parentId));u.forEach(h=>{let g=Wn.Utils.uniqueId();if(d.shapes[g]=void 0,i.shapes[g]=x(S({},Wn.Utils.deepClone(h)),{id:g,childIndex:v.getChildIndexAbove(s.state,h.id,o)}),h.children&&(i.shapes[g].children=[]),h.parentId!==o){let f=s.getShape(h.parentId);d.shapes[f.id]=x(S({},d.shapes[f.id]),{children:f.children}),i.shapes[f.id]=x(S({},i.shapes[f.id]),{children:[...(i.shapes[f.id]||f).children,g]})}c[h.id]=g}),u.forEach(h=>{h.children&&h.children.forEach(g=>{var b,y;let f=s.getShape(g),T=Wn.Utils.uniqueId(),w=c[h.id];d.shapes[T]=void 0,i.shapes[T]=x(S({},Wn.Utils.deepClone(f)),{id:T,parentId:w,childIndex:v.getChildIndexAbove(s.state,f.id,o)}),c[g]=T,(y=(b=i.shapes[c[h.id]])==null?void 0:b.children)==null||y.push(T)})});let p=new Set(Object.keys(c));Object.values(r.bindings).filter(h=>p.has(h.fromId)||p.has(h.toId)).forEach(h=>{if(p.has(h.fromId))if(p.has(h.toId)){let g=Wn.Utils.uniqueId(),f=x(S({},Wn.Utils.deepClone(h)),{id:g,fromId:c[h.fromId],toId:c[h.toId]});d.bindings[g]=void 0,i.bindings[g]=f;let T=i.shapes[f.fromId];Object.values(T.handles).forEach(w=>{w.bindingId===h.id&&(w.bindingId=g)})}else{let g=i.shapes[c[h.fromId]];Object.values(g.handles).forEach(f=>{f.bindingId===h.id&&(f.bindingId=void 0)})}});let m=Object.values(i.shapes);if(t){let h=Wn.Utils.getCommonBounds(m.map(f=>v.getBounds(f))),g=Wn.Utils.getBoundsCenter(h);m.forEach(f=>{!f.point||(f.point=_r.Vec.sub(t,_r.Vec.sub(g,f.point)))})}else{let h=[16,16];m.forEach(g=>{!g.point||(g.point=_r.Vec.add(g.point,h))})}return m.forEach(h=>{h.isLocked&&(h.isLocked=!1)}),{id:"duplicate",before:{document:{pages:{[o]:d},pageStates:{[o]:{selectedIds:n}}}},after:{document:{pages:{[o]:i},pageStates:{[o]:{selectedIds:Array.from(p.values()).map(h=>c[h])}}}}}}var pn=require("@tldraw/core");function fa(s,e,t){let{selectedIds:n,currentPageId:o,page:{shapes:r}}=s,a=e.map(p=>v.getBounds(r[p])),d=e.length===1&&r[e[0]].type==="group",i=pn.Utils.getCommonBounds(a),{before:c,after:u}=v.mutateShapes(s.state,e,p=>{let m=v.getBounds(p),h=p.parentId!==o;switch(t){case"horizontal":{if(h&&!d){let f=v.getBounds(r[p.parentId]),w=pn.Utils.getRelativeTransformedBoundingBox(i,i,f,!0,!1).minX-f.minX;return v.getShapeUtil(p).transform(p,x(S({},m),{minX:m.minX+w,maxX:m.maxX+w}),{type:pn.TLBoundsCorner.TopLeft,scaleX:1,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}let g=pn.Utils.getRelativeTransformedBoundingBox(i,i,m,!0,!1);return v.getShapeUtil(p).transform(p,g,{type:pn.TLBoundsCorner.TopLeft,scaleX:-1,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}case"vertical":{if(h&&!d){let f=v.getBounds(r[p.parentId]),w=pn.Utils.getRelativeTransformedBoundingBox(i,i,f,!1,!0).minY-f.minY;return v.getShapeUtil(p).transform(p,x(S({},m),{minY:m.minY+w,maxY:m.maxY+w}),{type:pn.TLBoundsCorner.TopLeft,scaleX:1,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}let g=pn.Utils.getRelativeTransformedBoundingBox(i,i,m,!1,!0);return v.getShapeUtil(p).transform(p,g,{type:pn.TLBoundsCorner.TopLeft,scaleX:1,scaleY:-1,initialShape:p,transformOrigin:[.5,.5]})}}},o,!0);return{id:"flip",before:{document:{pages:{[o]:{shapes:c}},pageStates:{[o]:{selectedIds:n}}}},after:{document:{pages:{[o]:{shapes:u}},pageStates:{[o]:{selectedIds:e}}}}}}var dp=require("@tldraw/core");function cp(s,e,t,n){var P,G;if(e.length<2)return;let o={},r={},a={},d={},i=[...e],c=[],u=[],p=[];for(let M of e){let k=s.getShape(M);if(!k.isLocked)if(k.children===void 0)c.push(k);else{let I=k.children.filter(Y=>!s.getShape(Y).isLocked);p.push(k),i.push(...I),c.push(...I.map(Y=>s.getShape(Y)).filter(Boolean))}}if(c.every(M=>M.parentId===c[0].parentId)&&c[0].parentId!==n&&((P=s.getShape(c[0].parentId).children)==null?void 0:P.length)===i.length)return;let m=v.flattenPage(s.state,n),h=Object.fromEntries(c.map(M=>[M.id,m.indexOf(M)])),g=c.sort((M,k)=>h[M.id]-h[k.id]),f=n,T=(g.filter(M=>M.parentId===n)[0]||g[0]).childIndex,w=dp.Utils.getCommonBounds(c.map(M=>v.getBounds(M)));for(o[t]=void 0,r[t]=v.getShapeUtil("group").create({id:t,childIndex:T,parentId:f,point:[w.minX,w.minY],size:[w.width,w.height],children:g.map(M=>M.id)}),g.forEach((M,k)=>{if(M.parentId!==n){let I=s.getShape(M.parentId);p.push(I)}o[M.id]=x(S({},o[M.id]),{parentId:M.parentId,childIndex:M.childIndex}),r[M.id]=x(S({},r[M.id]),{parentId:t,childIndex:k+1})});p.length>0;){let M=p.pop();if(!M)break;let k=(((G=o[M.id])==null?void 0:G.children)||M.children).filter(I=>I&&!(i.includes(I)||u.includes(I)));k.length===0?(o[M.id]=M,r[M.id]=void 0,M.parentId!==n&&(u.push(M.id),p.push(s.getShape(M.parentId)))):(o[M.id]=x(S({},o[M.id]),{children:M.children}),r[M.id]=x(S({},r[M.id]),{children:k}))}let{bindings:b}=s,y=new Set(u);return b.forEach(M=>{for(let k of[M.toId,M.fromId])if(y.has(k)){a[M.id]=M,d[M.id]=void 0;let I=s.getShape(k);I.handles&&Object.values(I.handles).filter(Y=>Y.bindingId===M.id).forEach(Y=>{var le,ae;o[k]=x(S({},o[k]),{handles:x(S({},(le=o[k])==null?void 0:le.handles),{[Y.id]:{bindingId:M.id}})}),u.includes(k)||(r[k]=x(S({},r[k]),{handles:x(S({},(ae=r[k])==null?void 0:ae.handles),{[Y.id]:{bindingId:void 0}})}))})}}),{id:"group",before:{document:{pages:{[n]:{shapes:o,bindings:a}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:r,bindings:a}},pageStates:{[n]:{selectedIds:[t]}}}}}}var pp=require("@tldraw/core"),Sa=require("@tldraw/vec");function up(s,e,t,n,o){let{page:r}=s,a={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},d={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},i=new Set,c=new Set;e.map(b=>s.getShape(b,n)).filter(b=>!b.isLocked).forEach(b=>{i.add(b.id),c.add(b),b.children!==void 0&&b.children.forEach(y=>{i.add(y),c.add(s.getShape(y,n))})});let u=v.getTopChildIndex(s.state,o),p=Array.from(c.values());p.forEach((b,y)=>{if(a.before.shapes[b.id]=b,a.after.shapes[b.id]=void 0,d.before.shapes[b.id]=void 0,d.after.shapes[b.id]=b,!i.has(b.parentId)&&(d.after.shapes[b.id]=x(S({},b),{parentId:o,childIndex:u+y}),b.parentId!==n)){let P=s.getShape(b.parentId,n);a.before.shapes[P.id]={children:P.children},a.after.shapes[P.id]={children:P.children.filter(G=>G!==b.id)}}}),Object.values(r.bindings).filter(b=>i.has(b.fromId)||i.has(b.toId)).forEach(b=>{a.before.bindings[b.id]=b,a.after.bindings[b.id]=void 0;let y=s.getShape(b.fromId,n);if(i.has(b.fromId)&&i.has(b.toId))d.before.bindings[b.id]=void 0,d.after.bindings[b.id]=b;else if(i.has(b.fromId)){let G=s.getShape(b.fromId,n),k=Object.values(y.handles).find(Y=>Y.bindingId===b.id).id,I=d.after.shapes[G.id];I.handles=x(S({},I.handles),{[k]:x(S({},I.handles[k]),{bindingId:void 0})})}else{let G=s.getShape(b.fromId,n),M=Object.values(y.handles).find(k=>k.bindingId===b.id);a.before.shapes[G.id]={handles:{[M.id]:{bindingId:b.id}}},a.after.shapes[G.id]={handles:{[M.id]:{bindingId:void 0}}}}});let m=s.state.document.pageStates[o],h=pp.Utils.getCommonBounds(p.map(b=>v.getBounds(b))),g=v.getCameraZoom(t.width<t.height?(t.width-128)/h.width:(t.height-128)/h.height),f=(t.width-h.width*g)/2/g,T=(t.height-h.height*g)/2/g,w=Sa.Vec.toFixed(Sa.Vec.add([-h.minX,-h.minY],[f,T]));return{id:"move_to_page",before:{appState:{currentPageId:n},document:{pages:{[n]:a.before,[o]:d.before},pageStates:{[n]:{selectedIds:e},[o]:{selectedIds:m.selectedIds,camera:m.camera}}}},after:{appState:{currentPageId:o},document:{pages:{[n]:a.after,[o]:d.after},pageStates:{[n]:{selectedIds:[]},[o]:{selectedIds:e,camera:{zoom:g,point:w}}}}}}}function hp(s,e,t){let{pages:n}=s.document,o=n[e],r=Object.values(n).sort((i,c)=>{var u,p;return((u=i.childIndex)!=null?u:0)-((p=c.childIndex)!=null?p:0)}),a=r.indexOf(o),d=[...r];return d.splice(a,1),d.splice(t>a?t-1:t,0,o),{id:"move_page",before:{document:{pages:Object.fromEntries(r.map(i=>[i.id,{childIndex:i.childIndex}]))}},after:{document:{pages:Object.fromEntries(d.map((i,c)=>[i.id,{childIndex:c}]))}}}}function Bs(s,e,t){let{currentPageId:n,page:o}=s,r=new Set(e.map(u=>s.getShape(u).parentId)),a={before:{},after:{}},d,i,c;return Array.from(r.values()).forEach(u=>{let p=[];if(u===o.id)p=Object.values(o.shapes).sort((g,f)=>g.childIndex-f.childIndex);else{let g=s.getShape(u);if(!g.children)throw Error("No children in parent!");p=g.children.map(f=>s.getShape(f)).sort((f,T)=>f.childIndex-T.childIndex)}let m=p.map(g=>g.id),h=e.filter(g=>m.includes(g)).map(g=>m.indexOf(g)).sort((g,f)=>g-f);if(h.length!==m.length)switch(t){case"toBack":{for(let g=0;g<m.length;g++)if(!h.includes(g)){d=g;break}i=p[d].childIndex,c=i/(h.length+1),a=v.mutateShapes(s.state,h.map(g=>p[g].id).reverse(),(g,f)=>({childIndex:i-(f+1)*c}),n);break}case"toFront":{for(let g=m.length-1;g>=0;g--)if(!h.includes(g)){d=g;break}i=p[d].childIndex,c=1,a=v.mutateShapes(s.state,h.map(g=>p[g].id),(g,f)=>({childIndex:i+(f+1)}),n);break}case"backward":{let g={};for(let f=m.length-1;f>=0;f--)if(h.includes(f)){for(let T=f;T>=0;T--)if(!h.includes(T)){let w=p[T].childIndex,b,y;T===0?(b=w/2,y=w/2/(f-T+1)):(b=p[T-1].childIndex,y=(w-b)/(f-T+1),b+=y);for(let P=0;P<f-T;P++)g[p[T+P+1].id]=b+y*P;break}}Object.values(g).length>0&&(a=v.mutateShapes(s.state,h.map(f=>p[f].id),f=>({childIndex:g[f.id]}),n));break}case"forward":{let g={};for(let f=0;f<m.length;f++)if(h.includes(f)){for(let T=f;T<m.length;T++)if(!h.includes(T)){i=p[T].childIndex;let w=T===m.length-1?1:(p[T+1].childIndex-i)/(T-f+1);for(let b=0;b<T-f;b++)g[p[f+b].id]=i+w*(b+1);break}}Object.values(g).length>0&&(a=v.mutateShapes(s.state,h.map(f=>p[f].id),f=>({childIndex:g[f.id]}),n));break}}}),{id:"move",before:{document:{pages:{[n]:{shapes:a.before}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:a.after}},pageStates:{[n]:{selectedIds:e}}}}}}function mp(s,e,t){let{page:n}=s;return{id:"rename_page",before:{document:{pages:{[e]:{name:n.name}}}},after:{document:{pages:{[e]:{name:t}}}}}}function ba(s,e,t){let{currentPageId:n}=s,{before:o,after:r}=v.mutateShapes(s.state,e,a=>{var d,i;return(i=(d=s.getShapeUtil(a)).onDoubleClickBoundsHandle)==null?void 0:i.call(d,a)},t);return{id:"reset_bounds",before:{document:{pages:{[n]:{shapes:o}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:r}},pageStates:{[n]:{selectedIds:e}}}}}}var Ta=require("@tldraw/core");var Pte=Math.PI*2;function gp(s,e,t=-Pte/4){let{currentPageId:n}=s,o={},r={},a=e.flatMap(i=>{let c=s.getShape(i);return c.children?c.children.map(u=>s.getShape(u)):c}).filter(i=>!i.isLocked),d=Ta.Utils.getBoundsCenter(Ta.Utils.getCommonBounds(a.map(i=>v.getBounds(i))));return a.forEach(i=>{let c=v.getRotatedShapeMutation(i,v.getCenter(i),d,t);!c||(o[i.id]=v.getBeforeShape(i,c),r[i.id]=c)}),{id:"rotate",before:{document:{pages:{[n]:{shapes:o}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:r}},pageStates:{[n]:{selectedIds:e}}}}}}var Rs=require("@tldraw/core");function fp(s,e,t){let{currentPageId:n,selectedIds:o}=s,r=e.map(p=>s.getShape(p)),a=r.map(p=>v.getBounds(p)),d=Rs.Utils.getCommonBounds(a),i=e.flatMap(p=>{let m=s.getShape(p);return m.children?m.children:m.id}).filter(p=>!s.getShape(p).isLocked),{before:c,after:u}=v.mutateShapes(s.state,i,p=>{let m=v.getBounds(p);switch(t){case"horizontal":{let h=x(S({},m),{minX:d.minX,maxX:d.maxX,width:d.width});return v.getShapeUtil(p).transformSingle(p,h,{type:Rs.TLBoundsCorner.TopLeft,scaleX:h.width/m.width,scaleY:1,initialShape:p,transformOrigin:[.5,.5]})}case"vertical":{let h=x(S({},m),{minY:d.minY,maxY:d.maxY,height:d.height});return v.getShapeUtil(p).transformSingle(p,h,{type:Rs.TLBoundsCorner.TopLeft,scaleX:1,scaleY:h.height/m.height,initialShape:p,transformOrigin:[.5,.5]})}}},n);return r.forEach(p=>{p.type==="group"&&(delete c[p.id],delete u[p.id])}),{id:"stretch",before:{document:{pages:{[n]:{shapes:c}},pageStates:{[n]:{selectedIds:o}}}},after:{document:{pages:{[n]:{shapes:u}},pageStates:{[n]:{selectedIds:e}}}}}}var Yr=require("@tldraw/vec");function Sp(s,e,t){let{currentPageId:n,selectedIds:o}=s,r=e.flatMap(i=>v.getDocumentBranch(s.state,i,n)).filter(i=>!s.getShape(i).isLocked),a={},d={};return r.map(i=>s.getShape(i)).filter(i=>!i.isLocked).forEach(i=>{a[i.id]={style:S({},Object.fromEntries(Object.keys(t).map(c=>[c,i.style[c]])))},d[i.id]={style:t},i.type==="text"&&(a[i.id].point=i.point,d[i.id].point=Yr.Vec.toFixed(Yr.Vec.add(i.point,Yr.Vec.sub(s.getShapeUtil(i).getCenter(i),s.getShapeUtil(i).getCenter(x(S({},i),{style:S(S({},i.style),t)}))))))}),{id:"style",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:o}}},appState:{currentStyle:S({},s.appState.currentStyle)}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:e}}},appState:{currentStyle:t}}}}function bp(s,e,t){let{currentPageId:n,selectedIds:o}=s,r=Object.fromEntries(e.map(d=>{var i;return[d,{decorations:{[t]:(i=s.getShape(d).decorations)==null?void 0:i[t]}}]})),a=Object.fromEntries(e.filter(d=>!s.getShape(d).isLocked).map(d=>{var i;return[d,{decorations:{[t]:((i=s.getShape(d).decorations)==null?void 0:i[t])?void 0:"arrow"}}]}));return{id:"toggle_decorations",before:{document:{pages:{[n]:{shapes:r}},pageStates:{[n]:{selectedIds:o}}}},after:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:e}}}}}}function Zr(s,e,t){let{currentPageId:n}=s,o=e.map(i=>s.getShape(i)).filter(i=>t==="isLocked"?!0:!i.isLocked),r=o.every(i=>i[t]),a={},d={};return o.forEach(i=>{a[i.id]={[t]:i[t]},d[i.id]={[t]:!r}}),{id:"toggle",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:e}}}}}}var ya=require("@tldraw/vec");function Tp(s,e,t){let{currentPageId:n,selectedIds:o}=s;s.rotationInfo.selectedIds=[...o];let r={shapes:{},bindings:{}},a={shapes:{},bindings:{}},d=e.flatMap(u=>{let p=s.getShape(u);return p.children?p.children:p.id}).filter(u=>!s.getShape(u).isLocked),i=v.mutateShapes(s.state,d,u=>({point:ya.Vec.toFixed(ya.Vec.add(u.point,t))}),n);return r.shapes=i.before,a.shapes=i.after,v.getBindings(s.state,n).filter(u=>e.includes(u.fromId)&&!e.includes(u.toId)).forEach(u=>{r.bindings[u.id]=u,a.bindings[u.id]=void 0;for(let p of[u.toId,u.fromId]){let m=s.getShape(p);!m.handles||Object.values(m.handles).filter(h=>h.bindingId===u.id).forEach(h=>{var g,f;r.shapes[p]=x(S({},r.shapes[p]),{handles:x(S({},(g=r.shapes[p])==null?void 0:g.handles),{[h.id]:{bindingId:u.id}})}),a.shapes[p]=x(S({},a.shapes[p]),{handles:x(S({},(f=a.shapes[p])==null?void 0:f.handles),{[h.id]:{bindingId:void 0}})})})}}),{id:"translate",before:{document:{pages:{[n]:r},pageStates:{[n]:{selectedIds:e}}}},after:{document:{pages:{[n]:a},pageStates:{[n]:{selectedIds:e}}}}}}function yp(s,e,t,n){let{bindings:o}=s,r={},a={},d={},i={},c=e,u=e.filter(p=>!t.find(m=>m.id===p));return t.filter(p=>!p.isLocked).forEach(p=>{let m=[],h=[];r[p.id]=p,a[p.id]=void 0,p.children.forEach(b=>{u.push(b);let y=s.getShape(b,n);m.push(y)});let g=p.childIndex,T=(v.getChildIndexAbove(s.state,p.id,n)-g)/m.length;m.sort((b,y)=>b.childIndex-y.childIndex).forEach((b,y)=>{r[b.id]={parentId:b.parentId,childIndex:b.childIndex},a[b.id]={parentId:n,childIndex:g+T*y}}),o.filter(b=>b.toId===p.id||b.fromId===p.id).forEach(b=>{for(let y of[b.toId,b.fromId])if(a[y]===void 0){d[b.id]=b,i[b.id]=void 0;let P=s.getShape(y,n);P.handles&&Object.values(P.handles).filter(G=>G.bindingId===b.id).forEach(G=>{var M,k;r[y]=x(S({},r[y]),{handles:x(S({},(M=r[y])==null?void 0:M.handles),{[G.id]:{bindingId:b.id}})}),h.includes(y)||(a[y]=x(S({},a[y]),{handles:x(S({},(k=a[y])==null?void 0:k.handles),{[G.id]:{bindingId:void 0}})}))})}})}),{id:"ungroup",before:{document:{pages:{[n]:{shapes:r,bindings:d}},pageStates:{[n]:{selectedIds:c}}}},after:{document:{pages:{[n]:{shapes:a,bindings:d}},pageStates:{[n]:{selectedIds:u}}}}}}function wa(s,e,t){let n=e.map(r=>r.id),o=v.mutateShapes(s.state,n.filter(r=>!s.getShape(r,t).isLocked),(r,a)=>e[a],t);return{id:"update",before:{document:{pages:{[t]:{shapes:o.before}}}},after:{document:{pages:{[t]:{shapes:o.after}}}}}}function wp(s,e,t){let{currentPageId:n,selectedIds:o}=s,r=e.map(c=>s.getShape(c)).filter(c=>t.isLocked?!0:!c.isLocked),a={},d={},i=Object.keys(t);return r.forEach(c=>{a[c.id]=Object.fromEntries(i.map(u=>[u,c[u]])),d[c.id]=t}),{id:"set_props",before:{document:{pages:{[n]:{shapes:a}},pageStates:{[n]:{selectedIds:o}}}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:o}}}}}}var Nt=require("@tldraw/core"),wo=require("@tldraw/vec");function xp(s,e,t={}){let{currentPageId:n}=s,{point:o,select:r,overwrite:a}=t,d=s.document.pages[n],i={shapes:{},bindings:{}},c={},u={shapes:{},bindings:{}};if(a){for(let m of e.shapes)i.shapes[m.id]=d.shapes[m.id],u.shapes[m.id]=m;if(e.bindings)for(let m of e.bindings)i.bindings[m.id]=d.bindings[m.id],u.bindings[m.id]=m;if(e.assets)for(let m of e.assets)c[m.id]=m}else{let m={},h=v.getTopChildIndex(s.state,n),g=e.shapes.sort((w,b)=>w.childIndex-b.childIndex).map(w=>{let b=Nt.Utils.uniqueId();return m[w.id]=b,x(S({},Nt.Utils.deepClone(w)),{id:b})}),f=new Set;for(;g.length>0;){let w=g.shift();if(!w)break;if(f.add(w.id),w.parentId==="currentPageId")w.parentId=n,w.childIndex=h++;else{w.parentId=m[w.parentId];let b=u.shapes[w.parentId];if(!b){f.has(w.id)&&(w.parentId="currentPageId"),g.push(w);continue}b.children.push(w.id)}w.children&&(w.children=[]),i.shapes[w.id]=void 0,u.shapes[w.id]=w}Object.values(u.shapes).forEach(w=>{w.children&&w.children.length===0&&(delete i.shapes[w.id],delete u.shapes[w.id])}),e.bindings&&e.bindings.forEach(w=>{let b=Nt.Utils.uniqueId();m[w.id]=b;let y=m[w.toId],P=m[w.fromId];if(!y||!P){if(P){let I=u.shapes[P].handles;I&&Object.values(I).forEach(Y=>{Y.bindingId===w.id&&(Y.bindingId=void 0)})}if(y){let I=u.shapes[y].handles;I&&Object.values(I).forEach(Y=>{Y.bindingId===w.id&&(Y.bindingId=void 0)})}return}let G=u.shapes[P].handles;G&&Object.values(G).forEach(I=>{I.bindingId===w.id&&(I.bindingId=b)}),u.shapes[y].handles&&Object.values(u.shapes[y].handles).forEach(I=>{I.bindingId===w.id&&(I.bindingId=b)});let k=x(S({},Nt.Utils.deepClone(w)),{id:b,toId:y,fromId:P});i.bindings[k.id]=void 0,u.bindings[k.id]=k});let T=Object.values(u.shapes);if(T.length>0)if(o){let w=Nt.Utils.getCommonBounds(T.map(y=>v.getBounds(y))),b=Nt.Utils.getBoundsCenter(w);T.forEach(y=>{!y.point||(y.point=wo.Vec.sub(o,wo.Vec.sub(b,y.point)))})}else{let w=Nt.Utils.getCommonBounds(T.map(v.getBounds));if(!(Nt.Utils.boundsContain(s.viewport,w)||Nt.Utils.boundsCollide(s.viewport,w))){let b=wo.Vec.toFixed(s.getPagePoint(s.centerPoint)),y=Nt.Utils.centerBounds(w,b),P=wo.Vec.sub(Nt.Utils.getBoundsCenter(y),Nt.Utils.getBoundsCenter(w));T.forEach(G=>{G.point=wo.Vec.toFixed(wo.Vec.add(G.point,P))})}}if(e.assets)for(let w of e.assets)c[w.id]=w}let p=document.createElement("textarea");return Object.values(u.shapes).forEach(m=>{"text"in m&&(p.innerHTML=m.text,m.text=p.value),"label"in m&&(p.innerHTML=m.label,m.label=p.value)}),p.remove(),{id:"insert",before:{document:{pages:{[n]:i},pageStates:{[n]:{selectedIds:[...s.selectedIds]}}}},after:{document:{pages:{[n]:u},assets:c,pageStates:{[n]:{selectedIds:r?Object.keys(u.shapes):[...s.selectedIds]}}}}}}var ns={};Xa(ns,{fileToBase64:()=>Ca,fileToText:()=>Da,getImageSizeFromSrc:()=>Pa,getVideoSizeFromSrc:()=>Ma,loadFileHandle:()=>xa,migrate:()=>Bn,openAssetsFromFileSystem:()=>Ia,openFromFileSystem:()=>ka,saveFileHandle:()=>va,saveToFileSystem:()=>qr});function Bn(s,e){let{document:t,settings:n}=s,{version:o=0}=t;"assets"in t||(t.assets={});let r=new Set;return Object.values(t.pages).forEach(a=>Object.values(a.shapes).forEach(d=>{let{parentId:i,children:c,assetId:u}=d;u&&r.add(u),i!==a.id&&!a.shapes[i]&&(console.warn("Encountered a shape with a missing parent!"),d.parentId=a.id),d.type==="group"&&c&&c.forEach(p=>{a.shapes[p]||(console.warn("Encountered a parent with a missing child!",d.id,p),c==null||c.splice(c.indexOf(p),1))})})),Object.keys(t.assets).forEach(a=>{r.has(a)||delete t.assets[a]}),o!==e&&(o<14&&Object.values(t.pages).forEach(a=>{Object.values(a.shapes).filter(d=>d.type==="text").forEach(d=>d.style.font==="script")}),o<=13&&Object.values(t.pages).forEach(a=>{Object.values(a.bindings).forEach(d=>{Object.assign(d,d.meta)}),Object.values(a.shapes).forEach(d=>{Object.entries(d.style).forEach(([i,c])=>{typeof c=="string"&&(d.style[i]=c.toLowerCase())}),d.type==="arrow"&&d.decorations&&Object.entries(d.decorations).forEach(([i,c])=>{c==="Arrow"&&(d.decorations=x(S({},d.decorations),{[i]:"arrow"}))})})}),o<=13.1&&(t.name="New Document"),o<15&&(t.assets={}),Object.values(t.pages).forEach(a=>{Object.values(a.shapes).forEach(d=>{o<15.2&&(d.type==="image"||d.type==="video")&&(d.style.isFilled=!0),o<15.3&&(d.type==="rectangle"||d.type==="triangle"||d.type==="ellipse"||d.type==="arrow")&&(d.label=d.text||"",d.labelPoint=[.5,.5])})}),o<15.4&&(n.dockPosition="bottom"),o<15.5&&(n.exportBackground="transparent")),Object.values(t.pageStates).forEach(a=>{a.selectedIds=a.selectedIds.filter(d=>t.pages[a.id].shapes[d]!==void 0),a.bindingId=void 0,a.editingId=void 0,a.hoveredId=void 0,a.pointedId=void 0}),t.version=e,s}var xo=require("browser-fs-access"),Xr=require("idb-keyval");var vp={mode:"readwrite"},Ete=s=>ce(void 0,null,function*(){return(yield s.queryPermission(vp))==="granted"||(yield s.requestPermission(vp))==="granted"});function xa(){return ce(this,null,function*(){if(typeof Window=="undefined"||!("_location"in Window))return;let s=yield(0,Xr.get)(`Tldraw_file_handle_${window.location.origin}`);return s||null})}function va(s){return ce(this,null,function*(){return(0,Xr.set)(`Tldraw_file_handle_${window.location.origin}`,s)})}function qr(s,e,t){return ce(this,null,function*(){let n={name:s.name||"New Document",fileHandle:e!=null?e:null,document:s,assets:{}},o=JSON.stringify(n),r=new Blob([o],{type:"application/vnd.Tldraw+json"});if(e&&!(yield Ete(e)))return null;let a=!xo.supported&&(t==null?void 0:t.length)?t:`${n.name}`,d=yield(0,xo.fileSave)(r,{fileName:`${a}${Sr}`,description:"Tldraw File",extensions:[`${Sr}`]},e);return yield va(d),d})}function ka(){return ce(this,null,function*(){var o;let s=yield(0,xo.fileOpen)({description:"Tldraw File",extensions:[`${Sr}`],multiple:!1});if(!s)return null;let e=yield new Promise(r=>{let a=new FileReader;a.onloadend=()=>{a.readyState===FileReader.DONE&&r(a.result)},a.readAsText(s,"utf8")}),t=JSON.parse(e),n=(o=s.handle)!=null?o:null;return yield va(n),{fileHandle:n,document:t.document}})}function Ia(){return ce(this,null,function*(){return(0,xo.fileOpen)({description:"Image or Video",extensions:[...br,...Tr],multiple:!0})})}function Ca(s){return new Promise((e,t)=>{if(s){let n=new FileReader;n.readAsDataURL(s),n.onload=()=>e(n.result),n.onerror=o=>t(o),n.onabort=o=>t(o)}})}function Da(s){return new Promise((e,t)=>{if(s){let n=new FileReader;n.readAsText(s),n.onload=()=>e(n.result),n.onerror=o=>t(o),n.onabort=o=>t(o)}})}function Pa(s){return new Promise((e,t)=>{let n=new Image;n.onload=()=>e([n.width,n.height]),n.onerror=()=>t(new Error("Could not get image size")),n.src=s})}function Ma(s){return new Promise((e,t)=>{let n=document.createElement("video");n.onloadedmetadata=()=>e([n.videoWidth,n.videoHeight]),n.onerror=()=>t(new Error("Could not get video size")),n.src=s})}Co(ns,require("browser-fs-access"));var Rn=require("@tldraw/core"),je=require("@tldraw/vec");var Xe=class{constructor(e){this.app=e}};var Ea=class extends Xe{constructor(e,t,n,o=!1){super(e);l(this,"type","arrow");l(this,"performanceMode");l(this,"status","translatingHandle");l(this,"newStartBindingId",Rn.Utils.uniqueId());l(this,"draggedBindingId",Rn.Utils.uniqueId());l(this,"didBind",!1);l(this,"initialShape");l(this,"handleId");l(this,"bindableShapeIds");l(this,"initialBinding");l(this,"startBindingShapeId");l(this,"isCreate");l(this,"start",()=>{});l(this,"update",()=>{var G,M,k;let{initialShape:e}=this,{currentPoint:t,shiftKey:n,altKey:o,metaKey:r,currentGrid:a,settings:{showGrid:d}}=this.app,i=this.app.getShape(e.id);if(i.isLocked)return;let{handles:c}=e,u=this.handleId;if(!c[u].canBind)return;let p=je.Vec.sub(t,je.Vec.add(c[u].point,e.point));if(n){let I=o?je.Vec.med(c.start.point,c.end.point):c[u==="start"?"end":"start"].point,Y=c[u].point,le=je.Vec.add(Y,p),ae=je.Vec.angle(I,le),Re=je.Vec.rotWith(le,I,Rn.Utils.snapAngleToSegments(ae,24)-ae);p=je.Vec.add(p,je.Vec.sub(Re,le))}let m=je.Vec.add(c[u].point,p),h={[u]:x(S({},c[u]),{point:d?je.Vec.snap(m,a):je.Vec.toFixed(m),bindingId:void 0})},g=En["arrow"],f=(G=g.onHandleChange)==null?void 0:G.call(g,e,h);if(!f)return;let T={shape:Rn.Utils.deepMerge(i,f),bindings:{}},w,b=T.shape.handles[this.handleId],y=T.shape.handles[this.handleId==="start"?"end":"start"];if(this.startBindingShapeId){let I,Y=this.app.page.shapes[this.startBindingShapeId],le=v.getShapeUtil(Y),ae=le.getCenter(Y),Re=T.shape.handles.start,Ce=T.shape.handles.end,De=je.Vec.add(Re.point,T.shape.point);je.Vec.isEqual(De,ae)&&De[1]++;let Ne=ae,We=le.hitTestPoint(Y,t),Wt=je.Vec.uni(je.Vec.sub(De,Ne)),hn=this.app.getBinding(this.newStartBindingId)!==void 0;!r&&!le.hitTestPoint(Y,je.Vec.add(T.shape.point,Ce.point))&&(I=this.findBindingPoint(i,Y,"start",this.newStartBindingId,ae,Ne,Wt,We)),I&&!hn?(this.didBind=!0,T.bindings[this.newStartBindingId]=I,T.shape=Rn.Utils.deepMerge(T.shape,{handles:{start:{bindingId:I.id}}})):!I&&hn&&(this.didBind=!1,T.bindings[this.newStartBindingId]=void 0,T.shape=Rn.Utils.deepMerge(e,{handles:{start:{bindingId:void 0}}}))}if(!r){let I=je.Vec.add(y.point,T.shape.point),Y=je.Vec.add(b.point,T.shape.point),le=je.Vec.uni(je.Vec.sub(Y,I)),ae=je.Vec.add(T.shape.point,T.shape.handles.start.point),Re=je.Vec.add(T.shape.point,T.shape.handles.end.point),Ce=this.bindableShapeIds.map(De=>this.app.page.shapes[De]).sort((De,Ne)=>Ne.childIndex-De.childIndex).filter(De=>{if(De.isLocked)return!1;let Ne=v.getShapeUtil(De);return![ae,Re].every(We=>Ne.hitTestPoint(De,We))});for(let De of Ce)if(w=this.findBindingPoint(i,De,this.handleId,this.draggedBindingId,Y,I,le,o),w)break}if(w)this.didBind=!0,T.bindings[this.draggedBindingId]=w,T.shape=Rn.Utils.deepMerge(T.shape,{handles:{[this.handleId]:{bindingId:this.draggedBindingId}}});else{this.didBind=this.didBind||!1;let I=i.handles[this.handleId].bindingId;I!==void 0&&(T.bindings[I]=void 0,T.shape=Rn.Utils.deepMerge(T.shape,{handles:{[this.handleId]:{bindingId:void 0}}}))}let P=(k=(M=v.getShapeUtil(T.shape)).onHandleChange)==null?void 0:k.call(M,T.shape,T.shape.handles);return{document:{pages:{[this.app.currentPageId]:{shapes:{[i.id]:S(S({},T.shape),P!=null?P:{})},bindings:T.bindings}},pageStates:{[this.app.currentPageId]:{bindingId:T.shape.handles[u].bindingId}}}}});l(this,"cancel",()=>{let{initialShape:e,initialBinding:t,newStartBindingId:n,draggedBindingId:o}=this,r=v.onSessionComplete(this.app.page.shapes[e.id]),a=this.isCreate||je.Vec.dist(r.handles.start.point,r.handles.end.point)<4,d={};return d[o]=void 0,t&&(d[t.id]=a?void 0:t),n&&(d[n]=void 0),{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:a?void 0:e},bindings:d}},pageStates:{[this.app.currentPageId]:{selectedIds:a?[]:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}});l(this,"complete",()=>{let{initialShape:e,initialBinding:t,newStartBindingId:n,startBindingShapeId:o,handleId:r}=this,a=v.onSessionComplete(this.app.page.shapes[e.id]),d=a.handles[r].bindingId,i=je.Vec.dist(a.handles.start.point,a.handles.end.point);if(!(d||t)&&i<4)return this.cancel();let c={},u={};return t&&(c[t.id]=this.isCreate?void 0:t,u[t.id]=void 0),d&&(c[d]=void 0,u[d]=this.app.page.bindings[d]),o&&(c[n]=void 0,u[n]=this.app.page.bindings[n]),{id:"arrow",before:{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:this.isCreate?void 0:e},bindings:c}},pageStates:{[this.app.currentPageId]:{selectedIds:this.isCreate?[]:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}},after:{document:{pages:{[this.app.currentPageId]:{shapes:{[e.id]:a},bindings:u}},pageStates:{[this.app.currentPageId]:{selectedIds:[e.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}}});l(this,"findBindingPoint",(e,t,n,o,r,a,d,i)=>{let u=v.getShapeUtil(t.type).getBindingPoint(t,e,r,a,d,i);if(!!u)return{id:o,type:"arrow",fromId:e.id,toId:t.id,handleId:n,point:je.Vec.toFixed(u.point),distance:u.distance}});var c,u,p;this.isCreate=o;let{currentPageId:r}=e.state.appState,a=e.state.document.pages[r];this.handleId=n,this.initialShape=yt(a.shapes[t]),this.bindableShapeIds=v.getBindableShapeIds(e.state).filter(m=>!(m===this.initialShape.id||m===this.initialShape.parentId));let d=(c=this.initialShape.handles[n==="start"?"end":"start"])==null?void 0:c.bindingId;if(d){let m=(u=a.bindings[d])==null?void 0:u.toId;m&&(this.bindableShapeIds=this.bindableShapeIds.filter(h=>h!==m))}let{originPoint:i}=this.app;if(this.isCreate)this.startBindingShapeId=(p=this.bindableShapeIds.map(m=>a.shapes[m]).filter(m=>!m.isLocked&&Rn.Utils.pointInBounds(i,v.getShapeUtil(m).getBounds(m))).sort((m,h)=>h.childIndex-m.childIndex)[0])==null?void 0:p.id,this.startBindingShapeId&&this.bindableShapeIds.splice(this.bindableShapeIds.indexOf(this.startBindingShapeId),1);else{let m=this.initialShape.handles[this.handleId].bindingId;m?this.initialBinding=a.bindings[m]:this.initialShape.handles[this.handleId].bindingId=void 0}}};var Ba=require("@tldraw/core");var Ra=class extends Xe{constructor(e){super(e);l(this,"type","brush");l(this,"performanceMode");l(this,"status","brushing");l(this,"initialSelectedIds");l(this,"shapesToTest");l(this,"start",()=>{});l(this,"update",()=>{let{initialSelectedIds:e,shapesToTest:t,app:{metaKey:n,settings:o,originPoint:r,currentPoint:a}}=this,d=Ba.Utils.getBoundsFromPoints([r,a]),i=o.isCadSelectMode?!n&&r[0]<a[0]:n,c=new Set,u=new Set(e);t.forEach(({id:g,selectId:f})=>{let T=this.app.getShape(g);if(!c.has(f)){let w=this.app.getShapeUtil(T);(i?Ba.Utils.boundsContain(d,w.getBounds(T)):w.hitTestBounds(T,d))?(c.add(f),u.has(f)||u.add(f)):u.has(f)&&u.delete(f)}});let p=this.app.selectedIds,m=u.size!==p.length||p.some(g=>!u.has(g)),h=m?Array.from(u.values()):p;return m?{appState:{selectByContain:i},document:{pageStates:{[this.app.currentPageId]:{brush:d,selectedIds:h}}}}:{appState:{selectByContain:i},document:{pageStates:{[this.app.currentPageId]:{brush:d}}}}});l(this,"cancel",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:Array.from(this.initialSelectedIds.values())}}}}));l(this,"complete",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:[...this.app.selectedIds]}}}}));let{currentPageId:t}=e;this.initialSelectedIds=new Set(this.app.selectedIds),this.shapesToTest=this.app.shapes.filter(n=>!(n.isLocked||n.isHidden||n.parentId!==t||this.initialSelectedIds.has(n.id)||this.initialSelectedIds.has(n.parentId))).map(n=>({id:n.id,bounds:this.app.getShapeUtil(n).getBounds(n),selectId:n.id})),this.update()}};var et=require("@tldraw/vec");var Aa=class extends Xe{constructor(e,t){super(e);l(this,"type","draw");l(this,"performanceMode");l(this,"status","creating");l(this,"topLeft");l(this,"points");l(this,"initialShape");l(this,"lastAdjustedPoint");l(this,"shiftedPoints",[]);l(this,"shapeId");l(this,"isLocked");l(this,"isExtending");l(this,"lockedDirection");l(this,"start",()=>{var r;let e=this.app.originPoint,t=[0,0,(r=e[2])!=null?r:.5];this.points.push(t);let n=[Math.min(this.topLeft[0],e[0]),Math.min(this.topLeft[1],e[1])],o=et.Vec.sub(n,e);return this.topLeft=n,this.shiftedPoints=this.points.map(a=>et.Vec.toFixed(et.Vec.sub(a,o)).concat(a[2])),{document:{pages:{[this.app.currentPageId]:{shapes:{[this.shapeId]:{point:this.topLeft,points:this.shiftedPoints}}}},pageStates:{[this.app.currentPageId]:{selectedIds:[this.shapeId]}}}}});l(this,"update",()=>{let{shapeId:e}=this,{currentPoint:t,originPoint:n,shiftKey:o,zoom:r}=this.app;if(!this.lockedDirection&&this.points.length>1){let d=et.Vec.sub(t,n);et.Vec.len(d)>3/r&&(this.lockedDirection=Math.abs(d[0])>Math.abs(d[1])?"horizontal":"vertical")}if(o){if(!this.isLocked&&this.points.length>2){if(!this.lockedDirection){let i=et.Vec.sub(t,n);et.Vec.len(i)>3/r&&(this.lockedDirection=Math.abs(i[0])>Math.abs(i[1])?"horizontal":"vertical")}this.isLocked=!0;let d=[...this.lastAdjustedPoint];this.lockedDirection==="vertical"?d[0]=0:d[1]=0,this.points.push(d.concat(t[2]))}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?t[0]=n[0]:t[1]=n[1]);let a=this.addPoint(t);if(!!a)return{document:{pages:{[this.app.currentPageId]:{shapes:{[e]:a}}},pageStates:{[this.app.currentPageId]:{selectedIds:[e]}}}}});l(this,"cancel",()=>{let{shapeId:e}=this,t=this.app.currentPageId;return{document:{pages:{[t]:{shapes:{[e]:this.isExtending?this.initialShape:void 0}}},pageStates:{[t]:{selectedIds:[]}}}}});l(this,"complete",()=>{let{shapeId:e}=this,t=this.app.currentPageId,n=this.app.getShape(e);return{id:"create_draw",before:{document:{pages:{[t]:{shapes:{[e]:this.isExtending?this.initialShape:void 0}}},pageStates:{[t]:{selectedIds:[]}}}},after:{document:{pages:{[t]:{shapes:{[e]:x(S({},n),{point:et.Vec.toFixed(n.point),points:n.points.map(o=>et.Vec.toFixed(o)),isComplete:!0})}}},pageStates:{[this.app.currentPageId]:{selectedIds:[]}}}}}});l(this,"addPoint",e=>{let{originPoint:t}=this.app,n=et.Vec.toFixed(et.Vec.sub(e,t)).concat(e[2]);if(et.Vec.isEqual(this.lastAdjustedPoint,n))return;this.points.push(n),this.lastAdjustedPoint=n;let o=[...this.topLeft],r=[Math.min(this.topLeft[0],e[0]),Math.min(this.topLeft[1],e[1])],a=et.Vec.sub(r,t),d;return o[0]!==r[0]||o[1]!==r[1]?(this.topLeft=r,d=this.points.map(i=>et.Vec.toFixed(et.Vec.sub(i,a)).concat(i[2]))):d=[...this.shiftedPoints,et.Vec.sub(n,a).concat(n[2])],this.shiftedPoints=d,{point:this.topLeft,points:d}});var i;let{originPoint:n}=this.app;this.shapeId=t,this.initialShape=this.app.getShape(t),this.topLeft=[...this.initialShape.point];let o=[0,0,(i=n[2])!=null?i:.5],r=et.Vec.sub(n,this.topLeft),a=this.initialShape.points.map(c=>et.Vec.sub(c,r).concat(c[2]));this.isExtending=a.length>0;let d=[];if(this.isExtending){let c=a[a.length-1];if(c){d.push(c,c);let u=Math.floor(et.Vec.dist(c,o)/16);if(u>1)for(let p=0;p<u;p++){let m=p/(u-1);d.push(et.Vec.lrp(c,o,m).concat(c[2]))}else d.push(o,o)}}else d.push(o);this.points=[...a,...d],this.shiftedPoints=this.points.map(c=>et.Vec.add(c,r).concat(c[2])),this.lastAdjustedPoint=this.points[this.points.length-1]}};var La=class extends Xe{constructor(e,t,n){super(e);l(this,"type","edit");l(this,"performanceMode");l(this,"initialShape");l(this,"initialSelectedIds");l(this,"currentPageId");l(this,"isCreating");l(this,"start",()=>{});l(this,"update",()=>{});l(this,"cancel",()=>({document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}}));l(this,"complete",()=>{let e=this.app.getShape(this.initialShape.id);return{id:"edit",before:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}},after:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:e}}},pageStates:{[this.currentPageId]:{selectedIds:[e.id],editingId:void 0}}}}}});this.initialShape=e.getShape(t,e.currentPageId),this.currentPageId=e.currentPageId,this.isCreating=n,this.initialSelectedIds=[...e.selectedIds]}};var vo=require("@tldraw/vec");var Ha=class extends Xe{constructor(e){super(e);l(this,"type","draw");l(this,"performanceMode");l(this,"status","creating");l(this,"isLocked");l(this,"lockedDirection");l(this,"erasedShapes",new Set);l(this,"erasedBindings",new Set);l(this,"initialSelectedShapes");l(this,"erasableShapes");l(this,"prevPoint");l(this,"prevEraseShapesSize",0);l(this,"interval");l(this,"timestamp1",0);l(this,"timestamp2",0);l(this,"prevErasePoint",[]);l(this,"loop",()=>{let e=Date.now(),t=e-this.timestamp1,n=e-this.timestamp2,{eraseLine:o}=this.app.appState,r=[...o],a=!1;t>16&&this.prevErasePoint!==this.prevPoint&&(a=!0,r=[...o,this.prevPoint],this.prevErasePoint=this.prevPoint),n>32&&r.length>1&&(a=!0,r.splice(0,Math.ceil(r.length*.1)),this.timestamp2=e),a&&this.app.patchState({appState:{eraseLine:r}},"eraseline"),this.interval=requestAnimationFrame(this.loop)});l(this,"start",()=>{});l(this,"update",()=>{let{page:e,shiftKey:t,originPoint:n,currentPoint:o,zoom:r}=this.app;if(t){let c=vo.Vec.sub(o,n);if(!this.isLocked&&vo.Vec.len(c)>3/r){if(!this.lockedDirection){let u=vo.Vec.sub(o,n);this.lockedDirection=Math.abs(u[0])>Math.abs(u[1])?"horizontal":"vertical"}this.isLocked=!0}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?o[0]=n[0]:o[1]=n[1]);let a=vo.Vec.toFixed(vo.Vec.add(n,vo.Vec.sub(o,n))),d=new Set([]);this.erasableShapes.forEach(c=>{if(!this.erasedShapes.has(c)&&this.app.getShapeUtil(c).hitTestLineSegment(c,this.prevPoint,a)&&(this.erasedShapes.add(c),d.add(c.id),c.children!==void 0))for(let u of c.children)this.erasedShapes.add(this.app.getShape(u)),d.add(u)}),Object.values(e.bindings).forEach(c=>{for(let u of[c.toId,c.fromId])d.has(u)&&this.erasedBindings.add(c)}),this.erasedShapes.forEach(c=>{this.app.getShape(c.id)||(this.erasedShapes.delete(c),this.erasableShapes.delete(c),d.delete(c.id))});let i=Array.from(this.erasedShapes.values());if(this.prevPoint=a,i.length!==this.prevEraseShapesSize)return this.prevEraseShapesSize=i.length,{document:{pages:{[e.id]:{shapes:Object.fromEntries(i.map(c=>[c.id,{isGhost:!0}]))}}}}});l(this,"cancel",()=>{let{page:e}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(n=>{this.app.getShape(n.id)||(this.erasedShapes.delete(n),this.erasableShapes.delete(n))});let t=Array.from(this.erasedShapes.values());return{document:{pages:{[e.id]:{shapes:Object.fromEntries(t.map(n=>[n.id,{isGhost:!1}]))}},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.map(n=>n.id)}}},appState:{eraseLine:[]}}});l(this,"complete",()=>{let{page:e}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(i=>{this.app.getShape(i.id)||(this.erasedShapes.delete(i),this.erasableShapes.delete(i))}),this.erasedBindings.forEach(i=>{this.app.getBinding(i.id)||this.erasedBindings.delete(i)});let t=Array.from(this.erasedShapes.values()),n=Array.from(this.erasedBindings.values()),o=t.map(i=>i.id),r=n.map(i=>i.id),a={shapes:Object.fromEntries(t.map(i=>[i.id,i])),bindings:Object.fromEntries(n.map(i=>[i.id,i]))},d={shapes:Object.fromEntries(t.map(i=>[i.id,void 0])),bindings:Object.fromEntries(n.map(i=>[i.id,void 0]))};return this.app.shapes.forEach(i=>{i.handles&&!d.shapes[i.id]&&Object.values(i.handles).forEach(c=>{var u,p;c.bindingId&&r.includes(c.bindingId)&&(a.shapes[i.id]=x(S({},a.shapes[i.id]),{handles:x(S({},(u=a.shapes[i.id])==null?void 0:u.handles),{[c.id]:c})}),o.includes(i.id)||(d.shapes[i.id]=x(S({},d.shapes[i.id]),{handles:x(S({},(p=d.shapes[i.id])==null?void 0:p.handles),{[c.id]:x(S({},c),{bindingId:void 0})})})))})}),{id:"erase",before:{document:{pages:{[e.id]:a},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.filter(i=>!!this.app.getShape(i.id)).map(i=>i.id)}}},appState:{eraseLine:[]}},after:{document:{pages:{[e.id]:d},pageStates:{[e.id]:{selectedIds:this.initialSelectedShapes.filter(i=>!!this.app.getShape(i.id)).filter(i=>!o.includes(i.id)).map(i=>i.id)}}},appState:{eraseLine:[]}}}});this.prevPoint=[...e.originPoint],this.initialSelectedShapes=this.app.selectedIds.map(t=>this.app.getShape(t)),this.erasableShapes=new Set(this.app.shapes.filter(t=>!t.isLocked)),this.interval=this.loop()}};var za=require("@tldraw/core"),Oa=require("@tldraw/vec");var Fa=class extends Xe{constructor(e,t){super(e);l(this,"type","grid");l(this,"performanceMode");l(this,"status","translating");l(this,"shape");l(this,"bounds");l(this,"initialSelectedIds");l(this,"initialSiblings");l(this,"grid",{});l(this,"columns",1);l(this,"rows",1);l(this,"isCopying",!1);l(this,"start",()=>{});l(this,"update",()=>{let{currentPageId:e,altKey:t,shiftKey:n,currentPoint:o}=this.app,r={},a={},d=za.Utils.getBoundsCenter(this.bounds),i=Oa.Vec.sub(o,d);n&&(Math.abs(i[0])<Math.abs(i[1])?i[0]=0:i[1]=0);let c=this.bounds.width+32,u=this.bounds.height+32,p=Math.ceil(i[0]/c),m=Math.ceil(i[1]/u),h=Math.min(p,0),g=Math.min(m,0),f=Math.max(p,1),T=Math.max(m,1),w=new Set,b=t;b!==this.isCopying&&(Object.values(this.grid).filter(y=>y!==this.shape.id).forEach(y=>r[y]=void 0),this.grid={"0_0":this.shape.id},this.isCopying=b);for(let y=h;y<f;y++)for(let P=g;P<T;P++){let G=`${y}_${P}`;if(w.add(G),this.grid[G]||y===0&&P===0)continue;let M=this.getClone(Oa.Vec.add(this.shape.point,[y*c,P*u]),b);r[M.id]=M,this.grid[G]=M.id}if(Object.entries(this.grid).forEach(([y,P])=>{w.has(y)||(r[P]=void 0,delete this.grid[y])}),Object.values(r).length!==0)return this.initialSiblings&&(r[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),{document:{pages:{[e]:{shapes:r}},pageStates:{[e]:a}}}});l(this,"cancel",()=>{let{currentPageId:e}=this.app,t={};return Object.values(this.grid).forEach(n=>{t[n]=void 0}),t[this.shape.id]=x(S({},t[this.shape.id]),{point:this.shape.point}),this.initialSiblings&&(t[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]}),{document:{pages:{[e]:{shapes:t}},pageStates:{[e]:{selectedIds:[this.shape.id]}}}}});l(this,"complete",()=>{let{currentPageId:e}=this.app,t={},n={},o=[];if(Object.values(this.grid).forEach(r=>{t[r]=void 0,n[r]=this.app.getShape(r),o.push(r)}),t[this.shape.id]=this.shape,this.initialSiblings&&(t[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]},n[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),o.length!==1)return{id:"grid",before:{document:{pages:{[e]:{shapes:t}},pageStates:{[e]:{selectedIds:[],hoveredId:void 0}}}},after:{document:{pages:{[e]:{shapes:n}},pageStates:{[e]:{selectedIds:o,hoveredId:void 0}}}}}});l(this,"getClone",(e,t)=>{let n=x(S({},this.shape),{id:za.Utils.uniqueId(),point:e});return t||n.type==="sticky"&&(n.text=""),n});var n;this.shape=this.app.getShape(t),this.grid["0_0"]=this.shape.id,this.bounds=this.app.getShapeBounds(t),this.initialSelectedIds=[...this.app.selectedIds],this.shape.parentId!==this.app.currentPageId&&(this.initialSiblings=(n=this.app.getShape(this.shape.parentId).children)==null?void 0:n.filter(o=>o!==this.shape.id))}};var Jr=require("@tldraw/vec");var ja=class extends Xe{constructor(e,t,n,o="move_handle"){super(e);l(this,"type","handle");l(this,"performanceMode");l(this,"status","translatingHandle");l(this,"commandId");l(this,"topLeft");l(this,"shiftKey",!1);l(this,"initialShape");l(this,"handleId");l(this,"start",()=>{});l(this,"update",()=>{var u,p;let{initialShape:e,app:{currentPageId:t,currentPoint:n}}=this,o=this.app.getShape(e.id);if(o.isLocked)return;let r=o.handles,a=this.handleId,d=Jr.Vec.sub(n,r[a].point),i={[a]:x(S({},r[a]),{point:Jr.Vec.sub(Jr.Vec.add(r[a].point,d),o.point)})},c=(p=(u=v.getShapeUtil(o)).onHandleChange)==null?void 0:p.call(u,o,i);if(!!c)return{document:{pages:{[t]:{shapes:{[o.id]:c}}}}}});l(this,"cancel",()=>{let{initialShape:e,app:{currentPageId:t}}=this;return{document:{pages:{[t]:{shapes:{[e.id]:e}}}}}});l(this,"complete",()=>{let{initialShape:e,app:{currentPageId:t}}=this;return{id:this.commandId,before:{document:{pages:{[t]:{shapes:{[e.id]:e}}}}},after:{document:{pages:{[t]:{shapes:{[e.id]:v.onSessionComplete(this.app.getShape(this.initialShape.id))}}}}}}});let{originPoint:r}=e;this.topLeft=[...r],this.handleId=n,this.initialShape=this.app.getShape(t),this.commandId=o}};var As=require("@tldraw/core"),Va=require("@tldraw/vec");var Ga=class extends Xe{constructor(e){super(e);l(this,"type","rotate");l(this,"status","transforming");l(this,"performanceMode");l(this,"delta",[0,0]);l(this,"commonBoundsCenter");l(this,"initialAngle");l(this,"initialShapes");l(this,"changes",{});l(this,"start",()=>{});l(this,"update",()=>{let{commonBoundsCenter:e,initialShapes:t,app:{currentPageId:n,currentPoint:o,shiftKey:r}}=this,a={},d=Va.Vec.angle(e,o)-this.initialAngle;return r&&(d=As.Utils.snapAngleToSegments(d,24)),t.forEach(({center:i,shape:c})=>{let{rotation:u=0}=c,p=0;r&&(p=As.Utils.snapAngleToSegments(u,24)-u);let m=v.getRotatedShapeMutation(c,i,e,r?d+p:d);m&&(a[c.id]=m)}),this.changes=a,{document:{pages:{[n]:{shapes:a}}}}});l(this,"cancel",()=>{let{initialShapes:e,app:{currentPageId:t}}=this,n={};return e.forEach(({shape:o})=>n[o.id]=o),{document:{pages:{[t]:{shapes:n}}}}});l(this,"complete",()=>{let{initialShapes:e,app:{currentPageId:t}}=this,n={},o=this.changes;return e.forEach(({shape:{id:r,point:a,rotation:d,handles:i}})=>{n[r]={point:a,rotation:d,handles:i}}),{id:"rotate",before:{document:{pages:{[t]:{shapes:n}}}},after:{document:{pages:{[t]:{shapes:o}}}}}});let{app:{currentPageId:t,pageState:n,originPoint:o}}=this,r=v.getSelectedBranchSnapshot(e.state,t).filter(a=>!a.isLocked);if(r.length===0)throw Error("No selected shapes!");if(e.rotationInfo.selectedIds===n.selectedIds){if(e.rotationInfo.center===void 0)throw Error("We should have a center for rotation!");this.commonBoundsCenter=e.rotationInfo.center}else this.commonBoundsCenter=As.Utils.getBoundsCenter(As.Utils.getCommonBounds(r.map(v.getBounds))),e.rotationInfo.selectedIds=n.selectedIds,e.rotationInfo.center=this.commonBoundsCenter;this.initialShapes=r.filter(a=>a.children===void 0).map(a=>({shape:a,center:this.app.getShapeUtil(a).getCenter(a)})),this.initialAngle=Va.Vec.angle(this.commonBoundsCenter,o)}};var gt=require("@tldraw/core"),ko=require("@tldraw/vec");var $a=class extends Xe{constructor(e,t=gt.TLBoundsCorner.BottomRight,n=!1){super(e);this.transformType=t;this.isCreate=n;l(this,"type","transform");l(this,"performanceMode");l(this,"status","transforming");l(this,"scaleX",1);l(this,"scaleY",1);l(this,"initialShapes");l(this,"initialShapeIds");l(this,"initialSelectedIds");l(this,"shapeBounds");l(this,"hasUnlockedShapes");l(this,"isAllAspectRatioLocked");l(this,"initialCommonBounds");l(this,"snapInfo",{state:"empty"});l(this,"prevPoint",[0,0]);l(this,"speed",1);l(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(e=>!this.initialShapeIds.includes(e.id)).map(e=>gt.Utils.getBoundsWithCenter(v.getRotatedBounds(e)))}});l(this,"update",()=>{let{transformType:e,shapeBounds:t,initialCommonBounds:n,isAllAspectRatioLocked:o,app:{currentPageId:r,pageState:{camera:a},viewport:d,currentPoint:i,previousPoint:c,originPoint:u,shiftKey:p,altKey:m,metaKey:h,currentGrid:g,settings:{isSnapping:f,showGrid:T}}}=this,w={},b=m?ko.Vec.mul(ko.Vec.sub(i,u),2):ko.Vec.sub(i,u),y=gt.Utils.getTransformedBoundingBox(n,e,b,0,p||o);m&&(y=S(S({},y),gt.Utils.centerBounds(y,gt.Utils.getBoundsCenter(n)))),T&&(y=S(S({},y),gt.Utils.snapBoundsToGrid(y,g)));let G=ko.Vec.dist(i,c)-this.speed;this.speed=this.speed+G*(G>1?.5:.15);let M=[];if((f&&!h||!f&&h)&&this.speed*a.zoom<10&&this.snapInfo.state==="ready"){let k=gt.Utils.getSnapPoints(gt.Utils.getBoundsWithCenter(y),this.snapInfo.bounds.filter(I=>gt.Utils.boundsContain(d,I)||gt.Utils.boundsCollide(d,I)),5/a.zoom);k&&(M=k.snapLines,y=gt.Utils.getTransformedBoundingBox(n,e,ko.Vec.sub(b,k.offset),0,p||o))}return this.scaleX=y.scaleX,this.scaleY=y.scaleY,t.forEach(({initialShape:k,initialShapeBounds:I,transformOrigin:Y})=>{let le=gt.Utils.getRelativeTransformedBoundingBox(y,n,I,this.scaleX<0,this.scaleY<0);T&&(le=gt.Utils.snapBoundsToGrid(le,g));let ae=v.transform(this.app.getShape(k.id),le,{type:this.transformType,initialShape:k,scaleX:this.scaleX,scaleY:this.scaleY,transformOrigin:Y});w[k.id]=ae}),{appState:{snapLines:M},document:{pages:{[r]:{shapes:w}}}}});l(this,"cancel",()=>{let{shapeBounds:e,app:{currentPageId:t}}=this,n={};return this.isCreate?e.forEach(o=>n[o.initialShape.id]=void 0):e.forEach(o=>n[o.initialShape.id]=o.initialShape),{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:e.map(o=>o.initialShape.id)}}}}});l(this,"complete",()=>{let{isCreate:e,shapeBounds:t,hasUnlockedShapes:n,app:{currentPageId:o}}=this;if(!n)return;if(this.isCreate&&ko.Vec.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let r={},a={},d,i;return e?(d=[],i=[],t.forEach(({initialShape:c})=>{r[c.id]=void 0,a[c.id]=this.app.getShape(c.id)})):(d=this.initialSelectedIds,i=this.initialSelectedIds,t.forEach(({initialShape:c})=>{r[c.id]=c,a[c.id]=this.app.getShape(c.id)})),{id:"transform",before:{appState:{snapLines:[]},document:{pages:{[o]:{shapes:r}},pageStates:{[o]:{selectedIds:d,hoveredId:void 0,editingId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[o]:{shapes:a}},pageStates:{[o]:{selectedIds:i,hoveredId:void 0,editingId:void 0}}}}}});this.initialSelectedIds=[...this.app.selectedIds],this.app.rotationInfo.selectedIds=[...this.initialSelectedIds],this.initialShapes=v.getSelectedBranchSnapshot(this.app.state,this.app.currentPageId).filter(d=>!d.isLocked),this.initialShapeIds=this.initialShapes.map(d=>d.id),this.hasUnlockedShapes=this.initialShapes.length>0,this.isAllAspectRatioLocked=this.initialShapes.every(d=>d.isAspectRatioLocked||v.getShapeUtil(d).isAspectRatioLocked);let o=Object.fromEntries(this.initialShapes.map(d=>[d.id,v.getBounds(d)])),r=Object.values(o);this.initialCommonBounds=gt.Utils.getCommonBounds(r);let a=gt.Utils.getBoundsFromPoints(r.map(gt.Utils.getBoundsCenter));this.shapeBounds=this.initialShapes.map(d=>{let i=o[d.id],c=gt.Utils.getBoundsCenter(i),u=(c[0]-a.minX)/a.width,p=(c[1]-a.minY)/a.height;return{initialShape:d,initialShapeBounds:i,transformOrigin:[u,p]}})}};var un=require("@tldraw/core"),co=require("@tldraw/vec");var Na=class extends Xe{constructor(e,t,n,o=!1){super(e);l(this,"type","transformSingle");l(this,"status","transforming");l(this,"performanceMode");l(this,"transformType");l(this,"scaleX",1);l(this,"scaleY",1);l(this,"isCreate");l(this,"initialShape");l(this,"initialShapeBounds");l(this,"initialCommonBounds");l(this,"snapInfo",{state:"empty"});l(this,"prevPoint",[0,0]);l(this,"speed",1);l(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(e=>e.id!==this.initialShape.id).map(e=>un.Utils.getBoundsWithCenter(v.getRotatedBounds(e)))}});l(this,"update",()=>{let{transformType:e,initialShape:t,initialShapeBounds:n,app:{settings:{isSnapping:o,showGrid:r},currentPageId:a,pageState:{camera:d},viewport:i,currentPoint:c,previousPoint:u,originPoint:p,currentGrid:m,shiftKey:h,altKey:g,metaKey:f}}=this;if(t.isLocked)return;let T={},w=g?co.Vec.mul(co.Vec.sub(c,p),2):co.Vec.sub(c,p),b=this.app.getShape(t.id),y=v.getShapeUtil(b),P=un.Utils.getTransformedBoundingBox(n,e,w,b.rotation,h||b.isAspectRatioLocked||y.isAspectRatioLocked);g&&(P=S(S({},P),un.Utils.centerBounds(P,un.Utils.getBoundsCenter(n)))),r&&(P=S(S({},P),un.Utils.snapBoundsToGrid(P,m)));let M=co.Vec.dist(c,u)-this.speed;this.speed=this.speed+M*(M>1?.5:.15);let k=[];if((o&&!f||!o&&f)&&!t.rotation&&this.speed*d.zoom<10&&this.snapInfo.state==="ready"){let Y=un.Utils.getSnapPoints(un.Utils.getBoundsWithCenter(P),this.snapInfo.bounds.filter(le=>un.Utils.boundsContain(i,le)||un.Utils.boundsCollide(i,le)),5/d.zoom);Y&&(k=Y.snapLines,P=un.Utils.getTransformedBoundingBox(n,e,co.Vec.sub(w,Y.offset),b.rotation,h||b.isAspectRatioLocked||y.isAspectRatioLocked))}let I=v.getShapeUtil(b).transformSingle(b,P,{initialShape:t,type:this.transformType,scaleX:P.scaleX,scaleY:P.scaleY,transformOrigin:[.5,.5]});return I&&(T[b.id]=I),r&&I&&I.point&&(I.point=co.Vec.snap(I.point,m)),{appState:{snapLines:k},document:{pages:{[a]:{shapes:T}}}}});l(this,"cancel",()=>{let{initialShape:e,app:{currentPageId:t}}=this,n={};return this.isCreate?n[e.id]=void 0:n[e.id]=e,{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:[e.id]}}}}});l(this,"complete",()=>{let{initialShape:e,app:{currentPageId:t}}=this;if(e.isLocked)return;if(this.isCreate&&co.Vec.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let n={},o={};return n[e.id]=this.isCreate?void 0:e,o[e.id]=v.onSessionComplete(this.app.getShape(e.id)),{id:"transform_single",before:{appState:{snapLines:[]},document:{pages:{[t]:{shapes:n}},pageStates:{[t]:{selectedIds:this.isCreate?[]:[e.id],editingId:void 0,hoveredId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[t]:{shapes:o}},pageStates:{[t]:{selectedIds:[e.id],editingId:void 0,hoveredId:void 0}}}}}});this.isCreate=o,this.transformType=n;let r=this.app.getShape(t);this.initialShape=r,this.initialShapeBounds=v.getBounds(r),this.initialCommonBounds=v.getRotatedBounds(r),this.app.rotationInfo.selectedIds=[r.id]}};var zt=require("@tldraw/core"),$e=require("@tldraw/vec");var Wa=class extends Xe{constructor(e,t=!1,n=!1){super(e);l(this,"performanceMode");l(this,"type","translate");l(this,"status","translating");l(this,"delta",[0,0]);l(this,"prev",[0,0]);l(this,"prevPoint",[0,0]);l(this,"speed",1);l(this,"cloneInfo",{state:"empty"});l(this,"snapInfo",{state:"empty"});l(this,"snapLines",[]);l(this,"isCloning",!1);l(this,"isCreate");l(this,"link");l(this,"initialIds");l(this,"hasUnlockedShapes");l(this,"initialSelectedIds");l(this,"initialCommonBounds");l(this,"initialShapes");l(this,"initialParentChildren");l(this,"bindingsToDelete");l(this,"start",()=>{let{bindingsToDelete:e,initialIds:t,app:{currentPageId:n,page:o}}=this,r=[],a=[];if(Object.values(o.shapes).forEach(c=>{let u=zt.Utils.getBoundsWithCenter(v.getRotatedBounds(c));r.push(u),t.has(c.id)||a.push(u)}),this.snapInfo={state:"ready",bounds:r,others:a},e.length===0)return;let d={},i={};return e.forEach(c=>{d[c.id]=void 0;let u=this.app.getShape(c.fromId);i[c.fromId]={handles:x(S({},u.handles),{[c.handleId]:x(S({},u.handles[c.handleId]),{bindingId:void 0})})}}),{document:{pages:{[n]:{bindings:d,shapes:i}}}}});l(this,"update",()=>{let{initialParentChildren:e,initialShapes:t,initialCommonBounds:n,bindingsToDelete:o,app:{pageState:{camera:r},settings:{isSnapping:a,showGrid:d},currentPageId:i,viewport:c,selectedIds:u,currentPoint:p,previousPoint:m,originPoint:h,altKey:g,shiftKey:f,metaKey:T,currentGrid:w}}=this,b={},y={},P={},G=$e.Vec.sub(p,h),M=!1;this.isCreate||(g&&!this.isCloning?(this.isCloning=!0,M=!0):!g&&this.isCloning&&(this.isCloning=!1,M=!0)),f&&(Math.abs(G[0])<Math.abs(G[1])?G[0]=0:G[1]=0);let I=$e.Vec.dist(p,m)-this.speed;if(this.speed=this.speed+I*(I>1?.5:.15),this.snapLines=[],(a&&!T||!a&&T)&&this.speed*r.zoom<10&&this.snapInfo.state==="ready"){let Y=zt.Utils.getSnapPoints(zt.Utils.getBoundsWithCenter(d?zt.Utils.snapBoundsToGrid(zt.Utils.translateBounds(n,G),w):zt.Utils.translateBounds(n,G)),(this.isCloning?this.snapInfo.bounds:this.snapInfo.others).filter(le=>zt.Utils.boundsContain(c,le)||zt.Utils.boundsCollide(c,le)),5/r.zoom);Y&&(this.snapLines=Y.snapLines,G=$e.Vec.sub(G,Y.offset))}if(this.prev=G,this.isCloning)if(M){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state==="empty")throw Error;let{clones:Y,clonedBindings:le}=this.cloneInfo;this.isCloning=!0,o.forEach(ae=>b[ae.id]=ae),t.forEach(ae=>y[ae.id]={point:ae.point}),Y.forEach(ae=>{var Re;if(y[ae.id]=S({},ae),ae.parentId!==i&&!u.includes(ae.parentId)){let Ce=((Re=y[ae.parentId])==null?void 0:Re.children)||e[ae.parentId];Ce.includes(ae.id)||(y[ae.parentId]=x(S({},y[ae.parentId]),{children:[...Ce,ae.id]}))}});for(let ae of le)b[ae.id]=ae;P.selectedIds=Y.map(ae=>ae.id),Y.forEach(ae=>{y[ae.id]=x(S({},ae),{point:d?$e.Vec.snap($e.Vec.toFixed($e.Vec.add(ae.point,G)),w):$e.Vec.toFixed($e.Vec.add(ae.point,G))})})}else{if(this.cloneInfo.state==="empty")throw Error;let{clones:Y}=this.cloneInfo;Y.forEach(le=>{y[le.id]={point:d?$e.Vec.snap($e.Vec.toFixed($e.Vec.add(le.point,G)),w):$e.Vec.toFixed($e.Vec.add(le.point,G))}})}else if(M){if(this.cloneInfo.state==="empty")throw Error;let{clones:Y,clonedBindings:le}=this.cloneInfo;this.isCloning=!1,o.forEach(ae=>b[ae.id]=void 0),Y.forEach(ae=>{ae.parentId!==i&&(y[ae.parentId]=x(S({},y[ae.parentId]),{children:e[ae.parentId]}))}),Y.forEach(ae=>y[ae.id]=void 0),t.forEach(ae=>{y[ae.id]={point:d?$e.Vec.snap($e.Vec.toFixed($e.Vec.add(ae.point,G)),w):$e.Vec.toFixed($e.Vec.add(ae.point,G))}});for(let ae of le)b[ae.id]=void 0;P.selectedIds=t.map(ae=>ae.id)}else t.forEach(Y=>{y[Y.id]={point:d?$e.Vec.snap($e.Vec.toFixed($e.Vec.add(Y.point,G)),w):$e.Vec.toFixed($e.Vec.add(Y.point,G))}});return{appState:{snapLines:this.snapLines},document:{pages:{[i]:{shapes:y,bindings:b}},pageStates:{[i]:P}}}});l(this,"cancel",()=>{let{initialShapes:e,initialSelectedIds:t,bindingsToDelete:n,app:{currentPageId:o}}=this,r={},a={},d={editingId:void 0,hoveredId:void 0};if(this.isCreate?(e.forEach(({id:i})=>a[i]=void 0),d.selectedIds=[]):(e.forEach(({id:i,point:c,handles:u})=>a[i]=u?x(S({},a[i]),{point:c,handles:u}):x(S({},a[i]),{point:c})),d.selectedIds=t,n.forEach(i=>{r[i.id]=i})),this.cloneInfo.state==="ready"){let{clones:i,clonedBindings:c}=this.cloneInfo;i.forEach(u=>a[u.id]=void 0),c.forEach(u=>r[u.id]=void 0)}return{appState:{snapLines:[]},document:{pages:{[o]:{shapes:a,bindings:r}},pageStates:{[o]:d}}}});l(this,"complete",()=>{let{initialShapes:e,initialParentChildren:t,bindingsToDelete:n,app:{currentPageId:o}}=this,r={},a={},d={},i={};if(this.isCloning){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state!=="ready")throw Error;let{clones:c,clonedBindings:u}=this.cloneInfo;c.forEach(p=>{a[p.id]=void 0,i[p.id]=this.app.getShape(p.id),p.parentId!==o&&(a[p.parentId]=x(S({},a[p.parentId]),{children:t[p.parentId]}),i[p.parentId]=x(S({},i[p.parentId]),{children:this.app.getShape(p.parentId).children}))}),u.forEach(p=>{r[p.id]=void 0,d[p.id]=this.app.getBinding(p.id)})}else e.forEach(c=>{a[c.id]=this.isCreate?void 0:x(S({},a[c.id]),{point:c.point}),i[c.id]=S(S({},i[c.id]),this.isCreate?this.app.getShape(c.id):{point:this.app.getShape(c.id).point})});return n.forEach(c=>{var u,p,m,h,g;r[c.id]=c,a[c.fromId]=x(S({},a[c.fromId]),{id:c.fromId,handles:x(S({},(u=a[c.fromId])==null?void 0:u.handles),{[c.handleId]:x(S({},(m=(p=a[c.fromId])==null?void 0:p.handles)==null?void 0:m[c.handleId]),{bindingId:c.id})})}),i[c.fromId]=x(S({},i[c.fromId]),{id:c.fromId,handles:x(S({},i[c.fromId].handles),{[c.handleId]:x(S({},(g=(h=i[c.fromId])==null?void 0:h.handles)==null?void 0:g[c.handleId]),{bindingId:void 0})})})}),n.forEach(c=>d[c.id]=void 0),{id:"translate",before:{appState:{snapLines:[]},document:{pages:{[o]:{shapes:a,bindings:r}},pageStates:{[o]:{selectedIds:this.isCreate?[]:[...this.initialSelectedIds]}}}},after:{appState:{snapLines:[]},document:{pages:{[o]:{shapes:i,bindings:d}},pageStates:{[o]:{selectedIds:[...this.app.selectedIds]}}}}}});l(this,"createCloneInfo",()=>{let{initialShapes:e,initialParentChildren:t,app:{selectedIds:n,currentPageId:o,page:r}}=this,a={},d={},i=[],c=[];e.forEach(p=>{let m=zt.Utils.uniqueId();t[m]=t[p.id],a[p.id]=m;let h=x(S({},zt.Utils.deepClone(p)),{id:m,parentId:p.parentId,childIndex:v.getChildIndexAbove(this.app.state,p.id,o)});if(h.type==="video"){let g=document.getElementById(p.id+"_video");g&&(h.currentTime=(g.currentTime+16)%g.duration)}c.push(h)}),c.forEach(p=>{p.children!==void 0&&(p.children=p.children.map(m=>a[m]))}),c.forEach(p=>{n.includes(p.parentId)&&(p.parentId=a[p.parentId])});let u=new Set(Object.keys(a));Object.values(r.bindings).filter(p=>u.has(p.fromId)||u.has(p.toId)).forEach(p=>{if(u.has(p.fromId)&&u.has(p.toId)){let m=zt.Utils.uniqueId(),h=x(S({},zt.Utils.deepClone(p)),{id:m,fromId:a[p.fromId]||p.fromId,toId:a[p.toId]||p.toId});d[p.id]=m,i.push(h)}}),c.forEach(p=>{if(p.handles&&p.handles)for(let m in p.handles){let h=p.handles[m];h.bindingId=h.bindingId?d[h.bindingId]:void 0}}),c.forEach(p=>{if(r.shapes[p.id])throw Error("uh oh, we didn't clone correctly")}),this.cloneInfo={state:"ready",clones:c,cloneMap:a,clonedBindings:i}});this.isCreate=t,this.link=n;let{currentPageId:o,selectedIds:r,page:a}=this.app;this.initialSelectedIds=[...r];let d=(n?v.getLinkedShapeIds(this.app.state,o,n,!1):r).map(c=>this.app.getShape(c)).filter(c=>!c.isLocked),i=new Set(d.map(c=>c.id));this.hasUnlockedShapes=d.length>0,this.initialShapes=Array.from(new Set(d.filter(c=>!i.has(c.parentId)).flatMap(c=>c.children?[c,...c.children.map(u=>this.app.getShape(u))]:[c])).values()),this.initialIds=new Set(this.initialShapes.map(c=>c.id)),this.bindingsToDelete=[],Object.values(a.bindings).filter(c=>this.initialIds.has(c.fromId)||this.initialIds.has(c.toId)).forEach(c=>{this.initialIds.has(c.fromId)&&(this.initialIds.has(c.toId)||this.bindingsToDelete.push(c))}),this.initialParentChildren={},this.initialShapes.map(c=>c.parentId).filter(c=>c!==a.id).forEach(c=>{this.initialParentChildren[c]=this.app.getShape(c).children}),this.initialCommonBounds=zt.Utils.getCommonBounds(this.initialShapes.map(v.getRotatedBounds)),this.app.rotationInfo.selectedIds=[...this.app.selectedIds]}};var Bte={["arrow"]:Ea,["brush"]:Ra,["draw"]:Aa,["erase"]:Ha,["handle"]:ja,["rotate"]:Ga,["transform"]:$a,["transformSingle"]:Na,["translate"]:Wa,["grid"]:Fa,["edit"]:La},kp=s=>Bte[s];var Cp=require("@tldraw/core"),Dp=z(require("@tldraw/vec"));var Ip=require("@tldraw/core");var rt=class extends tr{constructor(e){super();this.app=e;l(this,"type","select");l(this,"previous");l(this,"status","idle");l(this,"setStatus",e=>{this.status=e,this.app.setStatus(this.status)});l(this,"onEnter",()=>{this.setStatus("idle")});l(this,"onExit",()=>{this.setStatus("idle")});l(this,"onCancel",()=>{this.status==="idle"?this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()});l(this,"getNextChildIndex",()=>{let{shapes:e,appState:{currentPageId:t}}=this.app;return e.length===0?1:e.filter(n=>n.parentId===t).sort((n,o)=>o.childIndex-n.childIndex)[0].childIndex+1});l(this,"onPinchStart",()=>{this.app.cancelSession(),this.setStatus("pinching")});l(this,"onPinchEnd",()=>{Ip.Utils.isMobileSafari()&&this.app.undoSelect(),this.setStatus("idle")});l(this,"onPinch",(e,t)=>{var n;this.status==="pinching"&&(isNaN(e.delta[0])||isNaN(e.delta[1])||(this.app.pinchZoom(e.point,e.delta,e.delta[2]),(n=this.onPointerMove)==null||n.call(this,e,t)))});l(this,"onKeyDown",e=>{if(e==="Escape"){this.onCancel();return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});l(this,"onKeyUp",e=>{if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});l(this,"onPointerMove",()=>{this.status==="creating"&&this.app.updateSession()});l(this,"onPointerUp",()=>{if(this.status==="creating"){this.app.completeSession();let{isToolLocked:e}=this.app.appState;e||this.app.selectTool("select")}this.setStatus("idle")})}};var zs=class extends rt{constructor(){super(...arguments);l(this,"type","arrow");l(this,"onPointerDown",()=>{if(this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:r}}=this.app,a=this.getNextChildIndex(),d=Cp.Utils.uniqueId(),i=qo.create({id:d,parentId:o,childIndex:a,point:n?Dp.default.snap(e,t):e,style:S({},r)});this.app.patchCreate([i]),this.app.startSession("arrow",i.id,"end",!0),this.setStatus("creating")})}};var Pp=require("@tldraw/core");var Os=class extends rt{constructor(){super(...arguments);l(this,"type","draw");l(this,"lastShapeId");l(this,"onEnter",()=>{this.lastShapeId=void 0});l(this,"onCancel",()=>{switch(this.status){case"idle":{this.app.selectTool("select");break}default:{this.setStatus("idle");break}}this.app.cancelSession()});l(this,"onPointerDown",e=>{if(this.status!=="idle"||this.app.readOnly)return;let{currentPoint:t,appState:{currentPageId:n,currentStyle:o}}=this.app,r=this.lastShapeId&&this.app.getShape(this.lastShapeId);if(e.shiftKey&&r)this.app.startSession("draw",r.id),this.setStatus("extending");else{let a=this.getNextChildIndex(),d=Pp.Utils.uniqueId(),i=Gr.create({id:d,parentId:n,childIndex:a,point:t,style:S({},o)});this.lastShapeId=d,this.app.patchCreate([i]),this.app.startSession("draw",d),this.setStatus("creating")}});l(this,"onPointerMove",()=>{if(!this.app.readOnly)switch(this.status){case"extending":case"creating":this.app.updateSession()}});l(this,"onPointerUp",()=>{this.app.completeSession(),this.setStatus("idle")})}};var Qr=require("@tldraw/core"),Mp=z(require("@tldraw/vec"));var Fs=class extends rt{constructor(){super(...arguments);l(this,"type","ellipse");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:r}}=this.app,a=this.getNextChildIndex(),d=Qr.Utils.uniqueId(),i=Vr.create({id:d,parentId:o,childIndex:a,point:n?Mp.default.snap(e,t):e,style:S({},r)});this.app.patchCreate([i]),this.app.startSession("transformSingle",i.id,Qr.TLBoundsCorner.BottomRight,!0),this.setStatus("creating")})}};var Ep=z(require("@tldraw/vec"));var js=class extends rt{constructor(){super(...arguments);l(this,"type","erase");l(this,"status","idle");l(this,"onPointerDown",()=>{this.app.readOnly||this.status==="idle"&&this.setStatus("pointing")});l(this,"onPointerMove",e=>{if(!this.app.readOnly)switch(this.status){case"pointing":{Ep.default.dist(e.origin,e.point)>3&&(this.app.startSession("erase"),this.app.updateSession(),this.setStatus("erasing"));break}case"erasing":this.app.updateSession()}});l(this,"onPointerUp",()=>{if(!this.app.readOnly){switch(this.status){case"pointing":{let e=this.app.shapes.filter(t=>!t.isLocked).filter(t=>this.app.getShapeUtil(t).hitTestPoint(t,this.app.currentPoint)).flatMap(t=>t.children?[t.id,...t.children]:t.id);this.app.delete(e);break}case"erasing":this.app.completeSession()}this.setStatus("idle")}});l(this,"onCancel",()=>{this.status==="idle"?this.previous?this.app.selectTool(this.previous):this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()})}};var Bp=require("@tldraw/core"),Rp=z(require("@tldraw/vec"));var Vs=class extends rt{constructor(){super(...arguments);l(this,"type","line");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:r}}=this.app,a=this.getNextChildIndex(),d=Bp.Utils.uniqueId(),i=qo.create({id:d,parentId:o,childIndex:a,point:n?Rp.default.snap(e,t):e,decorations:{start:void 0,end:void 0},style:S({},r)});this.app.patchCreate([i]),this.app.startSession("arrow",i.id,"end",!0),this.setStatus("creating")})}};var ei=require("@tldraw/core"),Ap=z(require("@tldraw/vec"));var Gs=class extends rt{constructor(){super(...arguments);l(this,"type","rectangle");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:r}}=this.app,a=this.getNextChildIndex(),d=ei.Utils.uniqueId(),i=Fr.create({id:d,parentId:o,childIndex:a,point:n?Ap.default.snap(e,t):e,style:S({},r)});this.app.patchCreate([i]),this.app.startSession("transformSingle",i.id,ei.TLBoundsCorner.BottomRight,!0),this.setStatus("creating")})}};var ss=require("@tldraw/core"),An=z(require("@tldraw/vec"));var $s=class extends rt{constructor(){super(...arguments);l(this,"type","select");l(this,"pointedId");l(this,"selectedGroupId");l(this,"pointedHandleId");l(this,"pointedBoundsHandle");l(this,"pointedLinkHandleId");l(this,"onEnter",()=>{this.setStatus("idle")});l(this,"onExit",()=>{this.setStatus("idle")});l(this,"clonePaint",e=>{if(this.app.selectedIds.length===0)return;let t=this.app.selectedIds.map(c=>this.app.getShape(c)),n=ss.Utils.expandBounds(ss.Utils.getCommonBounds(t.map(v.getBounds)),16),o=ss.Utils.getBoundsCenter(n),r=[n.width,n.height],a=[o[0]+r[0]*Math.floor((e[0]+r[0]/2-o[0])/r[0]),o[1]+r[1]*Math.floor((e[1]+r[1]/2-o[1])/r[1])],d=ss.Utils.centerBounds(n,a);this.app.shapes.some(c=>v.getShapeUtil(c).hitTestBounds(c,d))||this.app.duplicate(this.app.selectedIds,a)});l(this,"getShapeClone",(e,t)=>{let n=this.app.getShape(e),o=v.getShapeUtil(n);if(o.canClone){let r=o.getBounds(n),a=o.getCenter(n),d={top:[r.minX,r.minY-(r.height+32)],right:[r.maxX+32,r.minY],bottom:[r.minX,r.maxY+32],left:[r.minX-(r.width+32),r.minY],topLeft:[r.minX-(r.width+32),r.minY-(r.height+32)],topRight:[r.maxX+32,r.minY-(r.height+32)],bottomLeft:[r.minX-(r.width+32),r.maxY+32],bottomRight:[r.maxX+32,r.maxY+32]}[t];if(n.rotation!==0){let u=An.default.add(d,[r.width/2,r.height/2]),p=An.default.rotWith(u,a,n.rotation||0);d=An.default.sub(p,[r.width/2,r.height/2])}let i=ss.Utils.uniqueId(),c=x(S({},n),{id:i,point:d});return c.type==="sticky"&&(c.text=""),c}});l(this,"onCancel",()=>{this.app.session?this.app.cancelSession():this.selectNone(),this.setStatus("idle")});l(this,"onKeyDown",(e,t,n)=>{switch(e){case"Escape":{this.onCancel();break}case"Tab":{if(this.app.readOnly)return;if(!this.app.pageState.editingId&&this.status==="idle"&&this.app.selectedIds.length===1){let[o]=this.app.selectedIds,r=this.getShapeClone(o,"right");r&&(this.app.createShapes(r),this.setStatus("idle"),r.type==="sticky"&&(this.app.select(r.id),this.app.setEditingId(r.id)))}break}case"Meta":case"Control":case"Alt":{this.app.updateSession();break}case"Enter":{if(this.app.readOnly)return;let{pageState:o}=this.app;o.selectedIds.length===1&&!o.editingId&&(this.app.setEditingId(o.selectedIds[0]),n.preventDefault())}}});l(this,"onKeyUp",(e,t)=>{if(this.status==="clonePainting"&&!(t.altKey&&t.shiftKey)){this.setStatus("idle");return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}});l(this,"onPointerMove",()=>{let{originPoint:e,currentPoint:t}=this.app;if(this.app.readOnly&&this.app.isPointing){this.app.session?this.app.updateSession():An.default.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));return}switch(this.status){case"pointingBoundsHandle":{if(!this.pointedBoundsHandle)throw Error("No pointed bounds handle");if(An.default.dist(e,t)>3){if(this.pointedBoundsHandle==="rotate")this.setStatus("rotating"),this.app.startSession("rotate");else if(this.pointedBoundsHandle==="center"||this.pointedBoundsHandle==="left"||this.pointedBoundsHandle==="right")this.setStatus("translating"),this.app.startSession("translate",!1,this.pointedBoundsHandle);else{this.setStatus("transforming");let n=this.app.selectedIds.flatMap(o=>v.getDocumentBranch(this.app.state,o,this.app.currentPageId));n.length===1?this.app.startSession("transformSingle",n[0],this.pointedBoundsHandle):this.app.startSession("transform",this.pointedBoundsHandle)}this.app.updateSession()}break}case"pointingCanvas":{An.default.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));break}case"pointingClone":{An.default.dist(e,t)>3&&(this.setStatus("translatingClone"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingBounds":{An.default.dist(e,t)>3&&(this.setStatus("translating"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingHandle":{if(!this.pointedHandleId)throw Error("No pointed handle");if(An.default.dist(e,t)>3){this.setStatus("translatingHandle");let n=this.app.getShape(this.app.selectedIds[0]);n&&(this.pointedHandleId==="bend"?(this.app.startSession("handle",n.id,this.pointedHandleId),this.app.updateSession()):(this.app.startSession("arrow",n.id,this.pointedHandleId,!1),this.app.updateSession()))}break}case"clonePainting":{this.clonePaint(t);break}default:if(this.app.session){this.app.updateSession();break}}});l(this,"onPointerDown",(e,t)=>{if(e.target==="canvas"&&this.status==="idle"){let{currentPoint:n}=this.app;if(e.spaceKey&&t.buttons===1)return;if(this.status==="idle"&&e.altKey&&e.shiftKey){this.setStatus("clonePainting"),this.clonePaint(n);return}if(!e.shiftKey){if(this.app.onShapeBlur(),e.altKey&&this.app.selectedIds.length>0){this.app.duplicate(this.app.selectedIds,n);return}this.selectNone()}this.setStatus("pointingCanvas")}});l(this,"onPointerUp",e=>{var t;if(this.status==="translatingClone"||this.status==="pointingClone"){this.pointedId&&(this.app.completeSession(),this.app.setEditingId(this.pointedId)),this.setStatus("idle"),this.pointedId=void 0;return}if(this.status==="pointingBounds"){if(e.target==="bounds")this.selectNone();else if(this.app.isSelected(e.target))e.shiftKey?this.pointedId!==e.target&&this.deselect(e.target):this.pointedId!==e.target&&this.app.selectedIds.length>1&&this.select(e.target);else if(this.pointedId===e.target){if(this.app.getShape(e.target).isLocked)return;e.shiftKey?this.pushSelect(e.target):this.select(e.target)}}this.setStatus("idle"),this.pointedBoundsHandle=void 0,this.pointedHandleId=void 0,this.pointedId=void 0,((t=this.app.session)==null?void 0:t.type)!=="edit"&&this.app.completeSession()});l(this,"onDoubleClickCanvas",()=>{!this.app.readOnly});l(this,"onPointShape",(e,t)=>{if(e.spaceKey&&t.buttons===1||this.app.getShape(e.target).isLocked)return;let{editingId:n,hoveredId:o}=this.app.pageState;if(n&&e.target!==n&&this.app.onShapeBlur(),(this.status==="idle"||this.status==="pointingBounds")&&e.metaKey&&e.shiftKey&&o){this.pointedId=o,this.app.isSelected(o)?this.deselect(o):(this.pushSelect(o),this.setStatus("pointingBounds"));return}if(this.status==="pointingBounds"){let{parentId:r}=this.app.getShape(e.target);this.pointedId=r===this.app.currentPageId?e.target:r;return}if(this.status==="idle"){if(this.setStatus("pointingBounds"),e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}let r,{parentId:a}=this.app.getShape(e.target);a===this.app.currentPageId?(r=e.target,this.selectedGroupId=void 0):a===this.selectedGroupId?r=e.target:(r=a,this.selectedGroupId=void 0),this.app.isSelected(r)||(this.pointedId=r,e.shiftKey?this.pushSelect(r):this.select(r))}});l(this,"onDoubleClickShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);if(t.isLocked){this.app.select(e.target);return}v.getShapeUtil(t.type).canEdit&&(t.parentId===this.app.currentPageId||t.parentId===this.selectedGroupId)&&this.app.setEditingId(e.target),t.parentId!==this.app.currentPageId&&(this.selectedGroupId=t.parentId),this.app.select(e.target)});l(this,"onRightPointShape",e=>{this.app.isSelected(e.target)||this.app.select(e.target)});l(this,"onHoverShape",e=>{this.app.setHoveredId(e.target)});l(this,"onUnhoverShape",e=>{let{currentPageId:t}=this.app;requestAnimationFrame(()=>{t===this.app.currentPageId&&this.app.pageState.hoveredId===e.target&&this.app.setHoveredId(void 0)})});l(this,"onPointBounds",e=>{if(e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}this.setStatus("pointingBounds")});l(this,"onRightPointBounds",(e,t)=>{t.stopPropagation()});l(this,"onReleaseBounds",()=>{(this.status==="translating"||this.status==="brushing")&&this.app.completeSession(),this.setStatus("idle")});l(this,"onPointBoundsHandle",e=>{this.pointedBoundsHandle=e.target,this.setStatus("pointingBoundsHandle")});l(this,"onDoubleClickBoundsHandle",e=>{switch(e.target){case"center":case"left":case"right":{this.app.select(...v.getLinkedShapeIds(this.app.state,this.app.currentPageId,e.target,e.shiftKey));break}default:if(this.app.selectedIds.length===1){this.app.resetBounds(this.app.selectedIds);let t=this.app.getShape(this.app.selectedIds[0]);"label"in t&&this.app.setEditingId(t.id)}}});l(this,"onReleaseBoundsHandle",()=>{this.setStatus("idle")});l(this,"onPointHandle",e=>{this.pointedHandleId=e.target,this.setStatus("pointingHandle")});l(this,"onDoubleClickHandle",e=>{if(e.target==="bend"){let{selectedIds:t}=this.app;if(t.length!==1)return;let n=this.app.getShape(t[0]);v.getShapeUtil(n.type).canEdit&&(n.parentId===this.app.currentPageId||n.parentId===this.selectedGroupId)&&this.app.setEditingId(n.id);return}this.app.toggleDecoration(e.target)});l(this,"onReleaseHandle",()=>{this.setStatus("idle")});l(this,"onShapeClone",e=>{let t=this.app.selectedIds[0],n=this.getShapeClone(t,e.target);e.target==="left"||e.target==="right"||e.target==="top"||e.target==="bottom"?n&&(this.app.createShapes(n),this.pointedId=n.id,this.setStatus("pointingClone")):(this.setStatus("gridCloning"),this.app.startSession("grid",t))})}deselect(e){this.app.select(...this.app.selectedIds.filter(t=>t!==e))}select(e){this.app.select(e)}pushSelect(e){let t=this.app.getShape(e);this.app.select(...this.app.selectedIds.filter(n=>n!==t.parentId),e)}selectNone(){this.app.selectNone()}};var Lp=require("@tldraw/core"),Ka=z(require("@tldraw/vec"));var Ns=class extends rt{constructor(){super(...arguments);l(this,"type","sticky");l(this,"shapeId");l(this,"onPointerDown",()=>{if(!this.app.readOnly){if(this.status==="creating"){this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select");return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:r}}=this.app,a=this.getNextChildIndex(),d=Lp.Utils.uniqueId();this.shapeId=d;let i=Cs.create({id:d,parentId:o,childIndex:a,point:n?Ka.default.snap(e,t):e,style:S({},r)}),c=Cs.getBounds(i);i.point=Ka.default.sub(i.point,[c.width/2,c.height/2]),this.app.patchCreate([i]),this.app.startSession("translate"),this.setStatus("creating")}}});l(this,"onPointerUp",()=>{this.app.readOnly||this.status==="creating"&&(this.setStatus("idle"),this.app.completeSession(),this.app.selectTool("select"),this.app.setEditingId(this.shapeId))})}};var Hp=z(require("@tldraw/vec"));var Ws=class extends rt{constructor(){super(...arguments);l(this,"type","text");l(this,"stopEditingShape",()=>{this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select")});l(this,"onKeyUp",()=>{});l(this,"onKeyDown",()=>{});l(this,"onPointerDown",()=>{if(this.status==="creating"){this.stopEditingShape();return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:n}}=this.app;this.app.createTextShapeAtPoint(n?Hp.default.snap(e,t):e,void 0,!0),this.setStatus("creating");return}});l(this,"onPointerUp",()=>{});l(this,"onPointShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);t.type==="text"&&(this.setStatus("idle"),this.app.setEditingId(t.id))});l(this,"onShapeBlur",()=>{this.app.readOnly||this.stopEditingShape()})}};var ti=require("@tldraw/core"),zp=z(require("@tldraw/vec"));var Ks=class extends rt{constructor(){super(...arguments);l(this,"type","triangle");l(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:o,currentStyle:r}}=this.app,a=this.getNextChildIndex(),d=ti.Utils.uniqueId(),i=jr.create({id:d,parentId:o,childIndex:a,point:n?zp.default.snap(e,t):e,style:S({},r)});this.app.patchCreate([i]),this.app.startSession("transformSingle",i.id,ti.TLBoundsCorner.BottomRight,!0),this.setStatus("creating")})}};var Ua=It.Utils.uniqueId(),pt=class extends pa{constructor(e,t={}){super(pt.defaultState,e,pt.version,(n,o,r)=>Bn(x(S({},o),{document:x(S(S({},o.document),n.document),{version:r})}),pt.version));l(this,"callbacks",{});l(this,"tools",{select:new $s(this),erase:new js(this),["text"]:new Ws(this),["draw"]:new Os(this),["ellipse"]:new Fs(this),["rectangle"]:new Gs(this),["triangle"]:new Ks(this),["line"]:new Vs(this),["arrow"]:new zs(this),["sticky"]:new Ns(this)});l(this,"currentTool",this.tools.select);l(this,"session");l(this,"readOnly",!1);l(this,"isDirty",!1);l(this,"isCreating",!1);l(this,"originPoint",[0,0]);l(this,"currentPoint",[0,0]);l(this,"previousPoint",[0,0]);l(this,"shiftKey",!1);l(this,"altKey",!1);l(this,"metaKey",!1);l(this,"ctrlKey",!1);l(this,"spaceKey",!1);l(this,"isPointing",!1);l(this,"isForcePanning",!1);l(this,"isErasingWithPen",!1);l(this,"isPastePrevented",!1);l(this,"editingStartTime",-1);l(this,"fileSystemHandle",null);l(this,"viewport",It.Utils.getBoundsFromPoints([[0,0],[100,100]]));l(this,"rendererBounds",It.Utils.getBoundsFromPoints([[0,0],[100,100]]));l(this,"selectHistory",{stack:[[]],pointer:0});l(this,"clipboard");l(this,"rotationInfo",{selectedIds:[],center:[0,0]});l(this,"migrate",e=>Bn(e,pt.version));l(this,"onReady",()=>{var e,t;this.loadDocument(this.document),xa().then(n=>{this.fileSystemHandle=n});try{this.patchState(x(S({},Bn(this.state,pt.version)),{appState:{status:"idle"}}))}catch(n){console.error("The data appears to be corrupted. Resetting!",n),localStorage.setItem(this.document.id+"_corrupted",JSON.stringify(this.document)),this.patchState(x(S({},pt.defaultState),{appState:x(S({},pt.defaultState.appState),{status:"idle"})}))}(t=(e=this.callbacks).onMount)==null||t.call(e,this)});l(this,"cleanup",(e,t)=>{var a;let n=S({},e);n.document!==t.document&&Object.entries(n.document.pages).forEach(([d,i])=>{if(i===void 0){delete n.document.pages[d],delete n.document.pageStates[d];return}let c=t.document.pages[d],u={};if(!c||i.shapes!==c.shapes||i.bindings!==c.bindings){i.shapes=S({},i.shapes),i.bindings=S({},i.bindings);let m=new Set;Object.entries(i.shapes).forEach(([f,T])=>{var b;let w;T?w=T.parentId:(w=(b=c==null?void 0:c.shapes[f])==null?void 0:b.parentId,delete i.shapes[f]),i.id===n.appState.currentPageId&&(c==null?void 0:c.shapes[f])!==T&&(u[f]=T),w&&w!==d&&i.shapes[w]!==void 0&&m.add(i.shapes[w])}),Object.keys(i.bindings).forEach(f=>{i.bindings[f]||delete i.bindings[f]}),n.document.pages[d]=i;let h=v.getRelatedBindings(n,Object.keys(u),d),g=new Set;h.forEach(f=>{if(!i.bindings[f.id])return;let T=i.shapes[f.toId],w=i.shapes[f.fromId];if(!(T&&w)){delete n.document.pages[d].bindings[f.id];return}if(g.has(w))return;let b=v.updateArrowBindings(i,w);if(g.add(w),b){let y=S(S({},w),b);i.shapes[w.id]=y}}),m.forEach(f=>{if(!f)throw Error("no group!");let T=f.children.filter(b=>i.shapes[b]!==void 0),w=It.Utils.getCommonBounds(T.map(b=>i.shapes[b]).filter(Boolean).map(b=>v.getRotatedBounds(b)));i.shapes[f.id]=x(S({},f),{point:[w.minX,w.minY],size:[w.width,w.height],children:T})})}let p=S({},n.document.pageStates[d]);p.brush||delete p.brush,p.hoveredId&&!i.shapes[p.hoveredId]&&delete p.hoveredId,p.bindingId&&!i.bindings[p.bindingId]&&(v.warn(`Could not find the binding of ${d}`),delete p.bindingId),p.editingId&&!i.shapes[p.editingId]&&(v.warn("Could not find the editing shape!"),delete p.editingId),n.document.pageStates[d]=p}),Object.keys((a=n.document.assets)!=null?a:{}).forEach(d=>{var i,c;((i=n.document.assets)==null?void 0:i[d])||(c=n.document.assets)==null||delete c[d]});let o=n.appState.currentPageId,r=n.document.pageStates[o];if(n.room&&n.room!==t.room){let d=x(S({},n.room),{users:S({},n.room.users)});t.room&&Object.values(t.room.users).filter(Boolean).forEach(i=>{d.users[i.id]===void 0&&delete d.users[i.id]}),n.room=d}return n.room&&(n.room.users[n.room.userId]=x(S({},n.room.users[n.room.userId]),{point:this.currentPoint,selectedIds:r.selectedIds})),this.readOnly&&(n.document.pages=t.document.pages),n});l(this,"broadcastPatch",(e,t)=>{var c,u,p,m,h,g,f,T,w;let n={},o={},r={},a=(p=(u=(c=e==null?void 0:e.document)==null?void 0:c.pages)==null?void 0:u[this.currentPageId])==null?void 0:p.shapes,d=(g=(h=(m=e==null?void 0:e.document)==null?void 0:m.pages)==null?void 0:h[this.currentPageId])==null?void 0:g.bindings,i=(f=e==null?void 0:e.document)==null?void 0:f.assets;a&&Object.keys(a).forEach(b=>{n[b]=this.getShape(b,this.currentPageId)}),d&&Object.keys(d).forEach(b=>{o[b]=this.getBinding(b,this.currentPageId)}),i&&Object.keys(i).forEach(b=>{r[b]=this.document.assets[b]}),(w=(T=this.callbacks).onChangePage)==null||w.call(T,this,n,o,r,t)});l(this,"onPatch",(e,t,n)=>{var o,r,a,d,i,c;(this.callbacks.onChangePage&&((r=(o=t==null?void 0:t.document)==null?void 0:o.pages)==null?void 0:r[this.currentPageId])||((a=t==null?void 0:t.document)==null?void 0:a.assets))&&(((d=t==null?void 0:t.document)==null?void 0:d.assets)||this.session&&this.session.type!=="brush"&&this.session.type!=="erase"&&this.session.type!=="draw")&&this.broadcastPatch(t,!1),(c=(i=this.callbacks).onPatch)==null||c.call(i,this,t,n)});l(this,"onCommand",(e,t,n)=>{var o,r;this.clearSelectHistory(),this.isDirty=!0,(r=(o=this.callbacks).onCommand)==null||r.call(o,this,t,n)});l(this,"onReplace",()=>{this.clearSelectHistory(),this.isDirty=!1});l(this,"onUndo",()=>{var e,t;this.rotationInfo.selectedIds=[...this.selectedIds],(t=(e=this.callbacks).onUndo)==null||t.call(e,this)});l(this,"onRedo",()=>{var e,t;this.rotationInfo.selectedIds=[...this.selectedIds],(t=(e=this.callbacks).onRedo)==null||t.call(e,this)});l(this,"onPersist",(e,t)=>{var n,o;(o=(n=this.callbacks).onPersist)==null||o.call(n,this),this.broadcastPatch(t,!0)});l(this,"prevSelectedIds",this.selectedIds);l(this,"onStateDidChange",(e,t)=>{var n,o,r,a;(o=(n=this.callbacks).onChange)==null||o.call(n,this,t),this.room&&this.selectedIds!==this.prevSelectedIds&&((a=(r=this.callbacks).onChangePresence)==null||a.call(r,this,x(S({},this.room.users[this.room.userId]),{selectedIds:this.selectedIds,session:!!this.session})),this.prevSelectedIds=this.selectedIds)});l(this,"preventPaste",()=>{if(this.isPastePrevented)return;let e=n=>n.stopImmediatePropagation(),t=()=>{setTimeout(()=>{document.removeEventListener("paste",e,{capture:!0}),this.isPastePrevented=!1},50)};document.addEventListener("paste",e,{capture:!0}),window.addEventListener("pointerup",t,{once:!0}),this.isPastePrevented=!0});l(this,"justSent",!1);l(this,"getReservedContent",(e,t=this.currentPageId)=>{let{bindings:n}=this.document.pages[t],o={},r={},a=Object.values(n),d=new Map(a.map(h=>[h.toId,h])),i=new Map(a.map(h=>[h.fromId,h])),c=[d,i],u=[];this.session&&e.forEach(h=>u.push(h)),this.pageState.editingId&&u.push(this.pageState.editingId);let p=new Set(u),m=new Set;for(;u.length>0;){let h=u.pop();if(!h)break;if(m.has(h))continue;m.add(h);let g=this.getShape(h);o[h]=g,g.parentId!==t&&u.push(g.parentId),g.children&&u.push(...g.children),c.map(f=>f.get(g.id)).filter(Boolean).forEach(f=>{r[f.id]=f,u.push(f.toId,f.fromId)})}return{reservedShapes:o,reservedBindings:r,strongReservedShapeIds:p}});l(this,"replacePageContent",(e,t,n,o=this.currentPageId)=>{if(this.justSent)return this.justSent=!1,this;let r=this.document.pages[this.currentPageId];return Object.values(e).forEach(a=>{a.parentId!==o&&!(r.shapes[a.parentId]||e[a.parentId])&&(console.warn("Added a shape without a parent on the page"),a.parentId=o)}),this.useStore.setState(a=>{let{hoveredId:d,editingId:i,bindingId:c,selectedIds:u}=a.document.pageStates[o],p=[...u],m=i&&a.document.pages[this.currentPageId].shapes[i];m&&p.push(m.id);let{reservedShapes:h,reservedBindings:g,strongReservedShapeIds:f}=this.getReservedContent(p,this.currentPageId);Object.values(h).filter(k=>!("text"in k)).forEach(k=>{let I=e[k.id];if(!!I){if(!(k.type==="arrow"||f.has(k.id))){e[k.id]=I;return}"decorations"in I&&"decorations"in k&&(e[k.id]=x(S({},k),{decorations:I.decorations})),k.style=I.style}});let T=S(S({},e),h);m&&(T[m.id]=m);let w=S(S({},t),g),b=S({},n),y=x(S({},a),{document:x(S({},a.document),{pages:{[o]:x(S({},a.document.pages[o]),{shapes:T,bindings:w})},assets:b,pageStates:x(S({},a.document.pageStates),{[o]:x(S({},a.document.pageStates[o]),{selectedIds:u.filter(k=>T[k]!==void 0),hoveredId:d?T[d]===void 0?void 0:d:void 0,editingId:i,bindingId:c?w[c]===void 0?void 0:c:void 0})})})}),P=y.document.pages[o],G=v.getRelatedBindings(y,Object.keys(T),o),M=new Set;return G.forEach(k=>{if(!P.bindings[k.id])return;let I=P.shapes[k.fromId];if(M.has(I))return;let Y=v.updateArrowBindings(P,I);if(M.add(I),Y){let le=S(S({},I),Y);P.shapes[I.id]=le}}),Object.values(T).forEach(k=>{if(k.type!=="group")return;let I=k.children.filter(le=>P.shapes[le]!==void 0),Y=It.Utils.getCommonBounds(I.map(le=>P.shapes[le]).filter(Boolean).map(le=>v.getRotatedBounds(le)));P.shapes[k.id]=x(S({},k),{point:[Y.minX,Y.minY],size:[Y.width,Y.height],children:I})}),this.state.document=y.document,y},!0),this});l(this,"updateBounds",e=>{this.rendererBounds=e;let{point:t,zoom:n}=this.camera;this.updateViewport(t,n),!this.readOnly&&this.session&&this.session.update()});l(this,"updateViewport",(e,t)=>{let{width:n,height:o}=this.rendererBounds,[r,a]=Te.Vec.sub(Te.Vec.div([0,0],t),e),[d,i]=Te.Vec.sub(Te.Vec.div([n,o],t),e);this.viewport={minX:r,minY:a,maxX:d,maxY:i,width:d-r,height:i-a}});l(this,"setEditingId",(e,t=!1)=>{if(!this.readOnly){if(e)this.startSession("edit",e,t);else{if(!this.pageState.editingId)return;this.completeSession()}this.editingStartTime=performance.now(),this.patchState({document:{pageStates:{[this.currentPageId]:{editingId:e}}}},"set_editing_id")}});l(this,"setHoveredId",e=>{this.patchState({document:{pageStates:{[this.currentPageId]:{hoveredId:e}}}},"set_hovered_id")});l(this,"setSetting",(e,t)=>{if(this.session)return this;let n={settings:{[e]:typeof t=="function"?t(this.settings[e]):t}};return this.patchState(n,`settings:${e}`),this.persist(n),this});l(this,"toggleFocusMode",()=>{if(this.session)return this;let e={settings:{isFocusMode:!this.settings.isFocusMode}};return this.patchState(e,"settings:toggled_focus_mode"),this.persist(e),this});l(this,"togglePenMode",()=>{if(this.session)return this;let e={settings:{isPenMode:!this.settings.isPenMode}};return this.patchState(e,"settings:toggled_pen_mode"),this.persist(e),this});l(this,"toggleDarkMode",()=>{if(this.session)return this;let e={settings:{isDarkMode:!this.settings.isDarkMode}};return this.patchState(e,"settings:toggled_dark_mode"),this.persist(e),this});l(this,"toggleZoomSnap",()=>{if(this.session)return this;let e={settings:{isZoomSnap:!this.settings.isZoomSnap}};return this.patchState(e,"settings:toggled_zoom_snap"),this.persist(e),this});l(this,"toggleDebugMode",()=>{if(this.session)return this;let e={settings:{isDebugMode:!this.settings.isDebugMode}};return this.patchState(e,"settings:toggled_debug"),this.persist(e),this});l(this,"setMenuOpen",e=>{let t={appState:{isMenuOpen:e}};return this.patchState(t,"ui:toggled_menu_opened"),this.persist(t),this});l(this,"setIsLoading",e=>{let t={appState:{isLoading:e}};return this.patchState(t,"ui:toggled_is_loading"),this.persist(t),this});l(this,"setDisableAssets",e=>(this.patchState({appState:{disableAssets:e}},"ui:toggled_disable_images"),this));l(this,"toggleGrid",()=>{if(this.session)return this;let e={settings:{showGrid:!this.settings.showGrid}};return this.patchState(e,"settings:toggled_grid"),this.persist(e),this});l(this,"selectTool",e=>{if(this.readOnly||this.session)return this;this.isPointing=!1;let t=this.tools[e];return t===this.currentTool?(this.patchState({appState:{isToolLocked:!1}}),this):(this.currentTool.onExit(),t.previous=this.currentTool.type,this.currentTool=t,this.currentTool.onEnter(),this.patchState({appState:{activeTool:e,isToolLocked:!1}},`selected_tool:${e}`))});l(this,"toggleToolLock",()=>this.session?this:this.patchState({appState:{isToolLocked:!this.appState.isToolLocked}},"toggled_tool_lock"));l(this,"resetDocument",()=>{if(this.session)return this;this.session=void 0,this.currentTool=this.tools.select;let e=pt.defaultDocument;return e.pages.page.name="Page 1",this.resetHistory().clearSelectHistory().loadDocument(pt.defaultDocument).persist({}),this});l(this,"updateUsers",(e,t=!1)=>{this.patchState({room:{users:Object.fromEntries(e.map(n=>[n.id,n]))}},t?"room:self:update":"room:user:update")});l(this,"removeUser",e=>{this.patchState({room:{users:{[e]:void 0}}})});l(this,"mergeDocument",e=>{if(this.document.id!==e.id)return this.replaceState(x(S({},Bn(x(S({},this.state),{document:e}),pt.version)),{appState:x(S({},this.appState),{currentPageId:Object.keys(e.pages)[0]})})),this;let t=S({},this.document.pageStates),n=x(S({},this.appState),{currentPageId:e.pages[this.currentPageId]?this.currentPageId:Object.keys(e.pages)[0],pages:Object.values(e.pages).map((r,a)=>({id:r.id,name:r.name,childIndex:r.childIndex||a}))});this.resetHistory(),Object.keys(this.document.pages).forEach(r=>{e.pages[r]||(r===this.appState.currentPageId&&(this.cancelSession(),this.selectNone()),t[r]=void 0)}),this.session&&this.selectedIds.filter(r=>!e.pages[this.currentPageId].shapes[r]).forEach(r=>e.pages[this.currentPageId].shapes[r]=this.page.shapes[r]),Object.entries(t).forEach(([r,a])=>{a.selectedIds=a.selectedIds.filter(d=>!!e.pages[r].shapes[d])});let{editingId:o}=this.pageState;return o&&(e.pages[this.currentPageId].shapes[o]=this.page.shapes[o],t[this.currentPageId].selectedIds=[o]),this.replaceState(x(S({},Bn(x(S({},this.state),{document:x(S({},e),{pageStates:t})}),pt.version)),{appState:n}),"merge")});l(this,"updateDocument",(e,t="updated_document")=>{let n=this.state,o=x(S({},n),{document:x(S({},n.document),{assets:e.assets})});e.pages[this.currentPageId]||(o.appState=x(S({},n.appState),{currentPageId:Object.keys(e.pages)[0]}));let r=1;for(let a of Object.values(e.pages))a!==n.document.pages[a.id]&&(o.document.pages[a.id]=a,a.name||(o.document.pages[a.id].name=`Page ${r+1}`,r++));for(let a of Object.values(e.pageStates))if(a!==n.document.pageStates[a.id]){o.document.pageStates[a.id]=a;let d=e.pages[a.id],i=["bindingId","editingId","hoveredId","pointedId"];for(let c of i)d.shapes[c]||(a[c]=void 0);a.selectedIds=a.selectedIds.filter(c=>!!e.pages[d.id].shapes[c])}return this.replaceState(Bn(o,o.document.version||0),`${t}:${e.id}`)});l(this,"loadRoom",e=>(this.patchState({room:{id:e,userId:Ua,users:{[Ua]:{id:Ua,color:zi[Math.floor(Math.random()*zi.length)],point:[100,100],selectedIds:[],activeShapes:[]}}}}),this));l(this,"loadDocument",e=>{this.setIsLoading(!0),this.selectNone(),this.resetHistory(),this.clearSelectHistory(),this.session=void 0;let t=x(S({},pt.defaultState),{settings:S({},this.state.settings),document:e,appState:x(S(S({},pt.defaultState.appState),this.state.appState),{currentPageId:Object.keys(e.pages)[0],disableAssets:this.disableAssets})});this.replaceState(Bn(t,pt.version),"loaded_document");let{point:n,zoom:o}=this.camera;return this.updateViewport(n,o),this.setIsLoading(!1),this});l(this,"loadPageFromURL",(e,t)=>{let n=e.id,o=x(S({},this.state.document),{pageStates:x(S({},this.state.document.pageStates),{[n]:t}),pages:x(S({},this.document.pages),{[n]:e})});this.loadDocument(o),this.persist({})});l(this,"newProject",()=>{!this.isLocal||(this.fileSystemHandle=null,this.resetDocument())});l(this,"saveProject",()=>ce(this,null,function*(){if(this.readOnly)return;let e=yield qr(Bn(this.state,pt.version).document,this.fileSystemHandle);return this.fileSystemHandle=e,this.persist({}),this.isDirty=!1,this}));l(this,"saveProjectAs",e=>ce(this,null,function*(){try{let t=yield qr(this.document,null,e);this.fileSystemHandle=t,this.persist({}),this.isDirty=!1}catch(t){console.error(t.message)}return this}));l(this,"openProject",()=>ce(this,null,function*(){if(!!this.isLocal)try{let e=yield ka();if(!e)throw Error();let{fileHandle:t,document:n}=e;this.loadDocument(n),this.fileSystemHandle=t,this.zoomToFit(),this.persist({})}catch(e){console.error(e)}finally{this.persist({})}}));l(this,"openAsset",()=>ce(this,null,function*(){if(!this.disableAssets)try{let e=yield Ia();if(Array.isArray(e))this.addMediaFromFiles(e,this.centerPoint);else{if(!e)return;this.addMediaFromFiles([e])}}catch(e){console.error(e)}finally{this.persist({})}}));l(this,"signOut",()=>{});l(this,"getAppState",()=>this.appState);l(this,"getPage",(e=this.currentPageId)=>v.getPage(this.state,e||this.currentPageId));l(this,"getShapes",(e=this.currentPageId)=>v.getShapes(this.state,e||this.currentPageId));l(this,"getBindings",(e=this.currentPageId)=>v.getBindings(this.state,e||this.currentPageId));l(this,"getShape",(e,t=this.currentPageId)=>v.getShape(this.state,e,t));l(this,"getShapeBounds",(e,t=this.currentPageId)=>v.getBounds(this.getShape(e,t)));l(this,"getBinding",(e,t=this.currentPageId)=>v.getBinding(this.state,e,t));l(this,"getPageState",(e=this.currentPageId)=>v.getPageState(this.state,e||this.currentPageId));l(this,"getPagePoint",(e,t=this.currentPageId)=>{let{camera:n}=this.getPageState(t);return Te.Vec.sub(Te.Vec.div(e,n.zoom),n.point)});l(this,"createPage",(e,t)=>{if(this.readOnly)return this;let{width:n,height:o}=this.rendererBounds;return this.setState(op(this,[-n/2,-o/2],e,t))});l(this,"changePage",e=>this.setState(Qc(this,e)));l(this,"movePage",(e,t)=>this.readOnly?this:this.setState(hp(this,e,t)));l(this,"renamePage",(e,t)=>this.readOnly?this:this.setState(mp(this,e,t)));l(this,"duplicatePage",e=>this.readOnly?this:this.setState(ap(this,e)));l(this,"deletePage",e=>this.readOnly?this:Object.values(this.document.pages).length<=1?this:this.setState(sp(this,e||this.currentPageId)));l(this,"cut",(e=this.selectedIds,t)=>(t==null||t.preventDefault(),this.copy(e,t),this.readOnly||this.delete(e),this));l(this,"copy",(e=this.selectedIds,t)=>{var r;t==null||t.preventDefault(),this.clipboard=this.getContent(e);let o=`<tldraw>${JSON.stringify(S({type:"tldr/clipboard"},this.clipboard))}</tldraw>`;return _c(o),t&&((r=t.clipboardData)==null||r.setData("text/html",o)),navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([o],{type:"text/html"})})]),this});l(this,"paste",(e,t)=>ce(this,null,function*(){var c,u;if(this.readOnly)return;let n=[],o=[],r,a=p=>ce(this,null,function*(){let m=document.createElement("div");m.innerHTML=p;let h=m.firstChild;h.style.setProperty("background-color","transparent");let g=yield v.getImageForSvg(h,"svg",{scale:1,quality:1});if(g){let f=new File([g],"image.svg");n.push(f)}else d(p)}),d=p=>{let m=this.getPagePoint(e!=null?e:this.centerPoint,this.currentPageId),h=p.includes(`
`);o.push(v.getShapeUtil("text").getShape({id:It.Utils.uniqueId(),type:"text",parentId:this.appState.currentPageId,text:v.normalizeText(p.trim()),point:m,style:x(S({},this.appState.currentStyle),{textAlign:h?"start":this.appState.currentStyle.textAlign})}))},i=p=>{var m;try{let h=(m=p.match(/<tldraw>(.*)<\/tldraw>/))==null?void 0:m[1];if(!h)return;let g=JSON.parse(h);if(g.type==="tldr/clipboard"){r=g;return}else throw Error("Not tldraw data!")}catch(h){d(p)}};if(t!==void 0){let p=Array.from((u=(c=t.clipboardData)==null?void 0:c.items)!=null?u:[]);yield Promise.all(p.map(m=>ce(this,null,function*(){var f;let{type:h,kind:g}=m;switch(g){case"string":{let T=yield new Promise(w=>m.getAsString(w));switch(h){case"text/html":{if((f=T.match(/<tldraw>(.*)<\/tldraw>/))==null?void 0:f[1]){i(T);return}break}case"text/plain":{T.startsWith("<svg")?yield a(T):d(T);break}}break}case"file":{let T=m.getAsFile();T&&n.push(T);break}}})))}if(r)return this.insertContent(r,{point:e,select:!0}),this;if(n.length)return this.addMediaFromFiles(n,e),this;if(o.length){let p=this.getPagePoint(e!=null?e:this.centerPoint,this.currentPageId),m=Te.Vec.add(p,[0,0]);return o.forEach((h,g)=>{let f=v.getBounds(h);g===0&&(m[0]-=f.width/2,m[1]-=f.height/2),h.point=[...m],m[0]+=f.width}),this.createShapes(...o),this}return this.clipboard?this.insertContent(this.clipboard):Uc().then(p=>{p&&i(p)}),this}));l(this,"getSvg",(...n)=>ce(this,[...n],function*(e=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes),t={}){if(e.length===0)return;let o=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","defs"),a=document.createElementNS("http://www.w3.org/2000/svg","style");if(typeof window!="undefined"&&window.focus(),t.includeFonts)try{let{fonts:h}=yield fetch(pt.assetSrc,{mode:"no-cors"}).then(g=>g.json());a.textContent=`
          @font-face {
            font-family: 'Caveat Brush';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${h.caveat}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Code Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${h.source_code_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Sans Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${h.source_sans_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Crimson Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${h.crimson_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          `}catch(h){v.warn("Could not find tldraw-assets.json file.")}else a.textContent="@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');";r.append(a),o.append(r);let d=e.map(h=>this.getShape(h,this.currentPageId)).sort((h,g)=>h.childIndex-g.childIndex),i=It.Utils.getCommonBounds(d.map(v.getRotatedBounds)),c=h=>{let g=v.getShapeUtil(h),f=g.getBounds(h),T=g.getSvgElement(h,this.settings.isDarkMode);if(!!T)return h.type==="image"?T.setAttribute("xlink:href",this.document.assets[h.assetId].src):h.type==="video"&&T.setAttribute("xlink:href",this.serializeVideo(h.id)),T.setAttribute("transform",`translate(${(16+h.point[0]-i.minX).toFixed(2)}, ${(16+h.point[1]-i.minY).toFixed(2)}) rotate(${((h.rotation||0)*180/Math.PI).toFixed(2)}, ${(f.width/2).toFixed(2)}, ${(f.height/2).toFixed(2)})`),T};d.forEach(h=>{var f;if((f=h.children)==null?void 0:f.length){let T=document.createElementNS("http://www.w3.org/2000/svg","g");h.children.forEach(w=>{let b=this.getShape(w,this.currentPageId),y=c(b);y&&T.append(y)}),o.append(T);return}let g=c(h);g&&o.append(g)}),o.setAttribute("viewBox",[0,0,i.width+16*2,i.height+16*2].join(" ")),o.setAttribute("width",(i.width+16*2).toString()),o.setAttribute("height",(i.height+16*2).toString());let u=this.settings.exportBackground,p="#212529",m="rgb(248, 249, 250)";switch(u){case"auto":{o.style.setProperty("background-color",this.settings.isDarkMode?p:m);break}case"dark":{o.style.setProperty("background-color",p);break}case"light":{o.style.setProperty("background-color",m);break}case"transparent":default:{o.style.setProperty("background-color","transparent");break}}return o.querySelectorAll(".tl-fill-hitarea, .tl-stroke-hitarea, .tl-binding-indicator").forEach(h=>h.remove()),o}));l(this,"copySvg",(...t)=>ce(this,[...t],function*(e=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)){if(e.length===0)return;let n=yield this.getSvg(e);if(!n)return;let o=v.getSvgString(n,1);this.clipboard=this.getContent(e);let r=JSON.stringify(S({type:"tldr/clipboard"},this.clipboard));return navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([r],{type:"text/html"}),"text/plain":new Blob([o],{type:"text/plain"})})]),o}));l(this,"getContent",e=>{let t=this.getPage(this.currentPageId);if(e&&e.length===0||(e||(e=this.selectedIds),e.length===0&&(e=Object.keys(t.shapes)),e.length===0))return;let n=e.map(d=>t.shapes[d]).flatMap(d=>{var i;return[d,...((i=d.children)!=null?i:[]).map(c=>t.shapes[c])]}).map(yt),o=new Set(n.map(d=>d.id));n.forEach(d=>{d.parentId===this.currentPageId&&(d.parentId="currentPageId")});let r=Object.values(t.bindings).filter(d=>{if(o.has(d.fromId)||o.has(d.toId))return!0;if(o.has(d.fromId)){let c=n.find(u=>u.id===d.fromId).handles;c&&Object.values(c).forEach(u=>{u.bindingId===d.id&&(u.bindingId=void 0)})}if(o.has(d.toId)){let c=n.find(u=>u.id===d.toId).handles;c&&Object.values(c).forEach(u=>{u.bindingId===d.id&&(u.bindingId=void 0)})}return!1}).map(yt),a=[...new Set(n.map(d=>{if(!!d.assetId)return this.document.assets[d.assetId]}).filter(Boolean).map(yt))];return{shapes:n,bindings:r,assets:a}});l(this,"copyJson",(e=this.selectedIds)=>{let t=this.getContent(e);return t&&v.copyStringToClipboard(JSON.stringify(t)),this});l(this,"exportJson",(e=this.selectedIds)=>{let t=this.getContent(e);if(t){let n=new Blob([JSON.stringify(t)],{type:"application/json"}),o=URL.createObjectURL(n),r=document.createElement("a");r.href=o,r.download="export.json",r.click()}return this});l(this,"insertContent",(e,t={})=>this.setState(xp(this,e,t),"insert_content"));l(this,"getImage",(...n)=>ce(this,[...n],function*(e="png",t={}){let{ids:o=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)}=t,r=yield this.getSvg(o,{includeFonts:e!=="svg"});if(!r)return;if(e==="svg"){let d=v.getSvgString(r,1);return new Blob([d],{type:"image/svg+xml"})}let a=yield v.getImageForSvg(r,e,t);if(!!a)return a}));l(this,"copyImage",(...n)=>ce(this,[...n],function*(e="png",t={}){if(e==="svg"){this.copySvg(t.ids);return}if(!(navigator.clipboard&&window.ClipboardItem)){console.warn("Sorry, your browser does not support copying images.");return}let o=yield this.getImage(e,t);!o||navigator.clipboard.write([new ClipboardItem({[o.type]:o})])}));l(this,"exportImage",(...n)=>ce(this,[...n],function*(e="png",t={}){var d;let{pageId:o=this.currentPageId}=t,r=yield this.getImage(e,t);if(!r)return;let a=(d=this.document.pages[o].name)!=null?d:"export";if(this.callbacks.onExport)this.callbacks.onExport(this,{name:a,type:e,blob:r});else{let i=URL.createObjectURL(r),c=document.createElement("a");c.href=i,c.download=`${a}.${e}`,c.click()}}));l(this,"setCamera",(e,t,n)=>(this.updateViewport(e,t),this.patchState({document:{pageStates:{[this.currentPageId]:{camera:{point:e,zoom:t}}}}},n),this));l(this,"resetCamera",()=>this.setCamera(this.centerPoint,1,"reset_camera"));l(this,"pan",e=>{let{camera:t}=this.pageState;return this.setCamera(Te.Vec.toFixed(Te.Vec.sub(t.point,e)),t.zoom,"panned")});l(this,"pinchZoom",(e,t,n)=>{let{camera:o}=this.pageState,r=Te.Vec.sub(o.point,Te.Vec.div(t,o.zoom)),a=n,d=Te.Vec.sub(Te.Vec.div(e,o.zoom),r),i=Te.Vec.sub(Te.Vec.div(e,a),r);return this.setCamera(Te.Vec.toFixed(Te.Vec.add(r,Te.Vec.sub(i,d))),a,"pinch_zoomed")});l(this,"zoomTo",(e,t=this.centerPoint)=>{let{zoom:n,point:o}=this.camera,r=Te.Vec.sub(Te.Vec.div(t,n),o),a=Te.Vec.sub(Te.Vec.div(t,e),o);return this.setCamera(Te.Vec.toFixed(Te.Vec.add(o,Te.Vec.sub(a,r))),e,"zoomed_camera")});l(this,"zoomIn",()=>{let e=Math.round(this.camera.zoom*100/25),t=v.getCameraZoom((e+1)*.25);return this.zoomTo(t)});l(this,"zoomOut",()=>{let e=Math.round(this.camera.zoom*100/25),t=v.getCameraZoom((e-1)*.25);return this.zoomTo(t)});l(this,"zoomToFit",()=>{let{shapes:e,pageState:{camera:t}}=this;if(e.length===0)return this;let{rendererBounds:n}=this,o=It.Utils.getCommonBounds(e.map(v.getBounds)),r=v.getCameraZoom(Math.min((n.width-128)/o.width,(n.height-128)/o.height));r=t.zoom===r||t.zoom<1?Math.min(1,r):r;let a=(n.width-o.width*r)/2/r,d=(n.height-o.height*r)/2/r;return this.setCamera(Te.Vec.toFixed(Te.Vec.sub([a,d],[o.minX,o.minY])),r,"zoomed_to_fit")});l(this,"zoomToSelection",()=>{if(this.selectedIds.length===0)return this;let{rendererBounds:e}=this,t=v.getSelectedBounds(this.state),n=v.getCameraZoom(Math.min((e.width-128)/t.width,(e.height-128)/t.height));n=this.camera.zoom===n||this.camera.zoom<1?Math.min(1,n):n;let o=(e.width-t.width*n)/2/n,r=(e.height-t.height*n)/2/n;return this.setCamera(Te.Vec.toFixed(Te.Vec.sub([o,r],[t.minX,t.minY])),n,"zoomed_to_selection")});l(this,"zoomToContent",()=>{let e=this.shapes,t=this.pageState;if(e.length===0)return this;let{rendererBounds:n}=this,{zoom:o}=t.camera,r=It.Utils.getCommonBounds(e.map(v.getBounds)),a=(n.width-r.width*o)/2/o,d=(n.height-r.height*o)/2/o;return this.setCamera(Te.Vec.toFixed(Te.Vec.sub([a,d],[r.minX,r.minY])),this.camera.zoom,"zoomed_to_content")});l(this,"resetZoom",()=>this.zoomTo(1));l(this,"zoomBy",It.Utils.throttle((e,t)=>{let{zoom:n}=this.camera,o=v.getCameraZoom(n-e*n);return this.zoomTo(o,t)},16));l(this,"clearSelectHistory",()=>(this.selectHistory.pointer=0,this.selectHistory.stack=[this.selectedIds],this));l(this,"addToSelectHistory",e=>(this.selectHistory.pointer<this.selectHistory.stack.length&&(this.selectHistory.stack=this.selectHistory.stack.slice(0,this.selectHistory.pointer+1)),this.selectHistory.pointer++,this.selectHistory.stack.push(e),this));l(this,"setSelectedIds",(e,t=!1)=>{let n=t?[...this.pageState.selectedIds,...e]:[...e];return this.patchState({appState:{activeTool:"select"},document:{pageStates:{[this.currentPageId]:{selectedIds:n}}}},"selected")});l(this,"undoSelect",()=>(this.selectHistory.pointer>0&&(this.selectHistory.pointer--,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this));l(this,"redoSelect",()=>(this.selectHistory.pointer<this.selectHistory.stack.length-1&&(this.selectHistory.pointer++,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this));l(this,"select",(...e)=>(e.forEach(t=>{if(!this.page.shapes[t])throw Error(`That shape does not exist on page ${this.currentPageId}`)}),this.setSelectedIds(e),this.addToSelectHistory(e),this));l(this,"selectAll",(e=this.currentPageId)=>this.session?this:(this.setSelectedIds(Object.values(this.document.pages[e].shapes).filter(t=>t.parentId===e).map(t=>t.id)),this.addToSelectHistory(this.selectedIds),this.selectTool("select"),this));l(this,"selectNone",()=>(this.setSelectedIds([]),this.addToSelectHistory(this.selectedIds),this));l(this,"startSession",(e,...t)=>{var r,a;if(this.readOnly&&e!=="brush")return this;this.session&&(v.warn(`Already in a session! (${this.session.constructor.name})`),this.cancelSession());let n=kp(e);this.session=new n(this,...t);let o=this.session.start();return o&&this.patchState(o,`session:start_${this.session.constructor.name}`),(a=(r=this.callbacks).onSessionStart)==null||a.call(r,this,this.session.constructor.name),this});l(this,"updateSession",()=>{let{session:e}=this;if(!e)return this;let t=e.update();return t?this.patchState(t,`session:${e==null?void 0:e.constructor.name}`):this});l(this,"cancelSession",()=>{var n,o;let{session:e}=this;if(!e)return this;this.session=void 0;let t=e.cancel();return t&&this.patchState(t,`session:cancel:${e.constructor.name}`),this.setEditingId(),(o=(n=this.callbacks).onSessionEnd)==null||o.call(n,this,e.constructor.name),this});l(this,"completeSession",()=>{var n,o,r,a,d,i,c,u,p;let{session:e}=this;if(!e)return this;this.session=void 0;let t=e.complete();if(t===void 0)this.isCreating=!1,this.patchState({appState:{status:"idle"},document:{pageStates:{[this.currentPageId]:{editingId:void 0,bindingId:void 0,hoveredId:void 0}}}},`session:complete:${e.constructor.name}`);else if("after"in t){if(this.isCreating){if(t.before={appState:x(S({},t.before.appState),{status:"idle"}),document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(this.selectedIds.map(m=>[m,void 0]))}},pageStates:{[this.currentPageId]:{selectedIds:[],editingId:null,bindingId:null,hoveredId:null}}}},this.appState.isToolLocked){let m=((r=(o=(n=t.after)==null?void 0:n.document)==null?void 0:o.pageStates)==null?void 0:r[this.currentPageId])||{};m.selectedIds=[]}this.isCreating=!1}t.after.appState=x(S({},t.after.appState),{status:"idle"}),t.after.document=x(S({},t.after.document),{pageStates:x(S({},(a=t.after.document)==null?void 0:a.pageStates),{[this.currentPageId]:x(S({},(((d=t.after.document)==null?void 0:d.pageStates)||{})[this.currentPageId]),{editingId:null})})}),this.setState(t,`session:complete:${e.constructor.name}`)}else this.patchState(x(S({},t),{appState:x(S({},t.appState),{status:"idle"}),document:x(S({},t.document),{pageStates:{[this.currentPageId]:x(S({},(c=(i=t.document)==null?void 0:i.pageStates)==null?void 0:c[this.currentPageId]),{editingId:null})}})}),`session:complete:${e.constructor.name}`);return(p=(u=this.callbacks).onSessionEnd)==null||p.call(u,this,e.constructor.name),this});l(this,"createShapes",(...e)=>e.length===0?this:this.create(e.map(t=>v.getShapeUtil(t.type).create(S({parentId:this.currentPageId},t)))));l(this,"updateShapes",(...e)=>{let t=this.document.pages[this.currentPageId].shapes,n=e.filter(o=>t[o.id]);return n.length===0?this:this.setState(wa(this,n,this.currentPageId),"updated_shapes")});l(this,"create",(e=[],t=[])=>e.length===0?this:this.setState(ha(this,e,t)));l(this,"patchCreate",(e=[],t=[])=>e.length===0?this:this.patchState(ha(this,e,t).after));l(this,"delete",(e=this.selectedIds)=>{var n,o;if(e.length===0)return this;if(this.session)return this;let t=ma(this,e);if(this.callbacks.onAssetDelete&&((n=t.before.document)==null?void 0:n.assets)&&((o=t.after.document)==null?void 0:o.assets)){let r=Object.keys(t.before.document.assets).filter(i=>!!t.before.document.assets[i]),a=Object.keys(t.after.document.assets).filter(i=>!!t.after.document.assets[i]);r.filter(i=>!a.includes(i)).forEach(i=>this.callbacks.onAssetDelete(this,i))}return this.setState(t)});l(this,"deleteAll",()=>(this.selectAll(),this.delete(),this));l(this,"style",(e,t=this.selectedIds)=>this.setState(Sp(this,t,e)));l(this,"align",(e,t=this.selectedIds)=>t.length<2?this:this.setState(Jc(this,t,e)));l(this,"distribute",(e,t=this.selectedIds)=>t.length<3?this:this.setState(ip(this,t,e)));l(this,"stretch",(e,t=this.selectedIds)=>t.length<2?this:this.setState(fp(this,t,e)));l(this,"flipHorizontal",(e=this.selectedIds)=>e.length===0?this:this.setState(fa(this,e,"horizontal")));l(this,"flipVertical",(e=this.selectedIds)=>e.length===0?this:this.setState(fa(this,e,"vertical")));l(this,"moveToPage",(e,t=this.currentPageId,n=this.selectedIds)=>{if(n.length===0)return this;let{rendererBounds:o}=this;return this.setState(up(this,n,o,t,e)),this});l(this,"moveToBack",(e=this.selectedIds)=>e.length===0?this:this.setState(Bs(this,e,"toBack")));l(this,"moveBackward",(e=this.selectedIds)=>e.length===0?this:this.setState(Bs(this,e,"backward")));l(this,"moveForward",(e=this.selectedIds)=>e.length===0?this:this.setState(Bs(this,e,"forward")));l(this,"moveToFront",(e=this.selectedIds)=>e.length===0?this:this.setState(Bs(this,e,"toFront")));l(this,"nudge",(e,t=!1,n=this.selectedIds)=>{if(n.length===0)return this;let o=t?this.settings.showGrid?this.currentGrid*4:10:this.settings.showGrid?this.currentGrid:1;return this.setState(Tp(this,n,Te.Vec.mul(e,o)))});l(this,"duplicate",(e=this.selectedIds,t)=>this.readOnly?this:e.length===0?this:this.setState(lp(this,e,t)));l(this,"resetBounds",(e=this.selectedIds)=>{let t=ba(this,e,this.currentPageId);return this.setState(ba(this,e,this.currentPageId),t.id)});l(this,"toggleHidden",(e=this.selectedIds)=>e.length===0?this:this.setState(Zr(this,e,"isHidden")));l(this,"toggleLocked",(e=this.selectedIds)=>e.length===0?this:this.setState(Zr(this,e,"isLocked")));l(this,"toggleAspectRatioLocked",(e=this.selectedIds)=>e.length===0?this:this.setState(Zr(this,e,"isAspectRatioLocked")));l(this,"toggleDecoration",(e,t=this.selectedIds)=>t.length===0||!(e==="start"||e==="end")?this:this.setState(bp(this,t,e)));l(this,"setShapeProps",(e,t=this.selectedIds)=>this.setState(wp(this,t,e)));l(this,"rotate",(e=Math.PI*-.5,t=this.selectedIds)=>{if(t.length===0)return this;let n=gp(this,t,e);return n?this.setState(n):this});l(this,"group",(e=this.selectedIds,t=It.Utils.uniqueId(),n=this.currentPageId)=>{if(this.readOnly)return this;if(e.length===1&&this.getShape(e[0],n).type==="group")return this.ungroup(e,n);if(e.length<2)return this;let o=cp(this,e,t,n);return o?this.setState(o):this});l(this,"ungroup",(e=this.selectedIds,t=this.currentPageId)=>{if(this.readOnly)return this;let n=e.map(r=>this.getShape(r,t)).filter(r=>r.type==="group");if(n.length===0)return this;let o=yp(this,e,n,t);return o?this.setState(o):this});l(this,"cancel",()=>{var e,t;return(t=(e=this.currentTool).onCancel)==null||t.call(e),this});l(this,"addMediaFromFiles",(n,...o)=>ce(this,[n,...o],function*(e,t=this.centerPoint){this.setIsLoading(!0);let r=[],a=this.getPagePoint(t);for(let d of e){let i=It.Utils.uniqueId(),c=d.name.match(/\.[0-9a-z]+$/i);if(!c)throw Error("No extension");let u=br.includes(c[0].toLowerCase()),p=Tr.includes(c[0].toLowerCase());if(!(u||p))throw Error("Wrong extension");let m=u?"image":"video",h=u?"image":"video",g;try{if(this.callbacks.onAssetCreate){let f=yield this.callbacks.onAssetCreate(this,d,i);if(!f)throw Error("Asset creation callback returned false");g=f}else g=yield Ca(d);if(typeof g=="string"){let f=[0,0];if(u){if(c[0]==".svg"){let b,y=yield Da(d),P=this.getViewboxFromSVG(y);P&&(b=P.split(" "),f[0]=parseFloat(b[2]),f[1]=parseFloat(b[3]))}Te.Vec.isEqual(f,[0,0])&&(f=yield Pa(g))}else f=yield Ma(g);let T=Object.values(this.document.assets).find(b=>b.type===h&&b.src===g),w;if(T)w=T.id;else{w=i;let b={id:w,type:h,name:d.name,src:g,size:f};this.patchState({document:{assets:{[w]:b}}})}r.push(this.getImageOrVideoShapeAtPoint(i,m,t,f,w))}}catch(f){console.warn(f)}}if(r.length){let d=Te.Vec.add(a,[0,0]);r.forEach((c,u)=>{let p=v.getBounds(c);u===0&&(d[0]-=p.width/2,d[1]-=p.height/2),c.point=[...d],d[0]+=p.width});let i=It.Utils.getCommonBounds(r.map(v.getBounds));this.createShapes(...r),It.Utils.boundsContain(this.viewport,i)||(this.zoomToSelection(),this.zoom>1&&this.resetZoom())}return this.setIsLoading(!1),this}));l(this,"getViewboxFromSVG",e=>{let t=/.*?viewBox=["'](-?[\d.]+[, ]+-?[\d.]+[, ][\d.]+[, ][\d.]+)["']/;if(typeof e=="string"){let n=e.match(t);return n&&n.length>=2?n[1]:null}return this.setIsLoading(!1),null});l(this,"onKeyDown",(e,t,n)=>{var o,r;switch(n.key){case"/":{if(this.status==="idle"&&!this.pageState.editingId){let{shiftKey:a,metaKey:d,altKey:i,ctrlKey:c,spaceKey:u}=this;this.onPointerDown({target:"canvas",pointerId:0,origin:t.point,point:t.point,delta:[0,0],pressure:.5,shiftKey:a,ctrlKey:c,metaKey:d,altKey:i,spaceKey:u},{shiftKey:a,altKey:i,ctrlKey:c,pointerId:0,clientX:t.point[0],clientY:t.point[1]})}break}case"Escape":{this.cancel();break}case"Meta":{this.metaKey=!0;break}case"Alt":{this.altKey=!0;break}case"Control":{this.ctrlKey=!0;break}case" ":{this.isForcePanning=!0,this.spaceKey=!0;break}}return(r=(o=this.currentTool).onKeyDown)==null||r.call(o,e,t,n),this});l(this,"onKeyUp",(e,t,n)=>{var o,r;if(!!t){switch(n.key){case"/":{let{currentPoint:a,shiftKey:d,metaKey:i,altKey:c,ctrlKey:u,spaceKey:p}=this;this.onPointerUp({target:"canvas",pointerId:0,origin:a,point:a,delta:[0,0],pressure:.5,shiftKey:d,ctrlKey:u,metaKey:i,altKey:c,spaceKey:p},{shiftKey:d,altKey:c,ctrlKey:u,pointerId:0,clientX:a[0],clientY:a[1]});break}case"Meta":{this.metaKey=!1;break}case"Alt":{this.altKey=!1;break}case"Control":{this.ctrlKey=!1;break}case" ":{this.isForcePanning=!1,this.spaceKey=!1;break}}(r=(o=this.currentTool).onKeyUp)==null||r.call(o,e,t,n)}});l(this,"refreshBoundingBoxes",()=>{let e=this.shapes.map(n=>[n.id,S({point:[...n.point]},"label"in n&&{label:""})]),t=this.shapes.map(n=>[n.id,S({point:[...n.point]},"label"in n&&{label:n.label})]);Ld(),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(e)}}}}),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(t)}}}})});l(this,"onDragOver",e=>{e.preventDefault()});l(this,"onDrop",e=>ce(this,null,function*(){var t;return e.preventDefault(),this.disableAssets?this:(((t=e.dataTransfer.files)==null?void 0:t.length)&&this.addMediaFromFiles(Object.values(e.dataTransfer.files),[e.clientX,e.clientY]),this)}));l(this,"onPinchStart",(e,t)=>{var n,o;(o=(n=this.currentTool).onPinchStart)==null||o.call(n,e,t)});l(this,"onPinchEnd",(e,t)=>{var n,o;return(o=(n=this.currentTool).onPinchEnd)==null?void 0:o.call(n,e,t)});l(this,"onPinch",(e,t)=>{var n,o;return(o=(n=this.currentTool).onPinch)==null?void 0:o.call(n,e,t)});l(this,"onPan",(e,t)=>{if(this.appState.status==="pinching")return;let n=Te.Vec.div(e.delta,this.camera.zoom),o=this.camera.point,r=Te.Vec.sub(o,n);Te.Vec.isEqual(r,o)||(this.pan(n),this.isForcePanning||this.onPointerMove(e,t),Bd&&this.isForcePanning&&this.preventPaste())});l(this,"onZoom",(e,t)=>{if(this.state.appState.status!=="idle")return;let n=e.delta[2]/50;this.zoomBy(n,e.point),this.onPointerMove(e,t)});l(this,"updateInputs",e=>{this.currentPoint=this.getPagePoint(e.point).concat(e.pressure),this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey});l(this,"onPointerMove",(e,t)=>{var n,o,r,a,d;if(this.previousPoint=this.currentPoint,this.updateInputs(e,t),this.isForcePanning&&this.isPointing){(n=this.onPan)==null||n.call(this,x(S({},e),{delta:Te.Vec.neg(e.delta)}),t);return}if((r=(o=this.currentTool).onPointerMove)==null||r.call(o,e,t),this.state.room){let{users:i,userId:c}=this.state.room;(d=(a=this.callbacks).onChangePresence)==null||d.call(a,this,x(S({},i[c]),{point:this.getPagePoint(e.point),session:!!this.session}))}});l(this,"onPointerDown",(e,t)=>{var n,o;if(t.buttons===4)this.isForcePanning=!0;else if(this.isPointing)return;this.isPointing=!0,this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),!this.isForcePanning&&(this.currentTool.type==="draw"&&t.pointerType==="pen"&&t.button===5&&(this.selectTool("erase"),this.isErasingWithPen=!0),(o=(n=this.currentTool).onPointerDown)==null||o.call(n,e,t))});l(this,"onPointerUp",(e,t)=>{var n,o;this.isPointing=!1,this.shiftKey||(this.isForcePanning=!1),this.updateInputs(e,t),(o=(n=this.currentTool).onPointerUp)==null||o.call(n,e,t),this.isErasingWithPen&&t.pointerType==="pen"&&t.button===5&&(this.selectTool("draw"),this.isErasingWithPen=!1)});l(this,"onPointCanvas",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onPointCanvas)==null||o.call(n,e,t)});l(this,"onDoubleClickCanvas",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDoubleClickCanvas)==null||o.call(n,e,t)});l(this,"onRightPointCanvas",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onRightPointCanvas)==null||o.call(n,e,t)});l(this,"onDragCanvas",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDragCanvas)==null||o.call(n,e,t)});l(this,"onReleaseCanvas",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onReleaseCanvas)==null||o.call(n,e,t)});l(this,"onPointShape",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onPointShape)==null||o.call(n,e,t)});l(this,"onReleaseShape",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onReleaseShape)==null||o.call(n,e,t)});l(this,"onDoubleClickShape",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onDoubleClickShape)==null||o.call(n,e,t)});l(this,"onRightPointShape",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onRightPointShape)==null||o.call(n,e,t)});l(this,"onDragShape",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDragShape)==null||o.call(n,e,t)});l(this,"onHoverShape",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onHoverShape)==null||o.call(n,e,t)});l(this,"onUnhoverShape",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onUnhoverShape)==null||o.call(n,e,t)});l(this,"onPointBounds",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onPointBounds)==null||o.call(n,e,t)});l(this,"onDoubleClickBounds",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onDoubleClickBounds)==null||o.call(n,e,t)});l(this,"onRightPointBounds",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onRightPointBounds)==null||o.call(n,e,t)});l(this,"onDragBounds",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDragBounds)==null||o.call(n,e,t)});l(this,"onHoverBounds",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onHoverBounds)==null||o.call(n,e,t)});l(this,"onUnhoverBounds",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onUnhoverBounds)==null||o.call(n,e,t)});l(this,"onReleaseBounds",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onReleaseBounds)==null||o.call(n,e,t)});l(this,"onPointBoundsHandle",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onPointBoundsHandle)==null||o.call(n,e,t)});l(this,"onDoubleClickBoundsHandle",(e,t)=>{var o,r;if(this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(r=(o=this.currentTool).onDoubleClickBoundsHandle)==null||r.call(o,e,t),this.selectedIds.length!==1)return;let n=this.getShape(this.selectedIds[0]);if(n.type==="image"||n.type==="video"){let a=this.document.assets[n.assetId],d=v.getShapeUtil(n),i=d.getCenter(n),c=d.getCenter(x(S({},n),{size:a.size})),u=Te.Vec.sub(c,i);this.updateShapes({id:n.id,point:Te.Vec.sub(n.point,u),size:a.size})}});l(this,"onRightPointBoundsHandle",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onRightPointBoundsHandle)==null||o.call(n,e,t)});l(this,"onDragBoundsHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDragBoundsHandle)==null||o.call(n,e,t)});l(this,"onHoverBoundsHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onHoverBoundsHandle)==null||o.call(n,e,t)});l(this,"onUnhoverBoundsHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onUnhoverBoundsHandle)==null||o.call(n,e,t)});l(this,"onReleaseBoundsHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onReleaseBoundsHandle)==null||o.call(n,e,t)});l(this,"onPointHandle",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onPointHandle)==null||o.call(n,e,t)});l(this,"onDoubleClickHandle",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onDoubleClickHandle)==null||o.call(n,e,t)});l(this,"onRightPointHandle",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onRightPointHandle)==null||o.call(n,e,t)});l(this,"onDragHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onDragHandle)==null||o.call(n,e,t)});l(this,"onHoverHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onHoverHandle)==null||o.call(n,e,t)});l(this,"onUnhoverHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onUnhoverHandle)==null||o.call(n,e,t)});l(this,"onReleaseHandle",(e,t)=>{var n,o;this.updateInputs(e,t),(o=(n=this.currentTool).onReleaseHandle)==null||o.call(n,e,t)});l(this,"onShapeChange",e=>{let t=this.document.pages[this.currentPageId].shapes,n=S(S({},t[e.id]),e),o=wa(this,[n],this.currentPageId).after;return this.patchState(o,"patched_shapes")});l(this,"onShapeBlur",()=>{var n,o;if(performance.now()-this.editingStartTime<50)return;let{editingId:e}=this.pageState,{isToolLocked:t}=this.getAppState();if(e){let r=this.getShape(e);this.setEditingId(),r.type==="text"&&(r.text.trim().length<=0?this.patchState(ma(this,[e]).after,"delete_empty_text"):t||this.select(e))}(o=(n=this.currentTool).onShapeBlur)==null||o.call(n)});l(this,"onShapeClone",(e,t)=>{var n,o;this.originPoint=this.getPagePoint(e.point).concat(e.pressure),this.updateInputs(e,t),(o=(n=this.currentTool).onShapeClone)==null||o.call(n,e,t)});l(this,"onRenderCountChange",e=>{let t=this.getAppState();t.isEmptyCanvas&&e.length>0?this.patchState({appState:{isEmptyCanvas:!1}},"empty_canvas:false"):!t.isEmptyCanvas&&e.length<=0&&this.patchState({appState:{isEmptyCanvas:!0}},"empty_canvas:true")});l(this,"onError",()=>{});l(this,"getShapeUtil",v.getShapeUtil);this.callbacks=t}setStatus(e){return this.patchState({appState:{status:e}},`set_status:${e}`)}get isMenuOpen(){return this.appState.isMenuOpen}get isLoading(){return this.appState.isLoading}get disableAssets(){return this.appState.disableAssets}get history(){return this.stack.slice(0,this.pointer+1)}set history(e){this.replaceHistory(e)}get document(){return this.state.document}get settings(){return this.state.settings}get appState(){return this.state.appState}get currentPageId(){return this.state.appState.currentPageId}get page(){return this.state.document.pages[this.currentPageId]}get shapes(){return Object.values(this.page.shapes)}get bindings(){return Object.values(this.page.bindings)}get assets(){return Object.values(this.document.assets)}get pageState(){return this.state.document.pageStates[this.currentPageId]}get camera(){return this.pageState.camera}get zoom(){return this.pageState.camera.zoom}get selectedIds(){return this.pageState.selectedIds}createTextShapeAtPoint(e,t,n){let{shapes:o,appState:{currentPageId:r,currentStyle:a}}=this,d=o.length===0?1:o.filter(p=>p.parentId===r).sort((p,m)=>m.childIndex-p.childIndex)[0].childIndex+1,i=En["text"],c=i.create({id:t||It.Utils.uniqueId(),parentId:r,childIndex:d,point:e,style:S({},a)}),u=i.getBounds(c);return c.point=Te.Vec.sub(c.point,[u.width/2,u.height/2]),n?this.patchCreate([v.getShapeUtil(c.type).create(c)]):this.createShapes(c),this.setEditingId(c.id,!0),this}getImageOrVideoShapeAtPoint(e,t,n,o,r){let{shapes:a,appState:{currentPageId:d,currentStyle:i}}=this,c=a.length===0?1:a.filter(m=>m.parentId===d).sort((m,h)=>h.childIndex-m.childIndex)[0].childIndex+1,u=En[t];if(o[0]>this.viewport.width){let m=o[1]/o[0];o[0]=this.viewport.width-128/this.camera.zoom*2,o[1]=o[0]*m,(o[1]<32||o[1]<32)&&(o[1]=32,o[0]=o[1]/m)}else if(o[1]>this.viewport.height){let m=o[0]/o[1];o[1]=this.viewport.height-128/this.camera.zoom*2,o[0]=o[1]*m,(o[1]<32||o[1]<32)&&(o[0]=32,o[1]=o[0]/m)}return u.create({id:e,parentId:d,childIndex:c,point:n,size:o,style:S({},i),assetId:r})}isSelected(e){return this.selectedIds.includes(e)}serializeVideo(e){let t=document.getElementById(e+"_video");if(t){let n=document.createElement("canvas");return n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}else throw new Error("Video with id "+e+" not found")}serializeImage(e){let t=document.getElementById(e+"_image");if(t){let n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}else throw new Error("Image with id "+e+" not found")}patchAssets(e){this.document.assets=S(S({},this.document.assets),e)}get room(){return this.state.room}get isLocal(){return this.state.room===void 0||this.state.room.id==="local"}get status(){return this.appState.status}get currentUser(){if(!!this.state.room)return this.state.room.users[this.state.room.userId]}get centerPoint(){let{width:e,height:t}=this.rendererBounds;return Te.Vec.toFixed([e/2,t/2])}get currentGrid(){let{zoom:e}=this.camera;return e<.15?8*16:e<1?8*4:8*1}},Ln=pt;l(Ln,"version",15.5),l(Ln,"defaultDocument",{id:"doc",name:"New Document",version:pt.version,pages:{page:{id:"page",name:"Page 1",childIndex:1,shapes:{},bindings:{}}},pageStates:{page:{id:"page",selectedIds:[],camera:{point:[0,0],zoom:1}}},assets:{}}),l(Ln,"defaultState",{settings:{isCadSelectMode:!1,isPenMode:!1,isDarkMode:!1,isZoomSnap:!1,isFocusMode:!1,isSnapping:!1,isDebugMode:!1,isReadonlyMode:!1,keepStyleMenuOpen:!1,nudgeDistanceLarge:16,nudgeDistanceSmall:1,showRotateHandles:!0,showBindingHandles:!0,showCloneHandles:!1,showGrid:!1,language:"en",dockPosition:"bottom",exportBackground:"transparent"},appState:{status:"idle",activeTool:"select",hoveredId:void 0,currentPageId:"page",currentStyle:ht,isToolLocked:!1,isMenuOpen:!1,isEmptyCanvas:!1,eraseLine:[],snapLines:[],isLoading:!1,disableAssets:!1},document:pt.defaultDocument}),l(Ln,"assetSrc","tldraw-assets.json");var Dwe={select:$s,erase:js,["text"]:Ws,["draw"]:Os,["ellipse"]:Fs,["rectangle"]:Gs,["triangle"]:Ks,["line"]:Vs,["arrow"]:zs,["sticky"]:Ns};var Rte=Fp.ErrorBoundary,Ate=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!1;function Lte({id:s,document:e,currentPageId:t,autofocus:n=!0,showMenu:o=!0,showMultiplayerMenu:r=!0,showPages:a=!0,showTools:d=!0,showZoom:i=!0,showStyles:c=!0,showUI:u=!0,readOnly:p=!1,disableAssets:m=!1,darkMode:h=Ate,components:g,onMount:f,onChange:T,onChangePresence:w,onNewProject:b,onSaveProject:y,onSaveProjectAs:P,onOpenProject:G,onOpenMedia:M,onUndo:k,onRedo:I,onPersist:Y,onPatch:le,onCommand:ae,onChangePage:Re,onAssetCreate:Ce,onAssetDelete:De,onAssetUpload:Ne,onSessionStart:We,onSessionEnd:Wt,onExport:hn,hideCursors:as}){let[Io,_s]=fe.useState(s),[Ke,Ys]=fe.useState(()=>new Ln(s,{onMount:f,onChange:T,onChangePresence:w,onNewProject:b,onSaveProject:y,onSaveProjectAs:P,onOpenProject:G,onOpenMedia:M,onUndo:k,onRedo:I,onPersist:Y,onPatch:le,onCommand:ae,onChangePage:Re,onAssetDelete:De,onAssetCreate:Ce,onAssetUpload:Ne,onSessionStart:We,onSessionEnd:Wt})),[Kn,ni]=fe.useState(null),[Un,ls]=fe.useState(null),[ds,Vp]=fe.useState(null),[Gp,_a]=fe.useState(null),$p=fe.useCallback((uo,Zs,Np,Wp)=>{_a(()=>uo),ni(()=>Wp),ls(()=>Zs),Vp(()=>Np)},[]);return fe.useLayoutEffect(()=>{if(s===Io)return;let uo=new Ln(s,{onMount:f,onChange:T,onChangePresence:w,onNewProject:b,onSaveProject:y,onSaveProjectAs:P,onOpenProject:G,onOpenMedia:M,onUndo:k,onRedo:I,onPersist:Y,onPatch:le,onCommand:ae,onChangePage:Re,onAssetDelete:De,onAssetCreate:Ce,onAssetUpload:Ne,onExport:hn,onSessionStart:We,onSessionEnd:Wt});_s(s),Ys(uo)},[Io,s]),fe.useEffect(()=>{!e||(e.id===Ke.document.id?Ke.updateDocument(e):Ke.loadDocument(e))},[e,Ke]),fe.useEffect(()=>{Ke.setDisableAssets(m)},[Ke,m]),fe.useEffect(()=>{!t||Ke.changePage(t)},[t,Ke]),fe.useEffect(()=>{Ke.readOnly=p,p||(Ke.selectNone(),Ke.cancelSession(),Ke.setEditingId())},[Ke,p]),fe.useEffect(()=>{h!==Ke.settings.isDarkMode&&Ke.toggleDarkMode()},[Ke,h]),fe.useEffect(()=>{Ke.callbacks={onMount:f,onChange:T,onChangePresence:w,onNewProject:b,onSaveProject:y,onSaveProjectAs:P,onOpenProject:G,onOpenMedia:M,onUndo:k,onRedo:I,onPersist:Y,onPatch:le,onCommand:ae,onChangePage:Re,onAssetDelete:De,onAssetCreate:Ce,onAssetUpload:Ne,onExport:hn,onSessionStart:We,onSessionEnd:Wt}},[f,T,w,b,y,P,G,M,k,I,Y,le,ae,Re,De,Ce,Ne,hn,We,Wt]),fe.useLayoutEffect(()=>{var Zs;if(typeof window=="undefined"||!((Zs=window.document)==null?void 0:Zs.fonts))return;function uo(){Ke.refreshBoundingBoxes()}return window.document.fonts.addEventListener("loadingdone",uo),()=>{window.document.fonts.removeEventListener("loadingdone",uo)}},[Ke]),fe.createElement(ai.Provider,{value:Ke},fe.createElement(di.Provider,{value:{onYes:Un,onCancel:Kn,onNo:ds,dialogState:Gp,setDialogState:_a,openDialog:$p}},fe.createElement(Hte,{key:Io||"Tldraw",id:Io,autofocus:n,showPages:a,showMenu:o,showMultiplayerMenu:r,showStyles:c,showZoom:i,showTools:d,showUI:u,readOnly:p,components:g,hideCursors:as})))}var Hte=fe.memo(function({id:e,autofocus:t,showPages:n,showMenu:o,showMultiplayerMenu:r,showZoom:a,showStyles:d,showTools:i,readOnly:c,showUI:u,components:p,hideCursors:m}){var Ke,Ys;let h=ue(),[g,f]=fe.useState(null),T=fe.useRef(null),w=h.useStore(),{document:b,settings:y,appState:P,room:G}=w,M=w.appState.activeTool==="select",k=b.pages[P.currentPageId],I=b.pageStates[k.id],Y=b.assets,{selectedIds:le}=I,ae=le.length===1&&k.shapes[le[0]]&&v.getShapeUtil(k.shapes[le[0]].type).hideBounds,Re=le.length===1&&k.shapes[le[0]]&&v.getShapeUtil(k.shapes[le[0]].type).hideResizeHandles,Ce=fe.useMemo(()=>({isDarkMode:y.isDarkMode}),[y.isDarkMode]),De=y.isCadSelectMode?!P.selectByContain:P.selectByContain,Ne=fe.useMemo(()=>{let{selectByContain:Kn}=P,{isDarkMode:ni,isCadSelectMode:Un}=y;if(ni){let ds=Un?Kn?"69, 155, 255":"105, 209, 73":"180, 180, 180";return{brushFill:`rgba(${ds}, ${Un?.08:.05})`,brushStroke:`rgba(${ds}, ${Un?.5:.25})`,brushDashStroke:`rgba(${ds}, .6)`,selected:"rgba(38, 150, 255, 1.000)",selectFill:"rgba(38, 150, 255, 0.05)",background:"#212529",foreground:"#49555f"}}let ls=Un?Kn?"0, 89, 242":"51, 163, 23":"0,0,0";return{brushFill:`rgba(${ls}, ${Un?.08:.05})`,brushStroke:`rgba(${ls}, ${Un?.4:.25})`,brushDashStroke:`rgba(${ls}, .6)`}},[y.isDarkMode,y.isCadSelectMode,P.selectByContain]),We=h.session!==void 0,Wt=We&&((Ke=h.session)==null?void 0:Ke.constructor.name)!=="BrushSession"||!M||ae||!!I.editingId,hn=We||!M,as=We&&w.appState.status!=="brushing"||!M,Io=We||!M||I.camera.zoom<.2,_s=Al(y.language);return fe.useLayoutEffect(()=>{let Kn=T.current;!Kn||(y.isDarkMode?Kn.classList.add(ri):Kn.classList.remove(ri))},[y.isDarkMode]),Wc(T),fe.createElement(li.Provider,{value:T},fe.createElement(jp.IntlProvider,{locale:_s.locale,messages:_s.messages},fe.createElement(Vl,{container:g}),fe.createElement(Ote,{ref:T,tabIndex:-0},fe.createElement(mi,null),fe.createElement(zte,{focusableRef:T,autofocus:t}),fe.createElement(Ll,null,fe.createElement(Rte,{FallbackComponent:Hl},fe.createElement(Op.Renderer,{id:e,containerRef:T,shapeUtils:En,page:k,pageState:I,assets:Y,snapLines:P.snapLines,eraseLine:P.eraseLine,grid:8,users:G==null?void 0:G.users,userId:G==null?void 0:G.userId,theme:Ne,meta:Ce,components:p,hideCursors:m,hideBounds:Wt,hideHandles:hn,hideResizeHandles:Re,hideIndicators:as,hideBindingHandles:!y.showBindingHandles,hideCloneHandles:Io,hideRotateHandles:!y.showRotateHandles,hideGrid:!y.showGrid,showDashedBrush:De,performanceMode:(Ys=h.session)==null?void 0:Ys.performanceMode,onPinchStart:h.onPinchStart,onPinchEnd:h.onPinchEnd,onPinch:h.onPinch,onPan:h.onPan,onZoom:h.onZoom,onPointerDown:h.onPointerDown,onPointerMove:h.onPointerMove,onPointerUp:h.onPointerUp,onPointCanvas:h.onPointCanvas,onDoubleClickCanvas:h.onDoubleClickCanvas,onRightPointCanvas:h.onRightPointCanvas,onDragCanvas:h.onDragCanvas,onReleaseCanvas:h.onReleaseCanvas,onPointShape:h.onPointShape,onDoubleClickShape:h.onDoubleClickShape,onRightPointShape:h.onRightPointShape,onDragShape:h.onDragShape,onHoverShape:h.onHoverShape,onUnhoverShape:h.onUnhoverShape,onReleaseShape:h.onReleaseShape,onPointBounds:h.onPointBounds,onDoubleClickBounds:h.onDoubleClickBounds,onRightPointBounds:h.onRightPointBounds,onDragBounds:h.onDragBounds,onHoverBounds:h.onHoverBounds,onUnhoverBounds:h.onUnhoverBounds,onReleaseBounds:h.onReleaseBounds,onPointBoundsHandle:h.onPointBoundsHandle,onDoubleClickBoundsHandle:h.onDoubleClickBoundsHandle,onRightPointBoundsHandle:h.onRightPointBoundsHandle,onDragBoundsHandle:h.onDragBoundsHandle,onHoverBoundsHandle:h.onHoverBoundsHandle,onUnhoverBoundsHandle:h.onUnhoverBoundsHandle,onReleaseBoundsHandle:h.onReleaseBoundsHandle,onPointHandle:h.onPointHandle,onDoubleClickHandle:h.onDoubleClickHandle,onRightPointHandle:h.onRightPointHandle,onDragHandle:h.onDragHandle,onHoverHandle:h.onHoverHandle,onUnhoverHandle:h.onUnhoverHandle,onReleaseHandle:h.onReleaseHandle,onError:h.onError,onRenderCountChange:h.onRenderCountChange,onShapeChange:h.onShapeChange,onShapeBlur:h.onShapeBlur,onShapeClone:h.onShapeClone,onBoundsChange:h.updateBounds,onKeyDown:h.onKeyDown,onKeyUp:h.onKeyUp,onDragOver:h.onDragOver,onDrop:h.onDrop}))),u&&fe.createElement(Fte,{ref:f},y.isFocusMode?fe.createElement(Ol,{onSelect:h.toggleFocusMode}):fe.createElement(fe.Fragment,null,fe.createElement($c,{readOnly:c,showPages:n,showMenu:o,showMultiplayerMenu:r,showStyles:d,showZoom:a}),fe.createElement(jte,null),i&&!c&&fe.createElement(vd,null))))))}),zte=fe.memo(function({focusableRef:e,autofocus:t}){return ol(e),fe.useEffect(()=>{var n;t&&((n=e.current)==null||n.focus())},[t]),null}),Ote=E("div",{position:"absolute",height:"100%",width:"100%",minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",outline:"none","& .tl-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1},"& input, textarea, button, select, label, button":{webkitTouchCallout:"none",webkitUserSelect:"none","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}}),Fte=E("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",padding:"8px 8px 0 8px",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pointerEvents:"none",zIndex:2,"& > *":{pointerEvents:"all"}}),jte=E("div",{flexGrow:2});module.exports=qp(Vte);
//# sourceMappingURL=index.js.map
